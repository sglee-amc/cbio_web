webpackJsonp([3],{1e3:function(t,e,n){var r,o=o||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in r,i=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},a=/constructor/i.test(t.HTMLElement)||t.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},s=function(t){var e=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};setTimeout(e,4e4)},c=function(t,e,n){e=[].concat(e);for(var r=e.length;r--;){var o=t["on"+e[r]];if("function"==typeof o)try{o.call(t,n||t)}catch(t){l(t)}}},f=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},d=function(e,l,d){d||(e=f(e));var p,h=this,m=e.type,v="application/octet-stream"===m,y=function(){c(h,"writestart progress write writeend".split(" "))};if(h.readyState=h.INIT,o)return p=n().createObjectURL(e),void setTimeout(function(){r.href=p,r.download=l,i(r),y(),s(p),h.readyState=h.DONE});!function(){if((u||v&&a)&&t.FileReader){var r=new FileReader;return r.onloadend=function(){var e=u?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,h.readyState=h.DONE,y()},r.readAsDataURL(e),void(h.readyState=h.INIT)}if(p||(p=n().createObjectURL(e)),v)t.location.href=p;else{t.open(p,"_blank")||(t.location.href=p)}h.readyState=h.DONE,y(),s(p)}()},p=d.prototype,h=function(t,e,n){return new d(t,e||t.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=f(t)),navigator.msSaveOrOpenBlob(t,e)}:(p.abort=function(){},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,h)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==t&&t.exports?t.exports.saveAs=o:null!==n(287)&&null!==n(874)&&void 0!==(r=function(){return o}.call(e,n,e,t))&&(t.exports=r)},1003:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=n(1),d=o(f),p=n(33),h=n(13),m=n(63),v=n(930),y=r(v),g=n(931),b=n(3),w=o(b),_=n(862),S=n(889),E=r(S),k=n(179),x=r(k),P=n(1004),O=n(863),C=r(O),A=n(877),T=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},I=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function u(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}l((r=r.apply(t,e||[])).next())})},j=function(t){function e(t){i(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.isTooltipHovered=!1,n.tooltipCounter=0,n.alteredLegendText="Cases with Alteration(s) in Query Gene(s)",n.unalteredLegendText="Cases without Alteration(s) in Query Gene(s)",n.svgsaver=new E.default,n.styleOptsDefaultProps={width:900,height:500,padding:{top:20,bottom:50,left:60,right:20},axis:{x:{axisLabel:{padding:35},grid:{opacity:0}},y:{axisLabel:{padding:45,fill:"black"},grid:{opacity:0}}},legend:{x:600,y:40}},n.tooltipMouseEnter=n.tooltipMouseEnter.bind(n),n.tooltipMouseLeave=n.tooltipMouseLeave.bind(n),n.downloadSvg=n.downloadSvg.bind(n),n.downloadPng=n.downloadPng.bind(n),n.downloadData=n.downloadData.bind(n),n}return u(e,t),s(e,[{key:"tooltipMouseEnter",value:function(){this.isTooltipHovered=!0}},{key:"tooltipMouseLeave",value:function(){this.isTooltipHovered=!1,this.tooltipModel=null}},{key:"downloadSvg",value:function(){this.svgsaver.asSvg(this.svgContainer.firstChild,this.props.fileName+".svg")}},{key:"downloadPng",value:function(){this.svgsaver.asPng(this.svgContainer.firstChild,this.props.fileName+".png")}},{key:"downloadData",value:function(){(0,x.default)((0,P.getDownloadContent)((0,P.getScatterData)(this.sortedAlteredPatientSurvivals,this.alteredEstimates),(0,P.getScatterData)(this.sortedUnalteredPatientSurvivals,this.unalteredEstimates),this.props.title,this.alteredLegendText,this.unalteredLegendText),this.props.fileName+".txt")}},{key:"render",value:function(){var t=this,e=[{target:"data",eventHandlers:{onMouseOver:function(){return[{target:"data",mutation:function(e){return t.tooltipModel=e,t.tooltipCounter++,{active:!0}}}]},onMouseOut:function(){return[{target:"data",mutation:function(){return I(t,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,g.sleep)(100);case 2:return this.isTooltipHovered||1!==this.tooltipCounter||(this.tooltipModel=null),this.tooltipCounter--,t.abrupt("return",{active:!1});case 5:case"end":return t.stop()}},t,this)}))}}]}}}];return d.createElement("div",{className:"posRelative",style:{width:this.styleOpts.width+20}},d.createElement("div",{className:"borderedChart","data-test":"SurvivalChart",style:{width:"100%"}},this.props.showDownloadButtons&&d.createElement("div",{className:"btn-group",style:{position:"absolute",zIndex:10,right:10},role:"group"},d.createElement("button",{className:"btn btn-default btn-xs",onClick:this.downloadSvg},"SVG ",d.createElement("i",{className:"fa fa-cloud-download"})),d.createElement("button",{className:"btn btn-default btn-xs",onClick:this.downloadPng},"PNG ",d.createElement("i",{className:"fa fa-cloud-download"})),d.createElement("button",{className:"btn btn-default btn-xs",onClick:this.downloadData},"Data ",d.createElement("i",{className:"fa fa-cloud-download"}))),d.createElement(_.VictoryChart,{containerComponent:d.createElement(_.VictoryContainer,{responsive:!1,containerRef:function(e){return t.svgContainer=e}}),height:this.styleOpts.height,width:this.styleOpts.width,padding:this.styleOpts.padding,theme:C.default},d.createElement(_.VictoryAxis,{style:this.styleOpts.axis.x,crossAxis:!1,tickCount:11,label:this.props.xAxisLabel}),d.createElement(_.VictoryAxis,{label:this.props.yAxisLabel,dependentAxis:!0,tickFormat:function(t){return t+"%"},tickCount:11,style:this.styleOpts.axis.y,domain:[0,100],crossAxis:!1}),d.createElement(_.VictoryLine,{interpolation:"stepAfter",data:(0,P.getLineData)(this.sortedAlteredPatientSurvivals,this.alteredEstimates),style:{data:{stroke:"red",strokeWidth:1}}}),d.createElement(_.VictoryLine,{interpolation:"stepAfter",data:(0,P.getLineData)(this.sortedUnalteredPatientSurvivals,this.unalteredEstimates),style:{data:{stroke:"blue",strokeWidth:1}}}),d.createElement(_.VictoryScatter,{data:(0,P.getScatterDataWithOpacity)(this.sortedAlteredPatientSurvivals,this.alteredEstimates),symbol:"plus",style:{data:{fill:"red",opacity:function(t){return t.opacity}}},size:3}),d.createElement(_.VictoryScatter,{data:(0,P.getScatterDataWithOpacity)(this.sortedUnalteredPatientSurvivals,this.unalteredEstimates),symbol:"plus",style:{data:{fill:"blue",opacity:function(t){return t.opacity}}},size:3}),d.createElement(_.VictoryScatter,{data:(0,P.getScatterData)(this.sortedAlteredPatientSurvivals,this.alteredEstimates),symbol:"circle",style:{data:{fill:"red",fillOpacity:function(t,e){return e?.3:0}}},size:10,events:e}),d.createElement(_.VictoryScatter,{data:(0,P.getScatterData)(this.sortedUnalteredPatientSurvivals,this.unalteredEstimates),symbol:"circle",style:{data:{fill:"blue",fillOpacity:function(t,e){return e?.3:0}}},size:10,events:e}),this.props.showLegend&&d.createElement(_.VictoryLegend,{x:this.styleOpts.legend.x,y:this.styleOpts.legend.y,data:[{name:this.alteredLegendText,symbol:{fill:"red",type:"square"}},{name:this.unalteredLegendText,symbol:{fill:"blue",type:"square"}},{name:"Logrank Test P-Value: "+(0,A.toConditionalPrecision)(this.logRank,3,.001),symbol:{opacity:0}}]}))),this.tooltipModel&&d.createElement(m.Popover,l({arrowOffsetTop:56,className:y.default.Tooltip,positionLeft:this.tooltipModel.x+15},{container:this},{positionTop:this.tooltipModel.y-60,onMouseEnter:this.tooltipMouseEnter,onMouseLeave:this.tooltipMouseLeave}),d.createElement("div",null,"Patient ID: ",d.createElement("a",{href:"/case.do#/patient?caseId="+this.tooltipModel.datum.patientId+"&studyId="+this.tooltipModel.datum.studyId,target:"_blank"},this.tooltipModel.datum.patientId),d.createElement("br",null),this.props.yLabelTooltip,": ",this.tooltipModel.datum.y.toFixed(2),"%",d.createElement("br",null),this.tooltipModel.datum.status?this.props.xLabelWithEventTooltip:this.props.xLabelWithoutEventTooltip,": ",this.tooltipModel.datum.x.toFixed(2)," months ",this.tooltipModel.datum.status?"":"(censored)")),this.props.showTable&&d.createElement("table",{className:"table table-striped",style:{marginTop:20,width:"100%"}},d.createElement("tbody",null,d.createElement("tr",null,d.createElement("td",null),d.createElement("td",null,this.props.totalCasesHeader),d.createElement("td",null,this.props.statusCasesHeader),d.createElement("td",null,this.props.medianMonthsHeader)),d.createElement("tr",null,d.createElement("td",null,this.alteredLegendText),(0,P.getStats)(this.sortedAlteredPatientSurvivals,this.alteredEstimates).map(function(t){return d.createElement("td",null,d.createElement("b",null,t))})),d.createElement("tr",null,d.createElement("td",null,this.unalteredLegendText),(0,P.getStats)(this.sortedUnalteredPatientSurvivals,this.unalteredEstimates).map(function(t){return d.createElement("td",null,d.createElement("b",null,t))})))))}},{key:"styleOpts",get:function(){var t=w.merge({},this.styleOptsDefaultProps,this.props.styleOpts);return t.padding.right=this.props.showLegend?300:t.padding.right,t.legend.x=t.width-t.padding.right,t}},{key:"sortedAlteredPatientSurvivals",get:function(){return this.props.alteredPatientSurvivals.sort(function(t,e){return t.months-e.months})}},{key:"sortedUnalteredPatientSurvivals",get:function(){return this.props.unalteredPatientSurvivals.sort(function(t,e){return t.months-e.months})}},{key:"alteredEstimates",get:function(){return(0,P.getEstimates)(this.sortedAlteredPatientSurvivals)}},{key:"unalteredEstimates",get:function(){return(0,P.getEstimates)(this.sortedUnalteredPatientSurvivals)}},{key:"logRank",get:function(){return(0,P.calculateLogRank)(this.sortedAlteredPatientSurvivals,this.sortedUnalteredPatientSurvivals)}}]),e}(d.Component);j.defaultProps={showTable:!0,showLegend:!0,showDownloadButtons:!0},T([h.observable],j.prototype,"tooltipModel",void 0),T([h.computed],j.prototype,"styleOpts",null),T([h.computed],j.prototype,"sortedAlteredPatientSurvivals",null),T([h.computed],j.prototype,"sortedUnalteredPatientSurvivals",null),T([h.computed],j.prototype,"alteredEstimates",null),T([h.computed],j.prototype,"unalteredEstimates",null),T([h.computed],j.prototype,"logRank",null),j=T([p.observer],j),e.default=j},1004:function(t,e,n){"use strict";function r(t){var e=[],n=1;return t.forEach(function(r,o){if(r.status){var i=t.length-o,a=n*((i-1)/i);n=a,e.push(a)}else e.push(n)}),e}function o(t,e){for(var n="NA",r=0;r<e.length;r++)if(e[r]<=.5){n=t[r].months.toString();break}return n}function i(t,e){var n=[];return n.push({x:0,y:100}),t.forEach(function(t,r){n.push({x:t.months,y:100*e[r]})}),n}function a(t,e){return t.map(function(t,n){return{x:t.months,y:100*e[n],patientId:t.patientId,studyId:t.studyId,status:t.status}})}function u(t,e){var n=a(t,e),r=[],o=void 0;return t.forEach(function(t,i){var a=e[i],u=1;o&&a!==o&&(u=0),o=a,r.push(Object.assign({},n[i],{opacity:u}))}),r}function l(t,e){return[t.length,t.filter(function(t){return!0===t.status}).length,o(t,e)]}function s(t,e){for(var n=0,r=0,o=0,i=0,a=0;n<t.length&&r<e.length;){var u=0,l=0,s=t.length-n,c=e.length-r,f=t[n],d=e[r];(f.months<d.months||f.months===d.months)&&(f.status&&(u=1),n+=1),(f.months>d.months||f.months===d.months)&&(d.status&&(l=1),r+=1);var p=u+l,m=s+c,v=s/m*p,y=p*(m-p)*s*c/(m*m*(m-1));o+=u,i+=v,a+=y}var g=(o-i)*(o-i)/a;return 1-h.default.chisquare.cdf(g,1)}function c(t,e,n,r,o){var i=n+"\n\n"+r+"\n";return i+=(0,d.tsvFormat)(f(t))+"\n\n"+o+"\n",i+=(0,d.tsvFormat)(f(e))}function f(t){var e=[];return t.map(function(n,r){e.push({"Case ID":n.patientId,"Study ID":n.studyId,"Number at Risk":t.length-r,Status:n.status?"deceased":"censored","Survival Rate":n.y/100,"Time (months)":n.x})}),e}Object.defineProperty(e,"__esModule",{value:!0}),e.getEstimates=r,e.getMedian=o,e.getLineData=i,e.getScatterData=a,e.getScatterDataWithOpacity=u,e.getStats=l,e.calculateLogRank=s,e.getDownloadContent=c,e.convertScatterDataToDownloadData=f;var d=n(932),p=n(906),h=function(t){return t&&t.__esModule?t:{default:t}}(p)},1005:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"d",function(){return a}),n.d(e,"a",function(){return u}),n.d(e,"b",function(){return l});var r=n(883),o=Object(r.a)(","),i=o.parse,a=o.parseRows,u=o.format,l=o.formatRows},1006:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"d",function(){return a}),n.d(e,"a",function(){return u}),n.d(e,"b",function(){return l});var r=n(883),o=Object(r.a)("\t"),i=o.parse,a=o.parseRows,u=o.format,l=o.formatRows},1056:function(t,e,n){"use strict";function r(t,e){return(void 0===t?"undefined":o(t))===i?e:t}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=r;var i="undefined"},1088:function(t,e){t.exports={portalWidth:"tables-module__portalWidth__2u2eA",table:"tables-module__table__HNw7a",title:"tables-module__title__2E1h-",body:"tables-module__body__1ejgt"}},1089:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.StudyViewPageStore=e.ClinicalDataType=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=n(3),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),c=n(91),f=n(65),d=r(f),p=n(17),h=r(p),m=n(13),v=n(306),y=n(1270),g=r(y),b=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},w=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function u(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}l((r=r.apply(t,e||[])).next())})},_=e.ClinicalDataType=void 0;!function(t){t.SAMPLE="SAMPLE",t.PATIENT="PATIENT"}(_||(e.ClinicalDataType=_={}));var S=e.StudyViewPageStore=function(){function t(){var e=this;i(this,t),this.studyViewClinicalDataCountsCache=new g.default,this.sampleAttrIds=[],this.patientAttrIds=[],this._clinicalDataEqualityFilterSet=m.observable.map(),this._attributeChartVisibility=m.observable.map(),this._initialized=!1,this.molecularProfiles=(0,c.remoteData)({invoke:function(){return w(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.default.getAllMolecularProfilesInStudyUsingGET({studyId:this.studyId});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}))},default:[]}),this.studyMetaData=(0,c.remoteData)({invoke:function(){return w(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h.default.getStudyUsingGET({studyId:this.studyId}));case 1:case"end":return t.stop()}},t,this)}))}}),this.clinicalAttributes=(0,c.remoteData)({invoke:function(){return h.default.getAllClinicalAttributesInStudyUsingGET({studyId:e.studyId})},default:[],onResult:function(t){t.forEach(function(t){e._attributeChartVisibility.set(t.clinicalAttributeId,!1)})}}),this.clinicalAttributeSet=(0,c.remoteData)({await:function(){return[e.clinicalAttributes]},invoke:function(){return Promise.resolve(s.keyBy(e.clinicalAttributes.result,function(t){return t.clinicalAttributeId}))}},{}),this.defaultVisibleAttributes=(0,c.remoteData)({await:function(){return[e.clinicalAttributes]},invoke:function(){return w(e,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n,r,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=[].concat(o(this.sampleAttrIds),o(this.patientAttrIds)),n=this.clinicalAttributes.result,s.isEmpty(e)||(n=this.clinicalAttributes.result.filter(function(t){return s.includes(e,t.clinicalAttributeId)})),r=0,i=0,a=[],n.forEach(function(t){t.patientAttribute?i<10&&(a.push(t),i++):r<10&&(a.push(t),r++)}),t.abrupt("return",a);case 8:case"end":return t.stop()}},t,this)}))},default:[],onResult:function(t){t.forEach(function(t){e._attributeChartVisibility.set(t.clinicalAttributeId,!0)})}}),this.initalClinicalDataCounts=(0,c.remoteData)({await:function(){return e.defaultVisibleAttributes.result.map(function(t){return e.studyViewClinicalDataCountsCache.get({attribute:t,filters:{}})})},invoke:function(){return w(e,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.reduce(this.defaultVisibleAttributes.result,function(t,n){return t[n.clinicalAttributeId]=e.studyViewClinicalDataCountsCache.get({attribute:n,filters:{}}).result,t},{}));case 1:case"end":return t.stop()}},t,this)}))},default:{},onResult:function(){e.initialized=!0}}),this.samples=(0,c.remoteData)({invoke:function(){return d.default.fetchSampleIdsUsingPOST({studyId:e.studyId,studyViewFilter:{}})},default:[]}),this.selectedSamples=(0,c.remoteData)({invoke:function(){return d.default.fetchSampleIdsUsingPOST({studyId:e.studyId,studyViewFilter:e.filters})},default:[]}),this.patientIds=(0,c.remoteData)({await:function(){return[e.samples]},invoke:function(){return w(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.uniq(this.samples.result.map(function(t){return t.patientId})));case 1:case"end":return t.stop()}},t,this)}))},default:[]}),this.selectedPatientIds=(0,c.remoteData)({await:function(){return[e.selectedSamples]},invoke:function(){return w(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.uniq(this.selectedSamples.result.map(function(t){return t.patientId})));case 1:case"end":return t.stop()}},t,this)}))},default:[]}),this.unSelectedPatientIds=(0,c.remoteData)({await:function(){return[e.patientIds,e.selectedPatientIds]},invoke:function(){return w(e,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.patientIds.result.filter(function(t){return!s.includes(e.selectedPatientIds.result,t)}));case 1:case"end":return t.stop()}},t,this)}))},default:[]}),this.mutatedGeneData=(0,c.remoteData)({invoke:function(){return w(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.isEmpty(this.mutationProfileIds)){t.next=4;break}return t.abrupt("return",d.default.fetchMutatedGenesUsingPOST({molecularProfileId:this.mutationProfileIds[0],studyViewFilter:this.filters}));case 4:return t.abrupt("return",[]);case 5:case"end":return t.stop()}},t,this)}))},default:[]}),this.cnaGeneData=(0,c.remoteData)({invoke:function(){return w(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.isEmpty(this.cnaProfileIds)){t.next=4;break}return t.abrupt("return",d.default.fetchCNAGenesUsingPOST({molecularProfileId:this.cnaProfileIds[0],studyViewFilter:this.filters}));case 4:return t.abrupt("return",[]);case 5:case"end":return t.stop()}},t,this)}))},default:[]}),this.survivalPlotData=(0,c.remoteData)({await:function(){return[e.survivalData,e.selectedPatientIds,e.unSelectedPatientIds]},invoke:function(){return w(e,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.survivalPlots.map(function(t){return t.alteredGroup=(0,v.getPatientSurvivals)(e.survivalData.result,e.selectedPatientIds.result,t.associatedAttrs[0],t.associatedAttrs[1],function(e){return-1!==t.filter.indexOf(e)}),t.unalteredGroup=(0,v.getPatientSurvivals)(e.survivalData.result,e.unSelectedPatientIds.result,t.associatedAttrs[0],t.associatedAttrs[1],function(e){return-1!==t.filter.indexOf(e)}),t}));case 1:case"end":return t.stop()}},t,this)}))},default:[]}),this.survivalData=(0,c.remoteData)({await:function(){return[e.patientIds]},invoke:function(){return w(e,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={attributeIds:s.flatten(this.survivalPlots.map(function(t){return t.associatedAttrs})),ids:this.patientIds.result},t.next=3,h.default.fetchAllClinicalDataInStudyUsingPOST({studyId:this.studyId,clinicalDataSingleStudyFilter:e,clinicalDataType:"PATIENT"});case 3:return n=t.sent,t.abrupt("return",s.groupBy(n,"patientId"));case 5:case"end":return t.stop()}},t,this)}))},default:{}})}return a(t,[{key:"updateClinicalDataEqualityFilters",value:function(t,e,n){var r=[e,t].join("_");if(n.length>0){var o={attributeId:t,clinicalDataType:e,values:n};this._clinicalDataEqualityFilterSet.set(r,o)}else this._clinicalDataEqualityFilterSet.delete(r)}},{key:"updateGeneFilter",value:function(t){var e=this._mutatedGeneFilter;e||(e={molecularProfileId:this.mutationProfileIds[0],entrezGeneIds:[]});var n=e.entrezGeneIds.indexOf(t);-1===n?e.entrezGeneIds.push(t):e.entrezGeneIds.splice(n,1),this._mutatedGeneFilter=e}},{key:"updateCNAGeneFilter",value:function(t,e){var n=this._cnaGeneFilter;n||(n={alterations:[],molecularProfileId:this.cnaProfileIds[0]});var r=-1;s.every(n.alterations,function(n,o){if(n.entrezGeneId===t&&n.alteration===e)return r=o,!1}),-1===r?n.alterations.push({entrezGeneId:t,alteration:e}):n.alterations.splice(r,1),this._cnaGeneFilter=n}},{key:"hideChart",value:function(t){this._attributeChartVisibility.set(t,!1)}},{key:"getMutatedGenesTableFilters",value:function(){return this._mutatedGeneFilter?this._mutatedGeneFilter.entrezGeneIds:[]}},{key:"getCNAGenesTableFilters",value:function(){return this._cnaGeneFilter?this._cnaGeneFilter.alterations:[]}},{key:"getClinicalDataEqualityFilters",value:function(t){var e=[t.patientAttribute?"PATIENT":"SAMPLE",t.clinicalAttributeId].join("_"),n=this._clinicalDataEqualityFilterSet.get(e);return s.isUndefined(n)?[]:n.values}},{key:"getPatientBySample",value:function(t){return{patientId:t.patientId,studyId:t.studyId,uniquePatientKey:t.patientId,uniqueSampleKey:t.sampleId}}},{key:"initialized",get:function(){return this._initialized},set:function(t){var e=this;!this._initialized&&t&&(s.forEach(this.initalClinicalDataCounts.result,function(t,n){(t.length<2||t.length>10)&&e.hideChart(n)}),this._initialized=!0)}},{key:"filters",get:function(){var t={},e=this._clinicalDataEqualityFilterSet.values();return e.length>0&&(t.clinicalDataEqualityFilters=e),this._mutatedGeneFilter&&this._mutatedGeneFilter.entrezGeneIds.length>0&&(t.mutatedGenes=[this._mutatedGeneFilter]),this._cnaGeneFilter&&this._cnaGeneFilter.alterations.length>0&&(t.cnaGenes=[this._cnaGeneFilter]),t}},{key:"mutationProfileIds",get:function(){return this.molecularProfiles.result.filter(function(t){return"MUTATION_EXTENDED"===t.molecularAlterationType}).map(function(t){return t.molecularProfileId})}},{key:"cnaProfileIds",get:function(){return this.molecularProfiles.result.filter(function(t){return"COPY_NUMBER_ALTERATION"===t.molecularAlterationType&&"DISCRETE"===t.datatype}).map(function(t){return t.molecularProfileId})}},{key:"visibleAttributes",get:function(){var t=this.clinicalAttributeSet.result;return s.reduce(this._attributeChartVisibility.toJS(),function(e,n,r){return n&&t[r]&&e.push(t[r]),e},[])}},{key:"survivalPlots",get:function(){var t=!1,e=!1,n=!1,r=!1,o=[];return this.clinicalAttributes.result.forEach(function(o){"OS_STATUS"===o.clinicalAttributeId?t=!0:"OS_MONTHS"===o.clinicalAttributeId?e=!0:"DFS_STATUS"===o.clinicalAttributeId?n=!0:"DFS_MONTHS"===o.clinicalAttributeId&&(r=!0)}),t&&e&&o.push({id:"os_survival",associatedAttrs:["OS_STATUS","OS_MONTHS"],filter:["DECEASED"],alteredGroup:[],unalteredGroup:[]}),n&&r&&o.push({id:"dfs_survival",associatedAttrs:["DFS_STATUS","DFS_MONTHS"],filter:["Recurred/Progressed","Recurred"],alteredGroup:[],unalteredGroup:[]}),o}}]),t}();b([m.observable],S.prototype,"studyId",void 0),b([m.observable],S.prototype,"sampleAttrIds",void 0),b([m.observable],S.prototype,"patientAttrIds",void 0),b([m.observable],S.prototype,"_mutatedGeneFilter",void 0),b([m.observable],S.prototype,"_cnaGeneFilter",void 0),b([m.observable],S.prototype,"_initialized",void 0),b([m.computed],S.prototype,"initialized",null),b([m.action],S.prototype,"updateClinicalDataEqualityFilters",null),b([m.action],S.prototype,"updateGeneFilter",null),b([m.action],S.prototype,"updateCNAGeneFilter",null),b([m.action],S.prototype,"hideChart",null),b([m.computed],S.prototype,"filters",null),b([m.computed],S.prototype,"mutationProfileIds",null),b([m.computed],S.prototype,"cnaProfileIds",null),b([m.computed],S.prototype,"visibleAttributes",null),b([m.computed],S.prototype,"survivalPlots",null)},1263:function(t,e){t.exports={portalWidth:"styles-module__portalWidth__3H61V",flexContainer:"styles-module__flexContainer__26J-m",survivalPlot:"styles-module__survivalPlot__A_oTl"}},1264:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.MutatedGenesTable=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=n(1),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(s),f=n(178),d=r(f),p=n(33),h=n(1088),m=r(h),v=n(864),y=r(v),g=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},b=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),e}(d.default),w=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),u(e,[{key:"render",value:function(){var t=this,e=this.props.data;this.props.numOfSelectedSamples;return c.createElement("div",{className:m.default.table},c.createElement("div",{className:m.default.title},"Mutated Genes"),c.createElement("div",{className:m.default.body},c.createElement(b,{initialItemsPerPage:10,showCopyDownload:!1,data:e,columns:[{name:"Gene",render:function(t){return c.createElement("span",null,t.hugoGeneSymbol)}},{name:"# Mut",render:function(t){return c.createElement("span",null,t.totalCount)}},{name:"#",render:function(e){return c.createElement(y.default,{checked:-1!==t.props.filters.indexOf(e.entrezGeneId),onChange:function(n){return t.props.toggleSelection(e.entrezGeneId)}},e.countByEntity)}},{name:"Freq",render:function(t){return c.createElement("span",null,t.frequency+"%")}}]})))}}]),e}(c.Component);e.MutatedGenesTable=w=g([p.observer],w),e.MutatedGenesTable=w},1265:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.CNAGenesTable=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=n(1),f=o(c),d=n(3),p=o(d),h=n(178),m=r(h),v=n(13),y=n(33),g=n(1088),b=r(g),w=n(864),_=r(w),S=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},E=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),e}(m.default),k=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),l(e,[{key:"isChecked",value:function(t,e){var n=!1;return p.every(this.props.filters,function(r,o){return r.entrezGeneId!==t||r.alteration!==e||(n=!0,!1)}),n}},{key:"render",value:function(){var t=this,e=this.props.data;this.props.numOfSelectedSamples;return f.createElement("div",{className:b.default.table},f.createElement("div",{className:b.default.title},"CNA Genes"),f.createElement("div",{className:b.default.body},f.createElement(E,{className:b.default.body,initialItemsPerPage:10,showCopyDownload:!1,data:e,columns:[{name:"Gene",render:function(t){return f.createElement("span",null,t.hugoGeneSymbol)}},{name:"Cytoband",render:function(t){return f.createElement("span",null,t.cytoband)}},{name:"CNA",render:function(t){return f.createElement("span",null,-2===t.alteration?"DEL":"AMP")}},{name:"#",render:function(e){return f.createElement(_.default,{checked:t.isChecked(e.entrezGeneId,e.alteration),onChange:function(n){return t.props.toggleSelection(e.entrezGeneId,e.alteration)}},e.countByEntity)}},{name:"Freq",render:function(t){return f.createElement("span",null,t.frequency+"%")}}]})))}}]),e}(f.Component);S([v.action],k.prototype,"isChecked",null),e.CNAGenesTable=k=S([y.observer],k),e.CNAGenesTable=k},1266:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ChartContainer=e.ChartType=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=n(1),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(s),f=n(1267),d=r(f),p=n(33),h=n(13),m=n(176),v=n(1268),y=n(1089),g=n(179),b=r(g),w=n(1271),_=r(w),S=n(905),E=r(S),k=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},x=e.ChartType=void 0;!function(t){t.PIE_CHART="PIE_CHART",t.BAR_CHART="BAR_CHART",t.SURVIVAL="SURVIVAL",t.TABLE="TABLE",t.SCATTER="SCATTER"}(x||(e.ChartType=x={}));var P=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.mouseInPlot=!1;var r=t.clinicalAttribute.displayName.replace(/[ \t]/g,"_"),a=n.props.clinicalAttribute.patientAttribute?y.ClinicalDataType.PATIENT:y.ClinicalDataType.SAMPLE;return n.handlers={ref:function(t){n.plot=t},resetFilters:(0,h.action)(function(){n.props.onUserSelection(n.props.clinicalAttribute.clinicalAttributeId,a,[])}),onUserSelection:(0,h.action)(function(t){n.props.onUserSelection(n.props.clinicalAttribute.clinicalAttributeId,a,t)}),onMouseEnterPlot:(0,h.action)(function(){n.mouseInPlot=!0}),onMouseLeavePlot:(0,h.action)(function(){n.mouseInPlot=!1}),handleDownloadDataClick:function(){var t=n.props.clinicalAttribute.displayName+"\tCount";(0,b.default)(t+"\n"+n.plot.downloadData(),r)},handleSVGClick:function(){(0,b.default)((new XMLSerializer).serializeToString(n.toSVGDOMNode()),r+".svg")},handlePDFClick:function(){(0,E.default)(r+".pdf",n.toSVGDOMNode())}},n}return a(e,t),u(e,[{key:"toSVGDOMNode",value:function(){return this.plot?this.plot.toSVGDOMNode():document.createElementNS("http://www.w3.org/2000/svg","svg")}},{key:"render",value:function(){return c.createElement(m.If,{condition:this.isChartVisible},c.createElement("div",{className:d.default.chart,onMouseEnter:this.handlers.onMouseEnterPlot,onMouseLeave:this.handlers.onMouseLeavePlot},c.createElement(v.ChartHeader,{clinicalAttribute:this.props.clinicalAttribute,showControls:this.mouseInPlot,showResetIcon:this.props.filters.length>0,handleResetClick:this.handlers.resetFilters}),c.createElement(m.If,{condition:this.props.chartType===x.PIE_CHART},c.createElement(_.default,{ref:this.handlers.ref,onUserSelection:this.handlers.onUserSelection,filters:this.props.filters,data:this.data}))))}},{key:"showPieControlIcon",get:function(){return"STRING"===this.props.clinicalAttribute.datatype&&this.props.chartType===x.TABLE}},{key:"showTableControlIcon",get:function(){return this.props.chartType===x.PIE_CHART&&"STRING"===this.props.clinicalAttribute.datatype}},{key:"isChartVisible",get:function(){return this.props.chartType===x.PIE_CHART&&"STRING"===this.props.clinicalAttribute.datatype}},{key:"data",get:function(){return this.props.promise.result||[]}}]),e}(c.Component);k([h.observable],P.prototype,"mouseInPlot",void 0),k([h.computed],P.prototype,"showPieControlIcon",null),k([h.computed],P.prototype,"showTableControlIcon",null),k([h.computed],P.prototype,"isChartVisible",null),k([h.computed],P.prototype,"data",null),e.ChartContainer=P=k([p.observer],P),e.ChartContainer=P},1267:function(t,e){t.exports={portalWidth:"styles-module__portalWidth__1-dsc",chart:"styles-module__chart__RXir-"}},1268:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ChartHeader=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u);n(1269);var s=n(176);e.ChartHeader=function(t){function e(t){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return i(e,t),a(e,[{key:"render",value:function(){var t=this;return l.createElement("div",{className:"studyViewPageChartHeader"},l.createElement("div",{className:"name"},l.createElement("span",null,this.props.clinicalAttribute.displayName)),l.createElement("div",{className:"controls"},l.createElement(s.If,{condition:this.props.showControls},l.createElement("div",{role:"group",className:"btn-group"},l.createElement(s.If,{condition:!!this.props.showResetIcon},l.createElement("button",{className:"btn btn-xs",onClick:function(){return t.props.handleResetClick()}},l.createElement("i",{className:"fa fa-undo","aria-hidden":"true",title:"Reset filters in chart"}))),l.createElement("button",{className:"btn btn-xs"},l.createElement("i",{className:"fa fa-info-circle","aria-hidden":"true",title:this.props.clinicalAttribute.description}))))))}}]),e}(l.Component)},1269:function(t,e){},1270:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){return d(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.default.fetchClinicalDataCountsUsingPOST({studyId:t.attribute.studyId,attributeId:t.attribute.clinicalAttributeId,clinicalDataType:t.attribute.patientAttribute?"PATIENT":"SAMPLE",studyViewFilter:t.filters});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))}Object.defineProperty(e,"__esModule",{value:!0});var l=n(126),s=r(l),c=n(65),f=r(c),d=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function u(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,u)}l((r=r.apply(t,e||[])).next())})},p=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,function(t){return{invoke:function(){return u(t)}}},function(t){return JSON.stringify(t)}))}return a(e,t),e}(s.default);e.default=p},1271:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=n(1),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(s),f=n(33),d=n(862),p=n(13),h=n(3),m=r(h),v=n(1272),y=n(863),g=r(y),b=n(1056),w=r(b),_=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},S=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.colorSet={},n}return a(e,t),u(e,[{key:"downloadData",value:function(){return this.props.data.map(function(t){return t.value+"\t"+t.count}).join("\n")}},{key:"toSVGDOMNode",value:function(){return this.svgContainer.firstChild}},{key:"render",value:function(){var t=this;return c.createElement(d.VictoryPie,{containerComponent:c.createElement(d.VictoryContainer,{theme:g.default,standalone:!1,containerRef:function(e){return t.svgContainer=e}}),width:190,height:185,labelRadius:30,padding:30,labels:function(e){return 360*e.y/t.totalCount<20?"":e.y},data:this.annotatedData,dataComponent:c.createElement(E,null),events:this.userEvents,labelComponent:c.createElement(d.VictoryLabel,null),style:{data:{fill:function(t){return(0,w.default)(t.fill,"0x000000")},stroke:function(t){return(0,w.default)(t.stroke,"0x000000")},strokeWidth:function(t){return(0,w.default)(t.strokeWidth,0)},fillOpacity:function(t){return(0,w.default)(t.fillOpacity,1)}},labels:{fill:"white"}},x:"value",y:"count"})}},{key:"userEvents",get:function(){var t=this;return[{target:"data",eventHandlers:{onClick:function(){return[{target:"data",mutation:function(e){var n=t.props.filters;m.default.includes(n,e.datum.x)?n=m.default.filter(n,function(t){return t!==e.datum.x}):n.push(e.datum.x),t.props.onUserSelection(n)}}]}}}]}},{key:"totalCount",get:function(){return m.default.sumBy(this.props.data,function(t){return t.count})}},{key:"annotatedData",get:function(){var t=this;return this.props.data.map(function(e){var n=t.colorSet[e.value];return m.default.isUndefined(n)&&(n=e.value.toLowerCase().includes("na")?v.NA_COLOR:v.COLORS[Object.keys(t.colorSet).length],t.colorSet[e.value]=n),m.default.isEmpty(t.props.filters)?Object.assign({},e,{fill:n}):m.default.includes(t.props.filters,e.value)?Object.assign({},e,{fill:n,stroke:"#cccccc",strokeWidth:3}):Object.assign({},e,{fill:v.UNSELECTED_COLOR,fillOpacity:"0.5"})})}}]),e}(c.Component);_([p.computed],S.prototype,"totalCount",null),_([p.computed],S.prototype,"annotatedData",null),S=_([f.observer],S),e.default=S;var E=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),u(e,[{key:"render",value:function(){var t=this.props;return c.createElement("g",null,c.createElement(d.Slice,this.props),c.createElement("title",null,t.datum.x+":"+t.datum.y))}}]),e}(c.Component)},1272:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.COLORS=["#2986e2","#dc3912","#f88508","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac","#b77322","#16d620","#b91383","#f4359e","#9c5935","#a9c413","#2a778d","#668d1c","#bea413","#0c5922","#743411","#743440","#9986e2","#6c3912","#788508","#609618","#790099","#5099c6","#2d4477","#76aa00","#882e2e","#916395","#794499","#92aa99","#2aaa11","#5633cc","#667300","#100707","#751067","#229262","#4574a6","#103eac","#177322","#66d620","#291383","#94359e","#5c5935","#29c413","#6a778d","#868d1c","#5ea413","#6c5922","#243411","#103440","#2886e2","#d93912","#f28508","#110618","#970099","#0109c6","#d10477","#68aa00","#b12e2e","#310395","#944499","#24aa99","#a4aa11","#6333cc","#e77300","#820707","#610067","#339262","#5874a6","#313eac","#b67322","#13d620","#b81383","#f8359e","#935935","#a10413","#29778d","#678d1c","#b2a413","#075922","#763411","#773440","#2996e2","#dc4912","#f81508","#104618","#991099","#0049c6","#dd2477","#663a00","#b84e2e","#312395","#993499","#223a99","#aa1a11","#6673cc","#e66300","#8b5707","#656067","#323262","#5514a6","#3b8eac","#b71322","#165620","#b99383","#f4859e","#9c4935","#a91413","#2a978d","#669d1c","#be1413","#0c8922","#742411","#744440","#2983e2","#dc3612","#f88808","#109518","#990599","#0092c6","#dd4977","#66a900","#b8282e","#316295","#994199","#22a499","#aaa101","#66310c","#e67200","#8b0907","#651167","#329962","#5573a6","#3b37ac","#b77822","#16d120","#b91783","#f4339e","#9c5105","#a9c713","#2a710d","#66841c","#bea913","#0c5822","#743911","#743740","#298632","#dc3922","#f88588","#109658","#990010","#009916","#dd4447","#66aa60","#b82e9e","#316365","#994489","#22aa69","#aaaa51","#66332c","#e67390","#8b0777","#651037","#329232","#557486","#3b3e4c","#b77372","#16d690","#b91310","#f4358e","#9c5910","#a9c493","#2a773d","#668d5c","#bea463","#0c5952","#743471","#743450","#2986e3","#dc3914","#f88503","#109614","#990092","#0099c8","#dd4476","#66aa04","#b82e27","#316397","#994495","#22aa93","#aaaa14","#6633c1","#e67303","#8b0705","#651062","#329267","#5574a1","#3b3ea5"],e.NA_COLOR="#CCCCCC",e.UNSELECTED_COLOR="#808080"},840:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":u(e))&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":u(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s="function"==typeof Symbol&&"symbol"===u(Symbol.iterator)?function(t){return void 0===t?"undefined":u(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":u(t)},c=n(1),f=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(c),d=n(33),p=n(1263),h=r(p),m=n(1264),v=n(1265),y=n(1266),g=n(1003),b=r(g),w=n(873),_=n(1089),S=n(13),E=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},k=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.renderAttributeChart=function(t){var e=n.store.studyViewClinicalDataCountsCache.get({attribute:t,filters:n.store.filters}),r=n.store.getClinicalDataEqualityFilters(t);return f.createElement(y.ChartContainer,{chartType:y.ChartType.PIE_CHART,clinicalAttribute:t,onUserSelection:n.handlers.onUserSelection,key:t.clinicalAttributeId,promise:e,filters:r})},n.renderSurvivalPlot=function(t){return f.createElement("div",{className:h.default.survivalPlot},f.createElement(b.default,{alteredPatientSurvivals:t.alteredGroup,unalteredPatientSurvivals:t.unalteredGroup,title:"test",xAxisLabel:"Months Survival",yAxisLabel:"Overall Survival",totalCasesHeader:"Number of Cases, Total",statusCasesHeader:"Number of Cases, Deceased",medianMonthsHeader:"Median Months Survival",yLabelTooltip:"Survival estimate",xLabelWithEventTooltip:"Time of death",xLabelWithoutEventTooltip:"Time of last observation",showDownloadButtons:!1,showTable:!1,showLegend:!1,styleOpts:{width:450,height:300},fileName:"Overall_Survival"}))},n.store=new _.StudyViewPageStore,n.handlers={onUserSelection:function(t,e,r){n.store.updateClinicalDataEqualityFilters(t,e,r)},updateGeneFilter:function(t){n.store.updateGeneFilter(t)},updateCNAGeneFilter:function(t,e){n.store.updateCNAGeneFilter(t,e)}},(0,S.reaction)(function(){return t.routing.location.query},function(t){"studyId"in t&&(n.store.studyId=t.studyId,n.store.sampleAttrIds="sampleAttrIds"in t?t.sampleAttrIds.split(","):[],n.store.patientAttrIds="patientAttrIds"in t?t.patientAttrIds.split(","):[])},{fireImmediately:!0}),n}return a(e,t),l(e,[{key:"render",value:function(){var t=this.store.mutatedGeneData.result,e=this.store.cnaGeneData.result,n=this.store.studyMetaData.result;return f.createElement("div",{className:"studyView"},f.createElement("div",{className:"topBanner"},this.store.studyMetaData.isComplete&&f.createElement("div",{className:"studyViewHeader"},f.createElement("h3",null,n.name),f.createElement("p",{dangerouslySetInnerHTML:{__html:n.description}}))),f.createElement(w.MSKTabs,{id:"studyViewTabs",activeTabId:this.props.routing.location.query.tab,className:"mainTabs"},f.createElement(w.MSKTab,{key:0,id:"summaryTab",linkText:"Summary"},this.store.defaultVisibleAttributes.isComplete&&this.store.initalClinicalDataCounts.isComplete&&this.store.initialized&&f.createElement("div",{className:h.default.flexContainer},this.store.visibleAttributes.map(this.renderAttributeChart)),f.createElement("div",{className:h.default.flexContainer},this.store.survivalPlotData.result.map(this.renderSurvivalPlot)),f.createElement("div",{className:h.default.flexContainer},this.store.mutatedGeneData.isComplete&&f.createElement(m.MutatedGenesTable,{data:t,numOfSelectedSamples:100,filters:this.store.getMutatedGenesTableFilters(),toggleSelection:this.handlers.updateGeneFilter}),this.store.cnaGeneData.isComplete&&f.createElement(v.CNAGenesTable,{data:e,numOfSelectedSamples:100,filters:this.store.getCNAGenesTableFilters(),toggleSelection:this.handlers.updateCNAGeneFilter})))))}}]),e}(f.Component);k=E([(0,d.inject)("routing"),d.observer],k),e.default=k},862:function(t,e,n){t.exports=n(6)(715)},863:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.axisLabelStyles=e.baseLabelStyles=void 0;var r=n(3),o=["#F4511E","#FFF59D","#DCE775","#8BC34A","#00796B","#006064"],i={fontFamily:"Arial, Helvetica",width:350,height:350,padding:50},a=e.baseLabelStyles={fontFamily:"Arial, Helvetica",fontSize:12,letterSpacing:"normal",padding:8,stroke:"transparent",strokeWidth:0},u=(0,r.assign)({textAnchor:"middle"},a),l=e.axisLabelStyles=(0,r.assign)({},a,{fontSize:13,padding:8}),s={area:(0,r.assign)({style:{data:{fill:"#212121"},labels:u}},i),axis:(0,r.assign)({style:{axis:{fill:"transparent",stroke:"black",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round"},axisLabel:(0,r.assign)({},u,l),grid:{fill:"none",stroke:"#ECEFF1",strokeDasharray:"10, 5",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"visible"},ticks:{fill:"transparent",size:4,stroke:"black",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round"},tickLabels:(0,r.assign)({},a,{fill:"black",padding:2})}},i),bar:(0,r.assign)({style:{data:{fill:"#455A64",padding:8,strokeWidth:0},labels:a}},i),candlestick:(0,r.assign)({style:{data:{stroke:"#455A64"},labels:u},candleColors:{positive:"#ffffff",negative:"#455A64"}},i),chart:i,errorbar:(0,r.assign)({borderWidth:8,style:{data:{fill:"transparent",opacity:1,stroke:"#455A64",strokeWidth:2},labels:u}},i),group:(0,r.assign)({colorScale:o},i),line:(0,r.assign)({style:{data:{fill:"transparent",opacity:1,stroke:"#455A64",strokeWidth:2},labels:u}},i),pie:(0,r.assign)({colorScale:o,style:{data:{padding:8,stroke:"#ECEFF1",strokeWidth:1},labels:(0,r.assign)({},a,{padding:20})}},i),scatter:(0,r.assign)({style:{data:{fill:"#455A64",opacity:1,stroke:"transparent",strokeWidth:0},labels:u}},i),stack:(0,r.assign)({colorScale:o},i),tooltip:{style:(0,r.assign)({},u,{padding:5,pointerEvents:"none"}),flyoutStyle:{stroke:"#212121",strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"},cornerRadius:5,pointerLength:10},voronoi:(0,r.assign)({style:{data:{fill:"transparent",stroke:"transparent",strokeWidth:0},labels:(0,r.assign)({},u,{padding:5,pointerEvents:"none"}),flyout:{stroke:"#212121",strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"}}},i),legend:{colorScale:o,gutter:10,orientation:"vertical",titleOrientation:"top",style:{data:{type:"circle",size:3,strokeWidth:1,stroke:"black"},labels:a,title:(0,r.assign)({},a,{padding:5})}}};e.default=s},864:function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(1),c=r(s),f=n(909),d=r(f),p=n(174),h=function(t){return t&&t.__esModule?t:{default:t}}(p),m=d,v=function(t){function e(){o(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.handleInputRef=function(e){t.input=e,t.props.inputProps&&"function"==typeof t.props.inputProps.ref&&t.props.inputProps.ref(e)},t}return a(e,t),l(e,[{key:"componentDidMount",value:function(){this.input.indeterminate=!!this.props.indeterminate}},{key:"componentDidUpdate",value:function(){this.input.indeterminate=!!this.props.indeterminate}},{key:"render",value:function(){var t=this.props.labelProps&&this.props.labelProps.className,e=(0,h.default)(m.labeledCheckbox,t);return c.createElement("label",u({className:e},this.props.labelProps),c.createElement("input",u({type:"checkbox",checked:this.props.checked,onChange:this.props.onChange,disabled:this.props.disabled},this.props.inputProps,{ref:this.handleInputRef})),this.props.children)}}]),e}(c.Component);e.default=v},873:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.MSKTabs=e.MSKTab=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(1),c=o(s),f=n(3),d=o(f),p=n(174),h=r(p),m=n(177),v=n(901),y=r(v);n(904);e.MSKTab=function(t){function e(t){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return u(e,t),l(e,[{key:"render",value:function(){return c.createElement("div",{className:(0,h.default)({"msk-tab":!0,hiddenByPosition:!!this.props.inactive},this.props.className)},this.props.children)}}]),e}(c.Component),e.MSKTabs=function(t){function e(){i(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.shownTabs=[],t.tabRefs=[],t.state={currentPage:1,pageBreaks:[]},t}return u(e,t),l(e,[{key:"cloneTab",value:function(t,e,n){return n?c.cloneElement(t,{inactive:e},c.createElement(m.ThreeBounce,{className:"default-spinner center-block text-center"})):c.cloneElement(t,{inactive:e})}},{key:"setActiveTab",value:function(t){this.props.onTabClick&&this.props.onTabClick(t)}},{key:"navTabsRefHandler",value:function(t){this.navTabsRef=t}},{key:"tabRefHandler",value:function(t,e){t&&e&&this.tabRefs.push({id:t,element:e})}},{key:"nextPage",value:function(){this.setState({currentPage:this.state.currentPage+1})}},{key:"prevPage",value:function(){this.setState({currentPage:this.state.currentPage-1})}},{key:"initOnResize",value:function(t,e){var n=this,r=null;return function(t){null!==r&&(window.clearTimeout(r),r=null),r=window.setTimeout(function(){n.setState({currentPage:1,pageBreaks:[]})},600)}}},{key:"render",value:function(){var t=this;if(this.props.children&&c.Children.count(this.props.children)){var e=this.props.children,n=!1,r="",o=c.Children.toArray(e),i=d.reduce(o,function(e,o){return o.props.hide||(o.props.id===t.props.activeTabId?(n=!0,r=t.props.activeTabId,t.shownTabs.push(o.props.id),e.push(t.cloneTab(o,!1,!!o.props.loading))):t.props.unmountOnHide||!d.includes(t.shownTabs,o.props.id)||o.props.loading||e.push(t.cloneTab(o,!0,!!o.props.loading))),e},[]);if(!1===n){var a=o[0];this.shownTabs.push(a.props.id),i[0]=this.cloneTab(a,!1,!!a.props.loading),r=a.props.id}return c.createElement("div",{id:this.props.id?this.props.id:"",className:(0,h.default)("msk-tabs",this.props.className)},this.navTabs(e,r),c.createElement("div",{className:"tab-content"},i))}return null}},{key:"navTabs",value:function(t,e){this.tabRefs=[];var n=this.tabPages(t,e),r=this.state.pageBreaks.length+1,o=this.props.enablePagination?{border:0,overflow:"hidden"}:{},i=this.state.currentPage>1?c.createElement("li",{key:"prevPage",style:{cursor:"pointer"}},c.createElement("a",{onClick:this.prevPage.bind(this)},c.createElement("i",{className:"fa fa-chevron-left",style:this.props.arrowStyle}))):null,a=this.state.currentPage<r?c.createElement("li",{key:"nextPage",style:{cursor:"pointer"}},c.createElement("a",{onClick:this.nextPage.bind(this)},c.createElement("i",{className:"fa fa-chevron-right",style:this.props.arrowStyle}))):null,u=this.props.tabButtonStyle||"tabs";return c.createElement("ul",{ref:this.navTabsRefHandler.bind(this),className:(0,h.default)("nav","nav-"+u),style:o},i,n[this.state.currentPage-1],a,this.props.enablePagination&&c.createElement(y.default,{handleWidth:!0,onResize:this.initOnResize.bind(this)()}))}},{key:"tabPages",value:function(t,e){var n=this,r=[[]],o=1;return c.Children.forEach(t,function(t){if(!(!t||t.props.hide||t.props.loading&&e!==t.props.id)){var i=e===t.props.id?"active":"";n.props.enablePagination&&n.state.pageBreaks.length>0&&n.state.pageBreaks[o-1]===t.props.id&&(o++,r[o-1]=[]),r[o-1].push(c.createElement("li",{key:t.props.id,style:{cursor:"pointer"},ref:n.tabRefHandler.bind(n,t.props.id),className:i},c.createElement("a",{onClick:n.setActiveTab.bind(n,t.props.id),style:t.props.anchorStyle},t.props.linkText)))}}),r}},{key:"componentDidMount",value:function(){var t=this;setTimeout(function(){if(t.props.enablePagination&&0===t.state.pageBreaks.length){var e=t.findPageBreaks(),n=t.findCurrentPage(e);t.setState({currentPage:n,pageBreaks:e})}},1)}},{key:"findCurrentPage",value:function(t){var e=this,n=1,r=!1;return this.props.activeTabId&&t.length>0&&d.each(this.tabRefs,function(o){if(o.id===t[n-1]&&n++,o.id===e.props.activeTabId)return r=!0,!1}),r?n:1}},{key:"findPageBreaks",value:function(){var t=[],e=this.navTabsRef&&this.navTabsRef.offsetWidth||0;if(e>0){var n=0;d.each(this.tabRefs,function(r){n+=r.element.offsetWidth;var o=t.length>0?160:100;n>e-o&&(t.push(r.id),n=r.element.offsetWidth)})}return t}}]),e}(c.Component)},874:function(t,e){(function(e){t.exports=e}).call(e,{})},877:function(t,e,n){"use strict";function r(t,e,n){return 1e-6<=t&&t<n?t.toExponential(e):t.toPrecision(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.toConditionalPrecision=r},883:function(t,e,n){"use strict";function r(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function o(t,e){var n=r(t);return function(r,o){return e(n(r),o,t)}}function i(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}var a={},u={},l=34,s=10,c=13;e.a=function(t){function e(t,e){var i,a,u=n(t,function(t,n){if(i)return i(t,n-1);a=t,i=e?o(t,e):r(t)});return u.columns=a||[],u}function n(t,e){function n(){if(p)return u;if(h)return h=!1,a;var e,n,r=f;if(t.charCodeAt(r)===l){for(;f++<i&&t.charCodeAt(f)!==l||t.charCodeAt(++f)===l;);return(e=f)>=i?p=!0:(n=t.charCodeAt(f++))===s?h=!0:n===c&&(h=!0,t.charCodeAt(f)===s&&++f),t.slice(r+1,e-1).replace(/""/g,'"')}for(;f<i;){if((n=t.charCodeAt(e=f++))===s)h=!0;else if(n===c)h=!0,t.charCodeAt(f)===s&&++f;else if(n!==v)continue;return t.slice(r,e)}return p=!0,t.slice(r,i)}var r,o=[],i=t.length,f=0,d=0,p=i<=0,h=!1;for(t.charCodeAt(i-1)===s&&--i,t.charCodeAt(i-1)===c&&--i;(r=n())!==u;){for(var m=[];r!==a&&r!==u;)m.push(r),r=n();e&&null==(m=e(m,d++))||o.push(m)}return o}function f(e,n){return null==n&&(n=i(e)),[n.map(h).join(t)].concat(e.map(function(e){return n.map(function(t){return h(e[t])}).join(t)})).join("\n")}function d(t){return t.map(p).join("\n")}function p(e){return e.map(h).join(t)}function h(t){return null==t?"":m.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var m=new RegExp('["'+t+"\n\r]"),v=t.charCodeAt(0);return{parse:e,parseRows:n,format:f,formatRows:d}}},889:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return!!k(t)&&(S(window)&&k(window.Node)?t instanceof window.Node:"number"==typeof t.nodeType&&"string"==typeof t.nodeName)}function a(t,e,n){!0!==e&&Array.prototype.slice.call(t.attributes).forEach(function(r){r.specified&&(""===e||!1===e||E(n[r.name])&&e.indexOf(r.name)<0)&&t.removeAttribute(r.name)})}function u(t,e){e=e||t.parentNode.style,w.forEach(function(n){t.style[n]===e[n]&&t.style.removeProperty(n)})}function l(t,e,n,r){n(t,e);for(var o=t.childNodes,i=0;i<o.length;i++)l(o[i],e.childNodes[i],n,r);r(t,e)}function s(t,e,n){var r=t.cloneNode(!0);return l(t,r,function(t,e){e.style&&(0,m.default)(t,e.style,n)},function(t,r){r.style&&r.parentNode&&u(r),r.attributes&&a(r,e,n)}),r}function c(t,e){if(x){var n=document.createElement("a");return n.setAttribute("href",t),n.setAttribute("download",e),n.dispatchEvent(new MouseEvent("click")),!0}return"undefined"!=typeof window&&(window.open(t,"_blank",""),!0)}function f(t,e,n){var r=document.createElement("canvas"),o=r.getContext("2d"),i=new Image;return i.onload=function(){r.width=i.width,r.height=i.height,o.drawImage(i,0,0),n(r)},i.src=t,!0}function d(t,e){return f(t,e,function(t){S(t.toBlob)?t.toBlob(function(t){y.default.saveAs(t,e)}):c(t.toDataURL("image/png"),e)})}Object.defineProperty(e,"__esModule",{value:!0});var p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=n(999),m=r(h),v=n(1e3),y=r(v),g={"alignment-baseline":"auto","baseline-shift":"baseline",clip:"auto","clip-path":"none","clip-rule":"nonzero",color:"rgb(51, 51, 51)","color-interpolation":"srgb","color-interpolation-filters":"linearrgb","color-profile":"auto","color-rendering":"auto",cursor:"auto",direction:"ltr",display:"inline","dominant-baseline":"auto","enable-background":"",fill:"rgb(0, 0, 0)","fill-opacity":"1","fill-rule":"nonzero",filter:"none","flood-color":"rgb(0, 0, 0)","flood-opacity":"1",font:"","font-family":"normal","font-size":"medium","font-size-adjust":"auto","font-stretch":"normal","font-style":"normal","font-variant":"normal","font-weight":"400","glyph-orientation-horizontal":"0deg","glyph-orientation-vertical":"auto","image-rendering":"auto",kerning:"auto","letter-spacing":"0","lighting-color":"rgb(255, 255, 255)",marker:"","marker-end":"none","marker-mid":"none","marker-start":"none",mask:"none",opacity:"1",overflow:"visible","paint-order":"fill","pointer-events":"auto","shape-rendering":"auto","stop-color":"rgb(0, 0, 0)","stop-opacity":"1",stroke:"none","stroke-dasharray":"none","stroke-dashoffset":"0","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-opacity":"1","stroke-width":"1","text-anchor":"start","text-decoration":"none","text-rendering":"auto","unicode-bidi":"normal",visibility:"visible","word-spacing":"0px","writing-mode":"lr-tb"},b=["id","xml: base","xml: lang","xml: space","height","result","width","x","y","xlink: href","href","style","class","d","pathLength","x","y","dx","dy","glyphRef","format","x1","y1","x2","y2","rotate","textLength","cx","cy","r","rx","ry","fx","fy","width","height","refX","refY","orient","markerUnits","markerWidth","markerHeight","maskUnits","transform","viewBox","version","preserveAspectRatio","xmlns","points","offset","xlink:href"],w=["clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cursor","direction","fill","fill-opacity","fill-rule","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-orientation-horizontal","glyph-orientation-vertical","image-rendering","kerning","letter-spacing","marker","marker-end","marker-mid","marker-start","pointer-events","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-rendering","transform","visibility","white-space","word-spacing","writing-mode"],_=function(t){return"function"==typeof t},S=function(t){return void 0!==t},E=function(t){return void 0===t},k=function(t){return null!==t&&"object"==typeof t},x="undefined"!=typeof document&&"download"in document.createElement("a")&&"function"==typeof MouseEvent,P=!!window.MSInputMethodContext&&!!document.documentMode;w.forEach(function(t){t in g&&(g[t]=!0)});var O=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=e.attrs,r=e.styles;o(this,t),this.attrs=void 0===n?b:n,this.styles=void 0===r?g:r}return p(t,null,[{key:"getSvg",value:function(t){if(E(t)||""===t?t=document.body.querySelector("svg"):"string"==typeof t&&(t=document.body.querySelector(t)),t&&"svg"!==t.tagName&&(t=t.querySelector("svg")),!i(t))throw new Error("svgsaver: Can't find an svg element");return t}},{key:"getFilename",value:function(t,e,n){return e&&""!==e||(e=(t.getAttribute("title")||"untitled")+"."+n),encodeURI(e)}}]),p(t,[{key:"cloneSVG",value:function(e){e=t.getSvg(e);var n=s(e,this.attrs,this.styles);return n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),n.setAttribute("version",1.1),n.setAttribute("width",n.getAttribute("width")||"500"),n.setAttribute("height",n.getAttribute("height")||"900"),n}},{key:"getHTML",value:function(t){var e=this.cloneSVG(t),n=e.outerHTML;return n||(e.removeAttribute("xmlns"),e.removeAttribute("xmlns:xlink"),e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),(new window.XMLSerializer).serializeToString(e))}},{key:"getBlob",value:function(t){var e=this.getHTML(t);return new Blob([e],{type:"text/xml"})}},{key:"getUri",value:function(t){var e=encodeURIComponent(this.getHTML(t));return S(window.btoa)?"data:image/svg+xml;base64,"+window.btoa(unescape(e)):"data:image/svg+xml,"+e}},{key:"asSvg",value:function(e,n){return e=t.getSvg(e),n=t.getFilename(e,n,"svg"),_(Blob)?y.default.saveAs(this.getBlob(e),n):c(this.getUri(e),n)}},{key:"getPngUri",value:function(e,n){P&&console.error("svgsaver: getPngUri not supported on IE11"),e=t.getSvg(e);var r=t.getFilename(e,null,"png");return f(this.getUri(e),r,function(t){n(t.toDataURL("image/png"))})}},{key:"asPng",value:function(e,n){return P&&console.error("svgsaver: asPng not supported on IE11"),e=t.getSvg(e),n=t.getFilename(e,n,"png"),d(this.getUri(e),n)}}]),t}();e.default=O,t.exports=e.default},901:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(902),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=o.default},902:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(1),f=r(c),d=n(2),p=r(d),h=n(903),m=function(t){function e(){o(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.state={expandChildHeight:0,expandChildWidth:0,expandScrollLeft:0,expandScrollTop:0,shrinkScrollTop:0,shrinkScrollLeft:0,lastWidth:0,lastHeight:0},t.reset=t.reset.bind(t),t.handleScroll=t.handleScroll.bind(t),t}return a(e,t),s(e,[{key:"componentWillMount",value:function(){this.forceUpdate()}},{key:"componentDidMount",value:function(){var t=this.containerSize(),e=l(t,2),n=e[0],r=e[1];this.reset(n,r)}},{key:"shouldComponentUpdate",value:function(t,e){return this.props!==t||this.state!==e}},{key:"componentDidUpdate",value:function(){this.expand.scrollLeft=this.expand.scrollWidth,this.expand.scrollTop=this.expand.scrollHeight,this.shrink.scrollLeft=this.shrink.scrollWidth,this.shrink.scrollTop=this.shrink.scrollHeight}},{key:"containerSize",value:function(){return[this.props.handleWidth&&this.container.parentElement.offsetWidth,this.props.handleHeight&&this.container.parentElement.offsetHeight]}},{key:"reset",value:function(t,e){if("undefined"!=typeof window){var n=this.container.parentElement,r="static";n.currentStyle?r=n.currentStyle.position:window.getComputedStyle&&(r=window.getComputedStyle(n).position),"static"===r&&(n.style.position="relative"),this.setState({expandChildHeight:this.expand.offsetHeight+10,expandChildWidth:this.expand.offsetWidth+10,lastWidth:t,lastHeight:e})}}},{key:"handleScroll",value:function(){if("undefined"!=typeof window){var t=this.state,e=this.containerSize(),n=l(e,2),r=n[0],o=n[1];r===t.lastWidth&&o===t.lastHeight||this.props.onResize(r,o),this.reset(r,o)}}},{key:"render",value:function(){var t=this,e=this.state,n=u({},h.expandChildStyle,{width:e.expandChildWidth,height:e.expandChildHeight});return f.default.createElement("div",{style:h.parentStyle,ref:function(e){t.container=e}},f.default.createElement("div",{style:h.parentStyle,onScroll:this.handleScroll,ref:function(e){t.expand=e}},f.default.createElement("div",{style:n})),f.default.createElement("div",{style:h.parentStyle,onScroll:this.handleScroll,ref:function(e){t.shrink=e}},f.default.createElement("div",{style:h.shrinkChildStyle})))}}]),e}(c.Component);e.default=m,m.propTypes={handleWidth:p.default.bool,handleHeight:p.default.bool,onResize:p.default.func},m.defaultProps={handleWidth:!1,handleHeight:!1,onResize:function(t){return t}}},903:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.parentStyle={position:"absolute",left:0,top:0,right:0,bottom:0,overflow:"scroll",zIndex:-1,visibility:"hidden"},e.shrinkChildStyle={position:"absolute",left:0,top:0,width:"200%",height:"200%"},e.expandChildStyle={position:"absolute",left:0,top:0,width:"100%",height:"100%"}},904:function(t,e){},905:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){for(var e=window.atob(t),n=e.length,r=new Uint8Array(n),o=0;o<n;o++){var i=e.charCodeAt(o);r[o]=i}return r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n="<?xml version='1.0'?>"+(new XMLSerializer).serializeToString(e);if(n.length>2e6)return!1;return l.default.post("svgtopdf.do").type("form").send({filetype:"pdf_data",svgelement:n}).end(function(e,n){!e&&n.ok&&(0,a.default)(o(n.text),t)}),!0};var i=n(179),a=r(i),u=n(18),l=r(u)},906:function(t,e,n){!function(e,n){t.exports=n()}(0,function(){var t=function(t,e){function n(e,n){var r=e>n?e:n;return t.pow(10,17-~~(t.log(r>0?r:-r)*t.LOG10E))}function r(t){return"[object Function]"===p.call(t)}function o(t){return"number"==typeof t&&t===t}function a(t){return f.apply([],t)}function u(){return new u._init(arguments)}function l(){return 0}function s(){return 1}function c(t,e){return t===e?1:0}var f=Array.prototype.concat,d=Array.prototype.slice,p=Object.prototype.toString,h=Array.isArray||function(t){return"[object Array]"===p.call(t)};u.fn=u.prototype,u._init=function(t){var e;if(h(t[0]))if(h(t[0][0])){r(t[1])&&(t[0]=u.map(t[0],t[1]));for(var e=0;e<t[0].length;e++)this[e]=t[0][e];this.length=t[0].length}else this[0]=r(t[1])?u.map(t[0],t[1]):t[0],this.length=1;else if(o(t[0]))this[0]=u.seq.apply(null,t),this.length=1;else{if(t[0]instanceof u)return u(t[0].toArray());this[0]=[],this.length=1}return this},u._init.prototype=u.prototype,u._init.constructor=u,u.utils={calcRdx:n,isArray:h,isFunction:r,isNumber:o,toVector:a},u.extend=function(t){var e,n;if(1===arguments.length){for(n in t)u[n]=t[n];return this}for(var e=1;e<arguments.length;e++)for(n in arguments[e])t[n]=arguments[e][n];return t},u.rows=function(t){return t.length||1},u.cols=function(t){return t[0].length||1},u.dimensions=function(t){return{rows:u.rows(t),cols:u.cols(t)}},u.row=function(t,e){return h(e)?e.map(function(e){return u.row(t,e)}):t[e]},u.rowa=function(t,e){return u.row(t,e)},u.col=function(t,e){if(h(e)){var n=u.arange(t.length).map(function(t){return new Array(e.length)});return e.forEach(function(e,r){u.arange(t.length).forEach(function(o){n[o][r]=t[o][e]})}),n}for(var r=new Array(t.length),o=0;o<t.length;o++)r[o]=[t[o][e]];return r},u.cola=function(t,e){return u.col(t,e).map(function(t){return t[0]})},u.diag=function(t){for(var e=u.rows(t),n=new Array(e),r=0;r<e;r++)n[r]=[t[r][r]];return n},u.antidiag=function(t){for(var e=u.rows(t)-1,n=new Array(e),r=0;e>=0;e--,r++)n[r]=[t[r][e]];return n},u.transpose=function(t){var e,n,r,o,i,a=[];h(t[0])||(t=[t]),n=t.length,r=t[0].length;for(var i=0;i<r;i++){for(e=new Array(n),o=0;o<n;o++)e[o]=t[o][i];a.push(e)}return 1===a.length?a[0]:a},u.map=function(t,e,n){var r,o,i,a,u;for(h(t[0])||(t=[t]),o=t.length,i=t[0].length,a=n?t:new Array(o),r=0;r<o;r++)for(a[r]||(a[r]=new Array(i)),u=0;u<i;u++)a[r][u]=e(t[r][u],r,u);return 1===a.length?a[0]:a},u.cumreduce=function(t,e,n){var r,o,i,a,u;for(h(t[0])||(t=[t]),o=t.length,i=t[0].length,a=n?t:new Array(o),r=0;r<o;r++)for(a[r]||(a[r]=new Array(i)),i>0&&(a[r][0]=t[r][0]),u=1;u<i;u++)a[r][u]=e(a[r][u-1],t[r][u]);return 1===a.length?a[0]:a},u.alter=function(t,e){return u.map(t,e,!0)},u.create=function(t,e,n){var o,i,a=new Array(t);r(e)&&(n=e,e=t);for(var o=0;o<t;o++)for(a[o]=new Array(e),i=0;i<e;i++)a[o][i]=n(o,i);return a},u.zeros=function(t,e){return o(e)||(e=t),u.create(t,e,l)},u.ones=function(t,e){return o(e)||(e=t),u.create(t,e,s)},u.rand=function(e,n){return o(n)||(n=e),u.create(e,n,t.random)},u.identity=function(t,e){return o(e)||(e=t),u.create(t,e,c)},u.symmetric=function(t){var e,n,r=t.length;if(t.length!==t[0].length)return!1;for(e=0;e<r;e++)for(n=0;n<r;n++)if(t[n][e]!==t[e][n])return!1;return!0},u.clear=function(t){return u.alter(t,l)},u.seq=function(t,e,o,i){r(i)||(i=!1);var a,u=[],l=n(t,e),s=(e*l-t*l)/((o-1)*l),c=t;for(a=0;c<=e&&a<o;a++,c=(t*l+s*l*a)/l)u.push(i?i(c,a):c);return u},u.arange=function(t,n,r){var o=[];if(r=r||1,n===e&&(n=t,t=0),t===n||0===r)return[];if(t<n&&r<0)return[];if(t>n&&r>0)return[];if(r>0)for(i=t;i<n;i+=r)o.push(i);else for(i=t;i>n;i+=r)o.push(i);return o},u.slice=function(){function t(t,n,r,o){var i,a=[],l=t.length;if(n===e&&r===e&&o===e)return u.copy(t);if(n=n||0,r=r||t.length,n=n>=0?n:l+n,r=r>=0?r:l+r,o=o||1,n===r||0===o)return[];if(n<r&&o<0)return[];if(n>r&&o>0)return[];if(o>0)for(i=n;i<r;i+=o)a.push(t[i]);else for(i=n;i>r;i+=o)a.push(t[i]);return a}function n(e,n){if(n=n||{},o(n.row)){if(o(n.col))return e[n.row][n.col];var r=u.rowa(e,n.row),i=n.col||{};return t(r,i.start,i.end,i.step)}if(o(n.col)){var a=u.cola(e,n.col),l=n.row||{};return t(a,l.start,l.end,l.step)}var l=n.row||{},i=n.col||{};return t(e,l.start,l.end,l.step).map(function(e){return t(e,i.start,i.end,i.step)})}return n}(),u.sliceAssign=function(n,r,i){if(o(r.row)){if(o(r.col))return n[r.row][r.col]=i;r.col=r.col||{},r.col.start=r.col.start||0,r.col.end=r.col.end||n[0].length,r.col.step=r.col.step||1;var a=u.arange(r.col.start,t.min(n.length,r.col.end),r.col.step),l=r.row;return a.forEach(function(t,e){n[l][t]=i[e]}),n}if(o(r.col)){r.row=r.row||{},r.row.start=r.row.start||0,r.row.end=r.row.end||n.length,r.row.step=r.row.step||1;var s=u.arange(r.row.start,t.min(n[0].length,r.row.end),r.row.step),c=r.col;return s.forEach(function(t,e){n[t][c]=i[e]}),n}i[0].length===e&&(i=[i]),r.row.start=r.row.start||0,r.row.end=r.row.end||n.length,r.row.step=r.row.step||1,r.col.start=r.col.start||0,r.col.end=r.col.end||n[0].length,r.col.step=r.col.step||1;var s=u.arange(r.row.start,t.min(n.length,r.row.end),r.row.step),a=u.arange(r.col.start,t.min(n[0].length,r.col.end),r.col.step);return s.forEach(function(t,e){a.forEach(function(r,o){n[t][r]=i[e][o]})}),n},u.diagonal=function(t){var e=u.zeros(t.length,t.length);return t.forEach(function(t,n){e[n][n]=t}),e},u.copy=function(t){return t.map(function(t){return o(t)?t:t.map(function(t){return t})})};var m=u.prototype;return m.length=0,m.push=Array.prototype.push,m.sort=Array.prototype.sort,m.splice=Array.prototype.splice,m.slice=Array.prototype.slice,m.toArray=function(){return this.length>1?d.call(this):d.call(this)[0]},m.map=function(t,e){return u(u.map(this,t,e))},m.cumreduce=function(t,e){return u(u.cumreduce(this,t,e))},m.alter=function(t){return u.alter(this,t),this},function(t){for(var e=0;e<t.length;e++)!function(t){m[t]=function(e){var n,r=this;return e?(setTimeout(function(){e.call(r,m[t].call(r))}),this):(n=u[t](this),h(n)?u(n):n)}}(t[e])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(t){for(var e=0;e<t.length;e++)!function(t){m[t]=function(e,n){var r=this;return n?(setTimeout(function(){n.call(r,m[t].call(r,e))}),this):u(u[t](this,e))}}(t[e])}("row col".split(" ")),function(t){for(var e=0;e<t.length;e++)!function(t){m[t]=new Function("return jStat(jStat."+t+".apply(null, arguments));")}(t[e])}("create zeros ones rand identity".split(" ")),u}(Math);return function(t,e){function n(t,e){return t-e}function r(t,n,r){return e.max(n,e.min(t,r))}var o=t.utils.isFunction;t.sum=function(t){for(var e=0,n=t.length;--n>=0;)e+=t[n];return e},t.sumsqrd=function(t){for(var e=0,n=t.length;--n>=0;)e+=t[n]*t[n];return e},t.sumsqerr=function(e){for(var n,r=t.mean(e),o=0,i=e.length;--i>=0;)n=e[i]-r,o+=n*n;return o},t.sumrow=function(t){for(var e=0,n=t.length;--n>=0;)e+=t[n];return e},t.product=function(t){for(var e=1,n=t.length;--n>=0;)e*=t[n];return e},t.min=function(t){for(var e=t[0],n=0;++n<t.length;)t[n]<e&&(e=t[n]);return e},t.max=function(t){for(var e=t[0],n=0;++n<t.length;)t[n]>e&&(e=t[n]);return e},t.unique=function(t){for(var e={},n=[],r=0;r<t.length;r++)e[t[r]]||(e[t[r]]=!0,n.push(t[r]));return n},t.mean=function(e){return t.sum(e)/e.length},t.meansqerr=function(e){return t.sumsqerr(e)/e.length},t.geomean=function(n){return e.pow(t.product(n),1/n.length)},t.median=function(t){var e=t.length,r=t.slice().sort(n);return 1&e?r[e/2|0]:(r[e/2-1]+r[e/2])/2},t.cumsum=function(e){return t.cumreduce(e,function(t,e){return t+e})},t.cumprod=function(e){return t.cumreduce(e,function(t,e){return t*e})},t.diff=function(t){for(var e,n=[],r=t.length,e=1;e<r;e++)n.push(t[e]-t[e-1]);return n},t.rank=function(t){for(var e=t.length,r=t.slice().sort(n),o=new Array(e),i=0;i<e;i++){var a=r.indexOf(t[i]),u=r.lastIndexOf(t[i]);if(a===u)var l=a;else var l=(a+u)/2;o[i]=l+1}return o},t.mode=function(t){for(var e,r=t.length,o=t.slice().sort(n),i=1,a=0,u=0,l=[],e=0;e<r;e++)o[e]===o[e+1]?i++:(i>a?(l=[o[e]],a=i,u=0):i===a&&(l.push(o[e]),u++),i=1);return 0===u?l[0]:l},t.range=function(e){return t.max(e)-t.min(e)},t.variance=function(e,n){return t.sumsqerr(e)/(e.length-(n?1:0))},t.pooledvariance=function(e){return e.reduce(function(e,n){return e+t.sumsqerr(n)},0)/(e.reduce(function(t,e){return t+e.length},0)-e.length)},t.deviation=function(e){for(var n=t.mean(e),r=e.length,o=new Array(r),i=0;i<r;i++)o[i]=e[i]-n;return o},t.stdev=function(n,r){return e.sqrt(t.variance(n,r))},t.pooledstdev=function(n){return e.sqrt(t.pooledvariance(n))},t.meandev=function(n){for(var r=t.mean(n),o=[],i=n.length-1;i>=0;i--)o.push(e.abs(n[i]-r));return t.mean(o)},t.meddev=function(n){for(var r=t.median(n),o=[],i=n.length-1;i>=0;i--)o.push(e.abs(n[i]-r));return t.median(o)},t.coeffvar=function(e){return t.stdev(e)/t.mean(e)},t.quartiles=function(t){var r=t.length,o=t.slice().sort(n);return[o[e.round(r/4)-1],o[e.round(r/2)-1],o[e.round(3*r/4)-1]]},t.quantiles=function(t,o,i,a){var u,l,s,c,f,d,p=t.slice().sort(n),h=[o.length],m=t.length;void 0===i&&(i=3/8),void 0===a&&(a=3/8);for(var u=0;u<o.length;u++)l=o[u],s=i+l*(1-i-a),c=m*l+s,f=e.floor(r(c,1,m-1)),d=r(c-f,0,1),h[u]=(1-d)*p[f-1]+d*p[f];return h},t.percentile=function(t,e){var r=t.slice().sort(n),o=e*(r.length-1),i=parseInt(o),a=o-i;return i+1<r.length?r[i]*(1-a)+r[i+1]*a:r[i]},t.percentileOfScore=function(t,e,n){var r,o,i=0,a=t.length,u=!1;"strict"===n&&(u=!0);for(var o=0;o<a;o++)r=t[o],(u&&r<e||!u&&r<=e)&&i++;return i/a},t.histogram=function(n,r){for(var o,i=t.min(n),a=r||4,u=(t.max(n)-i)/a,l=n.length,r=[],o=0;o<a;o++)r[o]=0;for(var o=0;o<l;o++)r[e.min(e.floor((n[o]-i)/u),a-1)]+=1;return r},t.covariance=function(e,n){for(var r,o=t.mean(e),i=t.mean(n),a=e.length,u=new Array(a),r=0;r<a;r++)u[r]=(e[r]-o)*(n[r]-i);return t.sum(u)/(a-1)},t.corrcoeff=function(e,n){return t.covariance(e,n)/t.stdev(e,1)/t.stdev(n,1)},t.spearmancoeff=function(e,n){return e=t.rank(e),n=t.rank(n),t.corrcoeff(e,n)},t.stanMoment=function(n,r){for(var o=t.mean(n),i=t.stdev(n),a=n.length,u=0,l=0;l<a;l++)u+=e.pow((n[l]-o)/i,r);return u/n.length},t.skewness=function(e){return t.stanMoment(e,3)},t.kurtosis=function(e){return t.stanMoment(e,4)-3};var i=t.prototype;!function(e){for(var n=0;n<e.length;n++)!function(e){i[e]=function(n,r){var a=[],u=0,l=this;if(o(n)&&(r=n,n=!1),r)return setTimeout(function(){r.call(l,i[e].call(l,n))}),this;if(this.length>1){for(l=!0===n?this:this.transpose();u<l.length;u++)a[u]=t[e](l[u]);return a}return t[e](this[0],n)}}(e[n])}("cumsum cumprod".split(" ")),function(e){for(var n=0;n<e.length;n++)!function(e){i[e]=function(n,r){var a=[],u=0,l=this;if(o(n)&&(r=n,n=!1),r)return setTimeout(function(){r.call(l,i[e].call(l,n))}),this;if(this.length>1){for("sumrow"!==e&&(l=!0===n?this:this.transpose());u<l.length;u++)a[u]=t[e](l[u]);return!0===n?t[e](t.utils.toVector(a)):a}return t[e](this[0],n)}}(e[n])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(e){for(var n=0;n<e.length;n++)!function(e){i[e]=function(){var n=[],r=0,a=this,u=Array.prototype.slice.call(arguments);if(o(u[u.length-1])){var l=u[u.length-1],s=u.slice(0,u.length-1);return setTimeout(function(){l.call(a,i[e].apply(a,s))}),this}var l=void 0,c=function(n){return t[e].apply(a,[n].concat(u))};if(this.length>1){for(a=a.transpose();r<a.length;r++)n[r]=c(a[r]);return n}return c(this[0])}}(e[n])}("quantiles percentileOfScore".split(" "))}(t,Math),function(t,e){t.gammaln=function(t){var n,r,o,i=0,a=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],u=1.000000000190015;for(o=(r=n=t)+5.5,o-=(n+.5)*e.log(o);i<6;i++)u+=a[i]/++r;return e.log(2.5066282746310007*u/n)-o},t.gammafn=function(t){var n,r,o,i,a=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],u=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],l=!1,s=0,c=0,f=0,d=t;if(d<=0){if(!(i=d%1+3.6e-16))return 1/0;l=(1&d?-1:1)*e.PI/e.sin(e.PI*i),d=1-d}o=d,r=d<1?d++:(d-=s=(0|d)-1)-1;for(var n=0;n<8;++n)f=(f+a[n])*r,c=c*r+u[n];if(i=f/c+1,o<d)i/=o;else if(o>d)for(var n=0;n<s;++n)i*=d,d++;return l&&(i=l/i),i},t.gammap=function(e,n){return t.lowRegGamma(e,n)*t.gammafn(e)},t.lowRegGamma=function(n,r){var o,i=t.gammaln(n),a=n,u=1/n,l=u,s=r+1-n,c=1/1e-30,f=1/s,d=f,p=1,h=-~(8.5*e.log(n>=1?n:1/n)+.4*n+17);if(r<0||n<=0)return NaN;if(r<n+1){for(;p<=h;p++)u+=l*=r/++a;return u*e.exp(-r+n*e.log(r)-i)}for(;p<=h;p++)o=-p*(p-n),s+=2,f=o*f+s,c=s+o/c,f=1/f,d*=f*c;return 1-d*e.exp(-r+n*e.log(r)-i)},t.factorialln=function(e){return e<0?NaN:t.gammaln(e+1)},t.factorial=function(e){return e<0?NaN:t.gammafn(e+1)},t.combination=function(n,r){return n>170||r>170?e.exp(t.combinationln(n,r)):t.factorial(n)/t.factorial(r)/t.factorial(n-r)},t.combinationln=function(e,n){return t.factorialln(e)-t.factorialln(n)-t.factorialln(e-n)},t.permutation=function(e,n){return t.factorial(e)/t.factorial(e-n)},t.betafn=function(n,r){if(!(n<=0||r<=0))return n+r>170?e.exp(t.betaln(n,r)):t.gammafn(n)*t.gammafn(r)/t.gammafn(n+r)},t.betaln=function(e,n){return t.gammaln(e)+t.gammaln(n)-t.gammaln(e+n)},t.betacf=function(t,n,r){var o,i,a,u,l=1,s=n+r,c=n+1,f=n-1,d=1,p=1-s*t/c;for(e.abs(p)<1e-30&&(p=1e-30),p=1/p,u=p;l<=100&&(o=2*l,i=l*(r-l)*t/((f+o)*(n+o)),p=1+i*p,e.abs(p)<1e-30&&(p=1e-30),d=1+i/d,e.abs(d)<1e-30&&(d=1e-30),p=1/p,u*=p*d,i=-(n+l)*(s+l)*t/((n+o)*(c+o)),p=1+i*p,e.abs(p)<1e-30&&(p=1e-30),d=1+i/d,e.abs(d)<1e-30&&(d=1e-30),p=1/p,a=p*d,u*=a,!(e.abs(a-1)<3e-7));l++);return u},t.gammapinv=function(n,r){var o,i,a,u,l,s,c,f=0,d=r-1,p=t.gammaln(r);if(n>=1)return e.max(100,r+100*e.sqrt(r));if(n<=0)return 0;for(r>1?(s=e.log(d),c=e.exp(d*(s-1)-p),l=n<.5?n:1-n,a=e.sqrt(-2*e.log(l)),o=(2.30753+.27061*a)/(1+a*(.99229+.04481*a))-a,n<.5&&(o=-o),o=e.max(.001,r*e.pow(1-1/(9*r)-o/(3*e.sqrt(r)),3))):(a=1-r*(.253+.12*r),o=n<a?e.pow(n/a,1/r):1-e.log(1-(n-a)/(1-a)));f<12;f++){if(o<=0)return 0;if(i=t.lowRegGamma(r,o)-n,a=r>1?c*e.exp(-(o-d)+d*(e.log(o)-s)):e.exp(-o+d*e.log(o)-p),u=i/a,o-=a=u/(1-.5*e.min(1,u*((r-1)/o-1))),o<=0&&(o=.5*(o+a)),e.abs(a)<1e-8*o)break}return o},t.erf=function(t){var n,r,o,i,a=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,9.6467911e-11,2.394038e-12,-6.886027e-12,8.94487e-13,3.13092e-13,-1.12708e-13,3.81e-16,7.106e-15,-1.523e-15,-9.4e-17,1.21e-16,-2.8e-17],u=a.length-1,l=!1,s=0,c=0;for(t<0&&(t=-t,l=!0),n=2/(2+t),r=4*n-2;u>0;u--)o=s,s=r*s-c+a[u],c=o;return i=n*e.exp(-t*t+.5*(a[0]+r*s)-c),l?i-1:1-i},t.erfc=function(e){return 1-t.erf(e)},t.erfcinv=function(n){var r,o,i,a,u=0;if(n>=2)return-100;if(n<=0)return 100;for(a=n<1?n:2-n,i=e.sqrt(-2*e.log(a/2)),r=-.70711*((2.30753+.27061*i)/(1+i*(.99229+.04481*i))-i);u<2;u++)o=t.erfc(r)-a,r+=o/(1.1283791670955126*e.exp(-r*r)-r*o);return n<1?r:-r},t.ibetainv=function(n,r,o){var i,a,u,l,s,c,f,d,p,h,m,v=r-1,y=o-1,g=0;if(n<=0)return 0;if(n>=1)return 1;for(r>=1&&o>=1?(u=n<.5?n:1-n,l=e.sqrt(-2*e.log(u)),f=(2.30753+.27061*l)/(1+l*(.99229+.04481*l))-l,n<.5&&(f=-f),d=(f*f-3)/6,p=2/(1/(2*r-1)+1/(2*o-1)),h=f*e.sqrt(d+p)/p-(1/(2*o-1)-1/(2*r-1))*(d+5/6-2/(3*p)),f=r/(r+o*e.exp(2*h))):(i=e.log(r/(r+o)),a=e.log(o/(r+o)),l=e.exp(r*i)/r,s=e.exp(o*a)/o,h=l+s,f=n<l/h?e.pow(r*h*n,1/r):1-e.pow(o*h*(1-n),1/o)),m=-t.gammaln(r)-t.gammaln(o)+t.gammaln(r+o);g<10;g++){if(0===f||1===f)return f;if(c=t.ibeta(f,r,o)-n,l=e.exp(v*e.log(f)+y*e.log(1-f)+m),s=c/l,f-=l=s/(1-.5*e.min(1,s*(v/f-y/(1-f)))),f<=0&&(f=.5*(f+l)),f>=1&&(f=.5*(f+l+1)),e.abs(l)<1e-8*f&&g>0)break}return f},t.ibeta=function(n,r,o){var i=0===n||1===n?0:e.exp(t.gammaln(r+o)-t.gammaln(r)-t.gammaln(o)+r*e.log(n)+o*e.log(1-n));return!(n<0||n>1)&&(n<(r+1)/(r+o+2)?i*t.betacf(n,r,o)/r:1-i*t.betacf(1-n,o,r)/o)},t.randn=function(n,r){var o,i,a,u,l;if(r||(r=n),n)return t.create(n,r,function(){return t.randn()});do{o=e.random(),i=1.7156*(e.random()-.5),a=o-.449871,u=e.abs(i)+.386595,l=a*a+u*(.196*u-.25472*a)}while(l>.27597&&(l>.27846||i*i>-4*e.log(o)*o*o));return i/o},t.randg=function(n,r,o){var i,a,u,l,s,c,f=n;if(o||(o=r),n||(n=1),r)return c=t.zeros(r,o),c.alter(function(){return t.randg(n)}),c;n<1&&(n+=1),i=n-1/3,a=1/e.sqrt(9*i);do{do{s=t.randn(),l=1+a*s}while(l<=0);l*=l*l,u=e.random()}while(u>1-.331*e.pow(s,4)&&e.log(u)>.5*s*s+i*(1-l+e.log(l)));if(n==f)return i*l;do{u=e.random()}while(0===u);return e.pow(u,1/f)*i*l},function(e){for(var n=0;n<e.length;n++)!function(e){t.fn[e]=function(){return t(t.map(this,function(n){return t[e](n)}))}}(e[n])}("gammaln gammafn factorial factorialln".split(" ")),function(e){for(var n=0;n<e.length;n++)!function(e){t.fn[e]=function(){return t(t[e].apply(null,arguments))}}(e[n])}("randn".split(" "))}(t,Math),function(t,e){function n(t){return t/e.abs(t)}function r(n,r,o){var i=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],a=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],u=.5*n;if(u>=8)return 1;var l=2*t.normal.cdf(u,0,1,1,0)-1;l=l>=e.exp(-50/o)?e.pow(l,o):0;var s;s=n>3?2:3;for(var c=u,f=(8-u)/s,d=c+f,p=0,h=o-1,m=1;m<=s;m++){for(var v=0,y=.5*(d+c),g=.5*(d-c),b=1;b<=12;b++){var w,_;6<b?(w=12-b+1,_=i[w-1]):(w=b,_=-i[w-1]);var S=g*_,E=y+S,k=E*E;if(k>60)break;var x=2*t.normal.cdf(E,0,1,1,0),P=2*t.normal.cdf(E,n,1,1,0),O=.5*x-.5*P;O>=e.exp(-30/h)&&(O=a[w-1]*e.exp(-.5*k)*e.pow(O,h),v+=O)}v*=2*g*o/e.sqrt(2*e.PI),p+=v,c=d,d+=f}return(l+=p)<=e.exp(-30/r)?0:(l=e.pow(l,r),l>=1?1:l)}function o(t,n,r){var o=.5-.5*t,i=e.sqrt(e.log(1/(o*o))),a=i+((((-453642210148e-16*i-.204231210125)*i-.342242088547)*i-1)*i+.322232421088)/((((.0038560700634*i+.10353775285)*i+.531103462366)*i+.588581570495)*i+.099348462606);r<120&&(a+=(a*a*a+a)/r/4);var u=.8832-.2368*a;return r<120&&(u+=-1.214/r+1.208*a/r),a*(u*e.log(n-1)+1.4142)}!function(e){for(var n=0;n<e.length;n++)!function(e){t[e]=function(t,e,n){return this instanceof arguments.callee?(this._a=t,this._b=e,this._c=n,this):new arguments.callee(t,e,n)},t.fn[e]=function(n,r,o){var i=t[e](n,r,o);return i.data=this,i},t[e].prototype.sample=function(n){var r=this._a,o=this._b,i=this._c;return n?t.alter(n,function(){return t[e].sample(r,o,i)}):t[e].sample(r,o,i)},function(n){for(var r=0;r<n.length;r++)!function(n){t[e].prototype[n]=function(r){var o=this._a,i=this._b,a=this._c;return r||0===r||(r=this.data),"number"!=typeof r?t.fn.map.call(r,function(r){return t[e][n](r,o,i,a)}):t[e][n](r,o,i,a)}}(n[r])}("pdf cdf inv".split(" ")),function(n){for(var r=0;r<n.length;r++)!function(n){t[e].prototype[n]=function(){return t[e][n](this._a,this._b,this._c)}}(n[r])}("mean median mode variance".split(" "))}(e[n])}("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),t.extend(t.beta,{pdf:function(n,r,o){return n>1||n<0?0:1==r&&1==o?1:r<512&&o<512?e.pow(n,r-1)*e.pow(1-n,o-1)/t.betafn(r,o):e.exp((r-1)*e.log(n)+(o-1)*e.log(1-n)-t.betaln(r,o))},cdf:function(e,n,r){return e>1||e<0?1*(e>1):t.ibeta(e,n,r)},inv:function(e,n,r){return t.ibetainv(e,n,r)},mean:function(t,e){return t/(t+e)},median:function(e,n){return t.ibetainv(.5,e,n)},mode:function(t,e){return(t-1)/(t+e-2)},sample:function(e,n){var r=t.randg(e);return r/(r+t.randg(n))},variance:function(t,n){return t*n/(e.pow(t+n,2)*(t+n+1))}}),t.extend(t.centralF,{pdf:function(n,r,o){var i,a;return n<0?0:r<=2?0===n&&r<2?1/0:0===n&&2===r?1:1/t.betafn(r/2,o/2)*e.pow(r/o,r/2)*e.pow(n,r/2-1)*e.pow(1+r/o*n,-(r+o)/2):(i=r*n/(o+n*r),a=o/(o+n*r),r*a/2*t.binomial.pdf((r-2)/2,(r+o-2)/2,i))},cdf:function(e,n,r){return e<0?0:t.ibeta(n*e/(n*e+r),n/2,r/2)},inv:function(e,n,r){return r/(n*(1/t.ibetainv(e,n/2,r/2)-1))},mean:function(t,e){return e>2?e/(e-2):void 0},mode:function(t,e){return t>2?e*(t-2)/(t*(e+2)):void 0},sample:function(e,n){return 2*t.randg(e/2)/e/(2*t.randg(n/2)/n)},variance:function(t,e){if(!(e<=4))return 2*e*e*(t+e-2)/(t*(e-2)*(e-2)*(e-4))}}),t.extend(t.cauchy,{pdf:function(t,n,r){return r<0?0:r/(e.pow(t-n,2)+e.pow(r,2))/e.PI},cdf:function(t,n,r){return e.atan((t-n)/r)/e.PI+.5},inv:function(t,n,r){return n+r*e.tan(e.PI*(t-.5))},median:function(t,e){return t},mode:function(t,e){return t},sample:function(n,r){return t.randn()*e.sqrt(1/(2*t.randg(.5)))*r+n}}),t.extend(t.chisquare,{pdf:function(n,r){return n<0?0:0===n&&2===r?.5:e.exp((r/2-1)*e.log(n)-n/2-r/2*e.log(2)-t.gammaln(r/2))},cdf:function(e,n){return e<0?0:t.lowRegGamma(n/2,e/2)},inv:function(e,n){return 2*t.gammapinv(e,.5*n)},mean:function(t){return t},median:function(t){return t*e.pow(1-2/(9*t),3)},mode:function(t){return t-2>0?t-2:0},sample:function(e){return 2*t.randg(e/2)},variance:function(t){return 2*t}}),t.extend(t.exponential,{pdf:function(t,n){return t<0?0:n*e.exp(-n*t)},cdf:function(t,n){return t<0?0:1-e.exp(-n*t)},inv:function(t,n){return-e.log(1-t)/n},mean:function(t){return 1/t},median:function(t){return 1/t*e.log(2)},mode:function(t){return 0},sample:function(t){return-1/t*e.log(e.random())},variance:function(t){return e.pow(t,-2)}}),t.extend(t.gamma,{pdf:function(n,r,o){return n<0?0:0===n&&1===r?1/o:e.exp((r-1)*e.log(n)-n/o-t.gammaln(r)-r*e.log(o))},cdf:function(e,n,r){return e<0?0:t.lowRegGamma(n,e/r)},inv:function(e,n,r){return t.gammapinv(e,n)*r},mean:function(t,e){return t*e},mode:function(t,e){if(t>1)return(t-1)*e},sample:function(e,n){return t.randg(e)*n},variance:function(t,e){return t*e*e}}),t.extend(t.invgamma,{pdf:function(n,r,o){return n<=0?0:e.exp(-(r+1)*e.log(n)-o/n-t.gammaln(r)+r*e.log(o))},cdf:function(e,n,r){return e<=0?0:1-t.lowRegGamma(n,r/e)},inv:function(e,n,r){return r/t.gammapinv(1-e,n)},mean:function(t,e){return t>1?e/(t-1):void 0},mode:function(t,e){return e/(t+1)},sample:function(e,n){return n/t.randg(e)},variance:function(t,e){if(!(t<=2))return e*e/((t-1)*(t-1)*(t-2))}}),t.extend(t.kumaraswamy,{pdf:function(t,n,r){return 0===t&&1===n?r:1===t&&1===r?n:e.exp(e.log(n)+e.log(r)+(n-1)*e.log(t)+(r-1)*e.log(1-e.pow(t,n)))},cdf:function(t,n,r){return t<0?0:t>1?1:1-e.pow(1-e.pow(t,n),r)},inv:function(t,n,r){return e.pow(1-e.pow(1-t,1/r),1/n)},mean:function(e,n){return n*t.gammafn(1+1/e)*t.gammafn(n)/t.gammafn(1+1/e+n)},median:function(t,n){return e.pow(1-e.pow(2,-1/n),1/t)},mode:function(t,n){if(t>=1&&n>=1&&1!==t&&1!==n)return e.pow((t-1)/(t*n-1),1/t)},variance:function(t,e){throw new Error("variance not yet implemented")}}),t.extend(t.lognormal,{pdf:function(t,n,r){return t<=0?0:e.exp(-e.log(t)-.5*e.log(2*e.PI)-e.log(r)-e.pow(e.log(t)-n,2)/(2*r*r))},cdf:function(n,r,o){return n<0?0:.5+.5*t.erf((e.log(n)-r)/e.sqrt(2*o*o))},inv:function(n,r,o){return e.exp(-1.4142135623730951*o*t.erfcinv(2*n)+r)},mean:function(t,n){return e.exp(t+n*n/2)},median:function(t,n){return e.exp(t)},mode:function(t,n){return e.exp(t-n*n)},sample:function(n,r){return e.exp(t.randn()*r+n)},variance:function(t,n){return(e.exp(n*n)-1)*e.exp(2*t+n*n)}}),t.extend(t.noncentralt,{pdf:function(n,r,o){return e.abs(o)<1e-14?t.studentt.pdf(n,r):e.abs(n)<1e-14?e.exp(t.gammaln((r+1)/2)-o*o/2-.5*e.log(e.PI*r)-t.gammaln(r/2)):r/n*(t.noncentralt.cdf(n*e.sqrt(1+2/r),r+2,o)-t.noncentralt.cdf(n,r,o))},cdf:function(n,r,o){if(e.abs(o)<1e-14)return t.studentt.cdf(n,r);var i=!1;n<0&&(i=!0,o=-o);for(var a=t.normal.cdf(-o,0,1),u=1e-14+1,l=u,s=n*n/(n*n+r),c=0,f=e.exp(-o*o/2),d=e.exp(-o*o/2-.5*e.log(2)-t.gammaln(1.5))*o;c<200||l>1e-14||u>1e-14;)l=u,c>0&&(f*=o*o/(2*c),d*=o*o/(2*(c+.5))),u=f*t.beta.cdf(s,c+.5,r/2)+d*t.beta.cdf(s,c+1,r/2),a+=.5*u,c++;return i?1-a:a}}),t.extend(t.normal,{pdf:function(t,n,r){return e.exp(-.5*e.log(2*e.PI)-e.log(r)-e.pow(t-n,2)/(2*r*r))},cdf:function(n,r,o){return.5*(1+t.erf((n-r)/e.sqrt(2*o*o)))},inv:function(e,n,r){return-1.4142135623730951*r*t.erfcinv(2*e)+n},mean:function(t,e){return t},median:function(t,e){return t},mode:function(t,e){return t},sample:function(e,n){return t.randn()*n+e},variance:function(t,e){return e*e}}),t.extend(t.pareto,{pdf:function(t,n,r){return t<n?0:r*e.pow(n,r)/e.pow(t,r+1)},cdf:function(t,n,r){return t<n?0:1-e.pow(n/t,r)},inv:function(t,n,r){return n/e.pow(1-t,1/r)},mean:function(t,n){if(!(n<=1))return n*e.pow(t,n)/(n-1)},median:function(t,n){return t*(n*e.SQRT2)},mode:function(t,e){return t},variance:function(t,n){if(!(n<=2))return t*t*n/(e.pow(n-1,2)*(n-2))}}),t.extend(t.studentt,{pdf:function(n,r){return r=r>1e100?1e100:r,1/(e.sqrt(r)*t.betafn(.5,r/2))*e.pow(1+n*n/r,-(r+1)/2)},cdf:function(n,r){var o=r/2;return t.ibeta((n+e.sqrt(n*n+r))/(2*e.sqrt(n*n+r)),o,o)},inv:function(n,r){var o=t.ibetainv(2*e.min(n,1-n),.5*r,.5);return o=e.sqrt(r*(1-o)/o),n>.5?o:-o},mean:function(t){return t>1?0:void 0},median:function(t){return 0},mode:function(t){return 0},sample:function(n){return t.randn()*e.sqrt(n/(2*t.randg(n/2)))},variance:function(t){return t>2?t/(t-2):t>1?1/0:void 0}}),t.extend(t.weibull,{pdf:function(t,n,r){return t<0||n<0||r<0?0:r/n*e.pow(t/n,r-1)*e.exp(-e.pow(t/n,r))},cdf:function(t,n,r){return t<0?0:1-e.exp(-e.pow(t/n,r))},inv:function(t,n,r){return n*e.pow(-e.log(1-t),1/r)},mean:function(e,n){return e*t.gammafn(1+1/n)},median:function(t,n){return t*e.pow(e.log(2),1/n)},mode:function(t,n){return n<=1?0:t*e.pow((n-1)/n,1/n)},sample:function(t,n){return t*e.pow(-e.log(e.random()),1/n)},variance:function(n,r){return n*n*t.gammafn(1+2/r)-e.pow(t.weibull.mean(n,r),2)}}),t.extend(t.uniform,{pdf:function(t,e,n){return t<e||t>n?0:1/(n-e)},cdf:function(t,e,n){return t<e?0:t<n?(t-e)/(n-e):1},inv:function(t,e,n){return e+t*(n-e)},mean:function(t,e){return.5*(t+e)},median:function(e,n){return t.mean(e,n)},mode:function(t,e){throw new Error("mode is not yet implemented")},sample:function(t,n){return t/2+n/2+(n/2-t/2)*(2*e.random()-1)},variance:function(t,n){return e.pow(n-t,2)/12}}),t.extend(t.binomial,{pdf:function(n,r,o){return 0===o||1===o?r*o===n?1:0:t.combination(r,n)*e.pow(o,n)*e.pow(1-o,r-n)},cdf:function(e,n,r){var o=[],i=0;if(e<0)return 0;if(e<n){for(;i<=e;i++)o[i]=t.binomial.pdf(i,n,r);return t.sum(o)}return 1}}),t.extend(t.negbin,{pdf:function(n,r,o){return n===n>>>0&&(n<0?0:t.combination(n+r-1,r-1)*e.pow(1-o,n)*e.pow(o,r))},cdf:function(e,n,r){var o=0,i=0;if(e<0)return 0;for(;i<=e;i++)o+=t.negbin.pdf(i,n,r);return o}}),t.extend(t.hypgeom,{pdf:function(n,r,o,i){if(n!==n|0)return!1;if(n<0||n<o-(r-i))return 0;if(n>i||n>o)return 0;if(2*o>r)return 2*i>r?t.hypgeom.pdf(r-o-i+n,r,r-o,r-i):t.hypgeom.pdf(i-n,r,r-o,i);if(2*i>r)return t.hypgeom.pdf(o-n,r,o,r-i);if(o<i)return t.hypgeom.pdf(n,r,i,o);for(var a=1,u=0,l=0;l<n;l++){for(;a>1&&u<i;)a*=1-o/(r-u),u++;a*=(i-l)*(o-l)/((l+1)*(r-o-i+l+1))}for(;u<i;u++)a*=1-o/(r-u);return e.min(1,e.max(0,a))},cdf:function(n,r,o,i){if(n<0||n<o-(r-i))return 0;if(n>=i||n>=o)return 1;if(2*o>r)return 2*i>r?t.hypgeom.cdf(r-o-i+n,r,r-o,r-i):1-t.hypgeom.cdf(i-n-1,r,r-o,i);if(2*i>r)return 1-t.hypgeom.cdf(o-n-1,r,o,r-i);if(o<i)return t.hypgeom.cdf(n,r,i,o);for(var a=1,u=1,l=0,s=0;s<n;s++){for(;a>1&&l<i;){var c=1-o/(r-l);u*=c,a*=c,l++}u*=(i-s)*(o-s)/((s+1)*(r-o-i+s+1)),a+=u}for(;l<i;l++)a*=1-o/(r-l);return e.min(1,e.max(0,a))}}),t.extend(t.poisson,{pdf:function(n,r){return r<0||n%1!=0||n<0?0:e.pow(r,n)*e.exp(-r)/t.factorial(n)},cdf:function(e,n){var r=[],o=0;if(e<0)return 0;for(;o<=e;o++)r.push(t.poisson.pdf(o,n));return t.sum(r)},mean:function(t){return t},variance:function(t){return t},sample:function(t){var n=1,r=0,o=e.exp(-t);do{r++,n*=e.random()}while(n>o);return r-1}}),t.extend(t.triangular,{pdf:function(t,e,n,r){return n<=e||r<e||r>n?NaN:t<e||t>n?0:t<r?2*(t-e)/((n-e)*(r-e)):t===r?2/(n-e):2*(n-t)/((n-e)*(n-r))},cdf:function(t,n,r,o){return r<=n||o<n||o>r?NaN:t<=n?0:t>=r?1:t<=o?e.pow(t-n,2)/((r-n)*(o-n)):1-e.pow(r-t,2)/((r-n)*(r-o))},inv:function(t,n,r,o){return r<=n||o<n||o>r?NaN:t<=(o-n)/(r-n)?n+(r-n)*e.sqrt(t*((o-n)/(r-n))):n+(r-n)*(1-e.sqrt((1-t)*(1-(o-n)/(r-n))))},mean:function(t,e,n){return(t+e+n)/3},median:function(t,n,r){return r<=(t+n)/2?n-e.sqrt((n-t)*(n-r))/e.sqrt(2):r>(t+n)/2?t+e.sqrt((n-t)*(r-t))/e.sqrt(2):void 0},mode:function(t,e,n){return n},sample:function(t,n,r){var o=e.random();return o<(r-t)/(n-t)?t+e.sqrt(o*(n-t)*(r-t)):n-e.sqrt((1-o)*(n-t)*(n-r))},variance:function(t,e,n){return(t*t+e*e+n*n-t*e-t*n-e*n)/18}}),t.extend(t.arcsine,{pdf:function(t,n,r){return r<=n?NaN:t<=n||t>=r?0:2/e.PI*e.pow(e.pow(r-n,2)-e.pow(2*t-n-r,2),-.5)},cdf:function(t,n,r){return t<n?0:t<r?2/e.PI*e.asin(e.sqrt((t-n)/(r-n))):1},inv:function(t,n,r){return n+(.5-.5*e.cos(e.PI*t))*(r-n)},mean:function(t,e){return e<=t?NaN:(t+e)/2},median:function(t,e){return e<=t?NaN:(t+e)/2},mode:function(t,e){throw new Error("mode is not yet implemented")},sample:function(n,r){return(n+r)/2+(r-n)/2*e.sin(2*e.PI*t.uniform.sample(0,1))},variance:function(t,n){return n<=t?NaN:e.pow(n-t,2)/8}}),t.extend(t.laplace,{pdf:function(t,n,r){return r<=0?0:e.exp(-e.abs(t-n)/r)/(2*r)},cdf:function(t,n,r){return r<=0?0:t<n?.5*e.exp((t-n)/r):1-.5*e.exp(-(t-n)/r)},mean:function(t,e){return t},median:function(t,e){return t},mode:function(t,e){return t},variance:function(t,e){return 2*e*e},sample:function(t,r){var o=e.random()-.5;return t-r*n(o)*e.log(1-2*e.abs(o))}}),t.extend(t.tukey,{cdf:function(n,o,i){var a=o,u=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],l=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(n<=0)return 0;if(i<2||a<2)return NaN;if(!Number.isFinite(n))return 1;if(i>25e3)return r(n,1,a);var s,c=.5*i,f=c*e.log(i)-i*e.log(2)-t.gammaln(c),d=c-1,p=.25*i;s=i<=100?1:i<=800?.5:i<=5e3?.25:.125,f+=e.log(s);for(var h=0,m=1;m<=50;m++){for(var v=0,y=(2*m-1)*s,g=1;g<=16;g++){var b,w;8<g?(b=g-8-1,w=f+d*e.log(y+u[b]*s)-(u[b]*s+y)*p):(b=g-1,w=f+d*e.log(y-u[b]*s)+(u[b]*s-y)*p);var _;if(w>=-30){_=8<g?n*e.sqrt(.5*(u[b]*s+y)):n*e.sqrt(.5*(-u[b]*s+y));v+=r(_,1,a)*l[b]*e.exp(w)}}if(m*s>=1&&v<=1e-14)break;h+=v}if(v>1e-14)throw new Error("tukey.cdf failed to converge");return h>1&&(h=1),h},inv:function(n,r,i){var a=r;if(i<2||a<2)return NaN;if(n<0||n>1)return NaN;if(0===n)return 0;if(1===n)return 1/0;var u,l=o(n,a,i),s=t.tukey.cdf(l,r,i)-n;u=s>0?e.max(0,l-1):l+1;for(var c,f=t.tukey.cdf(u,r,i)-n,d=1;d<50;d++){c=u-f*(u-l)/(f-s),s=f,l=u,c<0&&(c=0,f=-n),f=t.tukey.cdf(c,r,i)-n,u=c;if(e.abs(u-l)<1e-4)return c}throw new Error("tukey.inv failed to converge")}})}(t,Math),function(t,e){function n(e){return a(e)||e instanceof t}var o=Array.prototype.push,a=t.utils.isArray;t.extend({add:function(e,r){return n(r)?(n(r[0])||(r=[r]),t.map(e,function(t,e,n){return t+r[e][n]})):t.map(e,function(t){return t+r})},subtract:function(e,r){return n(r)?(n(r[0])||(r=[r]),t.map(e,function(t,e,n){return t-r[e][n]||0})):t.map(e,function(t){return t-r})},divide:function(e,r){return n(r)?(n(r[0])||(r=[r]),t.multiply(e,t.inv(r))):t.map(e,function(t){return t/r})},multiply:function(e,r){var o,i,a,u,l,s,c,f;if(void 0===e.length&&void 0===r.length)return e*r;if(l=e.length,s=e[0].length,c=t.zeros(l,a=n(r)?r[0].length:s),f=0,n(r)){for(;f<a;f++)for(o=0;o<l;o++){for(u=0,i=0;i<s;i++)u+=e[o][i]*r[i][f];c[o][f]=u}return 1===l&&1===f?c[0][0]:c}return t.map(e,function(t){return t*r})},outer:function(e,n){return t.multiply(e.map(function(t){return[t]}),[n])},outer:function(e,n){return t.multiply(e.map(function(t){return[t]}),[n])},dot:function(e,r){n(e[0])||(e=[e]),n(r[0])||(r=[r]);for(var o,i,a=1===e[0].length&&1!==e.length?t.transpose(e):e,u=1===r[0].length&&1!==r.length?t.transpose(r):r,l=[],s=0,c=a.length,f=a[0].length;s<c;s++){for(l[s]=[],o=0,i=0;i<f;i++)o+=a[s][i]*u[s][i];l[s]=o}return 1===l.length?l[0]:l},pow:function(n,r){return t.map(n,function(t){return e.pow(t,r)})},exp:function(n){return t.map(n,function(t){return e.exp(t)})},log:function(n){return t.map(n,function(t){return e.log(t)})},abs:function(n){return t.map(n,function(t){return e.abs(t)})},norm:function(t,r){var o=0,i=0;for(isNaN(r)&&(r=2),n(t[0])&&(t=t[0]);i<t.length;i++)o+=e.pow(e.abs(t[i]),r);return e.pow(o,1/r)},angle:function(n,r){return e.acos(t.dot(n,r)/(t.norm(n)*t.norm(r)))},aug:function(t,e){for(var n=[],r=0;r<t.length;r++)n.push(t[r].slice());for(var r=0;r<n.length;r++)o.apply(n[r],e[r]);return n},inv:function(e){for(var n,r=e.length,o=e[0].length,i=t.identity(r,o),a=t.gauss_jordan(e,i),u=[],l=0;l<r;l++)for(u[l]=[],n=o;n<a[0].length;n++)u[l][n-o]=a[l][n];return u},det:function(t){var e,n=t.length,r=2*n,o=new Array(r),i=n-1,a=r-1,u=i-n+1,l=a,s=0,c=0;if(2===n)return t[0][0]*t[1][1]-t[0][1]*t[1][0];for(;s<r;s++)o[s]=1;for(var s=0;s<n;s++){for(e=0;e<n;e++)o[u<0?u+n:u]*=t[s][e],o[l<n?l+n:l]*=t[s][e],u++,l--;u=--i-n+1,l=--a}for(var s=0;s<n;s++)c+=o[s];for(;s<r;s++)c-=o[s];return c},gauss_elimination:function(n,r){var o,i,a,u,l=0,s=0,c=n.length,f=n[0].length,d=1,p=0,h=[];n=t.aug(n,r),o=n[0].length;for(var l=0;l<c;l++){for(i=n[l][l],s=l,u=l+1;u<f;u++)i<e.abs(n[u][l])&&(i=n[u][l],s=u);if(s!=l)for(u=0;u<o;u++)a=n[l][u],n[l][u]=n[s][u],n[s][u]=a;for(s=l+1;s<c;s++)for(d=n[s][l]/n[l][l],u=l;u<o;u++)n[s][u]=n[s][u]-d*n[l][u]}for(var l=c-1;l>=0;l--){for(p=0,s=l+1;s<=c-1;s++)p+=h[s]*n[l][s];h[l]=(n[l][o-1]-p)/n[l][l]}return h},gauss_jordan:function(n,r){for(var o=t.aug(n,r),i=o.length,a=o[0].length,u=0,l=0;l<i;l++){for(var s=l,c=l+1;c<i;c++)e.abs(o[c][l])>e.abs(o[s][l])&&(s=c);var f=o[l];o[l]=o[s],o[s]=f;for(var c=l+1;c<i;c++){u=o[c][l]/o[l][l];for(var d=l;d<a;d++)o[c][d]-=o[l][d]*u}}for(var l=i-1;l>=0;l--){u=o[l][l];for(var c=0;c<l;c++)for(var d=a-1;d>l-1;d--)o[c][d]-=o[l][d]*o[c][l]/u;o[l][l]/=u;for(var d=i;d<a;d++)o[l][d]/=u}return o},triaUpSolve:function(e,n){var r,o=e[0].length,i=t.zeros(1,o)[0],a=!1;return void 0!=n[0].length&&(n=n.map(function(t){return t[0]}),a=!0),t.arange(o-1,-1,-1).forEach(function(a){r=t.arange(a+1,o).map(function(t){return i[t]*e[a][t]}),i[a]=(n[a]-t.sum(r))/e[a][a]}),a?i.map(function(t){return[t]}):i},triaLowSolve:function(e,n){var r,o=e[0].length,i=t.zeros(1,o)[0],a=!1;return void 0!=n[0].length&&(n=n.map(function(t){return t[0]}),a=!0),t.arange(o).forEach(function(o){r=t.arange(o).map(function(t){return e[o][t]*i[t]}),i[o]=(n[o]-t.sum(r))/e[o][o]}),a?i.map(function(t){return[t]}):i},lu:function(e){var n,r=e.length,o=t.identity(r),a=t.zeros(e.length,e[0].length);return t.arange(r).forEach(function(t){a[0][t]=e[0][t]}),t.arange(1,r).forEach(function(u){t.arange(u).forEach(function(r){n=t.arange(r).map(function(t){return o[u][t]*a[t][r]}),o[u][r]=(e[u][r]-t.sum(n))/a[r][r]}),t.arange(u,r).forEach(function(r){n=t.arange(u).map(function(t){return o[u][t]*a[t][r]}),a[u][r]=e[i][r]-t.sum(n)})}),[o,a]},cholesky:function(n){var r,o=n.length,i=t.zeros(n.length,n[0].length);return t.arange(o).forEach(function(a){r=t.arange(a).map(function(t){return e.pow(i[a][t],2)}),i[a][a]=e.sqrt(n[a][a]-t.sum(r)),t.arange(a+1,o).forEach(function(e){r=t.arange(a).map(function(t){return i[a][t]*i[e][t]}),i[e][a]=(n[a][e]-t.sum(r))/i[a][a]})}),i},gauss_jacobi:function(n,r,o,i){for(var a,u,l,s,c=0,f=0,d=n.length,p=[],h=[],m=[];c<d;c++)for(p[c]=[],h[c]=[],m[c]=[],f=0;f<d;f++)c>f?(p[c][f]=n[c][f],h[c][f]=m[c][f]=0):c<f?(h[c][f]=n[c][f],p[c][f]=m[c][f]=0):(m[c][f]=n[c][f],p[c][f]=h[c][f]=0);for(l=t.multiply(t.multiply(t.inv(m),t.add(p,h)),-1),u=t.multiply(t.inv(m),r),a=o,s=t.add(t.multiply(l,o),u),c=2;e.abs(t.norm(t.subtract(s,a)))>i;)a=s,s=t.add(t.multiply(l,a),u),c++;return s},gauss_seidel:function(n,r,o,i){for(var a,u,l,s,c,f=0,d=n.length,p=[],h=[],m=[];f<d;f++)for(p[f]=[],h[f]=[],m[f]=[],a=0;a<d;a++)f>a?(p[f][a]=n[f][a],h[f][a]=m[f][a]=0):f<a?(h[f][a]=n[f][a],p[f][a]=m[f][a]=0):(m[f][a]=n[f][a],p[f][a]=h[f][a]=0);for(s=t.multiply(t.multiply(t.inv(t.add(m,p)),h),-1),l=t.multiply(t.inv(t.add(m,p)),r),u=o,c=t.add(t.multiply(s,o),l),f=2;e.abs(t.norm(t.subtract(c,u)))>i;)u=c,c=t.add(t.multiply(s,u),l),f+=1;return c},SOR:function(n,r,o,i,a){for(var u,l,s,c,f,d=0,p=n.length,h=[],m=[],v=[];d<p;d++)for(h[d]=[],m[d]=[],v[d]=[],u=0;u<p;u++)d>u?(h[d][u]=n[d][u],m[d][u]=v[d][u]=0):d<u?(m[d][u]=n[d][u],h[d][u]=v[d][u]=0):(v[d][u]=n[d][u],h[d][u]=m[d][u]=0);for(c=t.multiply(t.inv(t.add(v,t.multiply(h,a))),t.subtract(t.multiply(v,1-a),t.multiply(m,a))),s=t.multiply(t.multiply(t.inv(t.add(v,t.multiply(h,a))),r),a),l=o,f=t.add(t.multiply(c,o),s),d=2;e.abs(t.norm(t.subtract(f,l)))>i;)l=f,f=t.add(t.multiply(c,l),s),d++;return f},householder:function(n){for(var r,o,i,a,u,l=n.length,s=n[0].length,c=0,f=[],d=[];c<l-1;c++){for(r=0,a=c+1;a<s;a++)r+=n[a][c]*n[a][c];for(u=n[c+1][c]>0?-1:1,r=u*e.sqrt(r),o=e.sqrt((r*r-n[c+1][c]*r)/2),f=t.zeros(l,1),f[c+1][0]=(n[c+1][c]-r)/(2*o),i=c+2;i<l;i++)f[i][0]=n[i][c]/(2*o);d=t.subtract(t.identity(l,s),t.multiply(t.multiply(f,t.transpose(f)),2)),n=t.multiply(d,t.multiply(n,d))}return n},QR:function(){function n(n){var a=n.length,u=n[0].length;n=t.copy(n),r=t.zeros(u,u);var l,s,c;for(s=0;s<u;s++){for(r[s][s]=e.sqrt(o(i(a).map(function(t){return n[t][s]*n[t][s]}))),l=0;l<a;l++)n[l][s]=n[l][s]/r[s][s];for(c=s+1;c<u;c++)for(r[s][c]=o(i(a).map(function(t){return n[t][s]*n[t][c]})),l=0;l<a;l++)n[l][c]=n[l][c]-n[l][s]*r[s][c]}return[n,r]}var o=t.sum,i=t.arange;return n}(),lstsq:function(e,n){function r(e){e=t.copy(e);var n=e.length,r=t.identity(n);return t.arange(n-1,-1,-1).forEach(function(n){t.sliceAssign(r,{row:n},t.divide(t.slice(r,{row:n}),e[n][n])),t.sliceAssign(e,{row:n},t.divide(t.slice(e,{row:n}),e[n][n])),t.arange(n).forEach(function(o){var i=t.multiply(e[o][n],-1),a=t.slice(e,{row:o}),u=t.multiply(t.slice(e,{row:n}),i);t.sliceAssign(e,{row:o},t.add(a,u));var l=t.slice(r,{row:o}),s=t.multiply(t.slice(r,{row:n}),i);t.sliceAssign(r,{row:o},t.add(l,s))})}),r}function o(e,n){var o=!1;void 0===n[0].length&&(n=n.map(function(t){return[t]}),o=!0);var i=t.QR(e),a=i[0],u=i[1],l=e[0].length,s=t.slice(a,{col:{end:l}}),c=t.slice(u,{row:{end:l}}),f=r(c),d=t.transpose(s);void 0===d[0].length&&(d=[d]);var p=t.multiply(t.multiply(f,d),n);return void 0===p.length&&(p=[[p]]),o?p.map(function(t){return t[0]}):p}return o}(),jacobi:function(n){for(var r,o,i,a,u,l,s,c,f=1,d=0,p=n.length,h=t.identity(p,p),m=[];1===f;){d++,l=n[0][1],a=0,u=1;for(var o=0;o<p;o++)for(i=0;i<p;i++)o!=i&&l<e.abs(n[o][i])&&(l=e.abs(n[o][i]),a=o,u=i);s=n[a][a]===n[u][u]?n[a][u]>0?e.PI/4:-e.PI/4:e.atan(2*n[a][u]/(n[a][a]-n[u][u]))/2,c=t.identity(p,p),c[a][a]=e.cos(s),c[a][u]=-e.sin(s),c[u][a]=e.sin(s),c[u][u]=e.cos(s),h=t.multiply(h,c),r=t.multiply(t.multiply(t.inv(c),n),c),n=r,f=0;for(var o=1;o<p;o++)for(i=1;i<p;i++)o!=i&&e.abs(n[o][i])>.001&&(f=1)}for(var o=0;o<p;o++)m.push(n[o][o]);return[h,m]},rungekutta:function(t,e,n,r,o,i){var a,u,l,s,c;if(2===i)for(;r<=n;)a=e*t(r,o),u=e*t(r+e,o+a),l=o+(a+u)/2,o=l,r+=e;if(4===i)for(;r<=n;)a=e*t(r,o),u=e*t(r+e/2,o+a/2),s=e*t(r+e/2,o+u/2),c=e*t(r+e,o+s),l=o+(a+2*u+2*s+c)/6,o=l,r+=e;return o},romberg:function(t,n,r,o){for(var i,a,u,l,s,c=0,f=(r-n)/2,d=[],p=[],h=[];c<o/2;){for(s=t(n),u=n,l=0;u<=r;u+=f,l++)d[l]=u;for(i=d.length,u=1;u<i-1;u++)s+=(u%2!=0?4:2)*t(d[u]);s=f/3*(s+t(r)),h[c]=s,f/=2,c++}for(a=h.length,i=1;1!==a;){for(u=0;u<a-1;u++)p[u]=(e.pow(4,i)*h[u+1]-h[u])/(e.pow(4,i)-1);a=p.length,h=p,p=[],i++}return h},richardson:function(t,n,r,o){function i(t,e){for(var n,r=0,o=t.length;r<o;r++)t[r]===e&&(n=r);return n}for(var a,u,l,s,c,f=(t.length,e.abs(r-t[i(t,r)+1])),d=0,p=[],h=[];o>=f;)a=i(t,r+o),u=i(t,r),p[d]=(n[a]-2*n[u]+n[2*u-a])/(o*o),o/=2,d++;for(s=p.length,l=1;1!=s;){for(c=0;c<s-1;c++)h[c]=(e.pow(4,l)*p[c+1]-p[c])/(e.pow(4,l)-1);s=h.length,p=h,h=[],l++}return p},simpson:function(t,e,n,r){for(var o,i=(n-e)/r,a=t(e),u=[],l=e,s=0,c=1;l<=n;l+=i,s++)u[s]=l;for(o=u.length;c<o-1;c++)a+=(c%2!=0?4:2)*t(u[c]);return i/3*(a+t(n))},hermite:function(t,e,n,r){for(var o,i=t.length,a=0,u=0,l=[],s=[],c=[],f=[];u<i;u++){for(l[u]=1,o=0;o<i;o++)u!=o&&(l[u]*=(r-t[o])/(t[u]-t[o]));for(s[u]=0,o=0;o<i;o++)u!=o&&(s[u]+=1/(t[u]-t[o]));c[u]=(1-2*(r-t[u])*s[u])*(l[u]*l[u]),f[u]=(r-t[u])*(l[u]*l[u]),a+=c[u]*e[u]+f[u]*n[u]}return a},lagrange:function(t,e,n){for(var r,o,i=0,a=0,u=t.length;a<u;a++){for(o=e[a],r=0;r<u;r++)a!=r&&(o*=(n-t[r])/(t[a]-t[r]));i+=o}return i},cubic_spline:function(e,n,r){for(var o,i=e.length,a=0,u=[],l=[],s=[],c=[],f=[],d=[],p=[];a<i-1;a++)f[a]=e[a+1]-e[a];s[0]=0;for(var a=1;a<i-1;a++)s[a]=3/f[a]*(n[a+1]-n[a])-3/f[a-1]*(n[a]-n[a-1]);for(var a=1;a<i-1;a++)u[a]=[],l[a]=[],u[a][a-1]=f[a-1],u[a][a]=2*(f[a-1]+f[a]),u[a][a+1]=f[a],l[a][0]=s[a];for(c=t.multiply(t.inv(u),l),o=0;o<i-1;o++)d[o]=(n[o+1]-n[o])/f[o]-f[o]*(c[o+1][0]+2*c[o][0])/3,p[o]=(c[o+1][0]-c[o][0])/(3*f[o]);for(o=0;o<i&&!(e[o]>r);o++);return o-=1,n[o]+(r-e[o])*d[o]+t.sq(r-e[o])*c[o]+(r-e[o])*t.sq(r-e[o])*p[o]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(e){for(var n,r,o=e.length,i=e[0].length,a=0,u=[],l=[],s=[],c=[],f=[],d=[],p=[],h=[],m=[],v=[],a=0;a<o;a++)u[a]=t.sum(e[a])/i;for(var a=0;a<i;a++)for(p[a]=[],n=0;n<o;n++)p[a][n]=e[n][a]-u[n];p=t.transpose(p);for(var a=0;a<o;a++)for(h[a]=[],n=0;n<o;n++)h[a][n]=t.dot([p[a]],[p[n]])/(i-1);s=t.jacobi(h),m=s[0],l=s[1],v=t.transpose(m);for(var a=0;a<l.length;a++)for(n=a;n<l.length;n++)l[a]<l[n]&&(r=l[a],l[a]=l[n],l[n]=r,c=v[a],v[a]=v[n],v[n]=c);d=t.transpose(p);for(var a=0;a<o;a++)for(f[a]=[],n=0;n<d.length;n++)f[a][n]=t.dot([v[a]],[d[n]]);return[e,l,v,f]}}),function(e){for(var n=0;n<e.length;n++)!function(e){t.fn[e]=function(n,r){var o=this;return r?(setTimeout(function(){r.call(o,t.fn[e].call(o,n))},15),this):"number"==typeof t[e](this,n)?t[e](this,n):t(t[e](this,n))}}(e[n])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(t,Math),function(t,e){function n(t,n,r,o){if(t>1||r>1||t<=0||r<=0)throw new Error("Proportions should be greater than 0 and less than 1");var i=(t*n+r*o)/(n+o);return(t-r)/e.sqrt(i*(1-i)*(1/n+1/o))}var r=[].slice,o=t.utils.isNumber,i=t.utils.isArray;t.extend({zscore:function(){var e=r.call(arguments);return o(e[1])?(e[0]-e[1])/e[2]:(e[0]-t.mean(e[1]))/t.stdev(e[1],e[2])},ztest:function(){var n,o=r.call(arguments);return i(o[1])?(n=t.zscore(o[0],o[1],o[3]),1===o[2]?t.normal.cdf(-e.abs(n),0,1):2*t.normal.cdf(-e.abs(n),0,1)):o.length>2?(n=t.zscore(o[0],o[1],o[2]),1===o[3]?t.normal.cdf(-e.abs(n),0,1):2*t.normal.cdf(-e.abs(n),0,1)):(n=o[0],1===o[1]?t.normal.cdf(-e.abs(n),0,1):2*t.normal.cdf(-e.abs(n),0,1))}}),t.extend(t.fn,{zscore:function(t,e){return(t-this.mean())/this.stdev(e)},ztest:function(n,r,o){var i=e.abs(this.zscore(n,o));return 1===r?t.normal.cdf(-i,0,1):2*t.normal.cdf(-i,0,1)}}),t.extend({tscore:function(){var n=r.call(arguments);return 4===n.length?(n[0]-n[1])/(n[2]/e.sqrt(n[3])):(n[0]-t.mean(n[1]))/(t.stdev(n[1],!0)/e.sqrt(n[1].length))},ttest:function(){var n,i=r.call(arguments);return 5===i.length?(n=e.abs(t.tscore(i[0],i[1],i[2],i[3])),1===i[4]?t.studentt.cdf(-n,i[3]-1):2*t.studentt.cdf(-n,i[3]-1)):o(i[1])?(n=e.abs(i[0]),1==i[2]?t.studentt.cdf(-n,i[1]-1):2*t.studentt.cdf(-n,i[1]-1)):(n=e.abs(t.tscore(i[0],i[1])),1==i[2]?t.studentt.cdf(-n,i[1].length-1):2*t.studentt.cdf(-n,i[1].length-1))}}),t.extend(t.fn,{tscore:function(t){return(t-this.mean())/(this.stdev(!0)/e.sqrt(this.cols()))},ttest:function(n,r){return 1===r?1-t.studentt.cdf(e.abs(this.tscore(n)),this.cols()-1):2*t.studentt.cdf(-e.abs(this.tscore(n)),this.cols()-1)}}),t.extend({anovafscore:function(){var n,o,i,a,u,l,s,c,f=r.call(arguments);if(1===f.length){u=new Array(f[0].length);for(var s=0;s<f[0].length;s++)u[s]=f[0][s];f=u}if(2===f.length)return t.variance(f[0])/t.variance(f[1]);o=new Array;for(var s=0;s<f.length;s++)o=o.concat(f[s]);i=t.mean(o),n=0;for(var s=0;s<f.length;s++)n+=f[s].length*e.pow(t.mean(f[s])-i,2);n/=f.length-1,l=0;for(var s=0;s<f.length;s++)for(a=t.mean(f[s]),c=0;c<f[s].length;c++)l+=e.pow(f[s][c]-a,2);return l/=o.length-f.length,n/l},anovaftest:function(){var e,n,i,a,u=r.call(arguments);if(o(u[0]))return 1-t.centralF.cdf(u[0],u[1],u[2]);anovafscore=t.anovafscore(u),e=u.length-1,i=0;for(var a=0;a<u.length;a++)i+=u[a].length;return n=i-e-1,1-t.centralF.cdf(anovafscore,e,n)},ftest:function(e,n,r){return 1-t.centralF.cdf(e,n,r)}}),t.extend(t.fn,{anovafscore:function(){return t.anovafscore(this.toArray())},anovaftes:function(){for(var e,n=0,e=0;e<this.length;e++)n+=this[e].length;return t.ftest(this.anovafscore(),this.length-1,n-this.length)}}),t.extend({qscore:function(){var n,i,a,u,l,s=r.call(arguments);return o(s[0])?(n=s[0],i=s[1],a=s[2],u=s[3],l=s[4]):(n=t.mean(s[0]),i=t.mean(s[1]),a=s[0].length,u=s[1].length,l=s[2]),e.abs(n-i)/(l*e.sqrt((1/a+1/u)/2))},qtest:function(){var e,n=r.call(arguments);3===n.length?(e=n[0],n=n.slice(1)):7===n.length?(e=t.qscore(n[0],n[1],n[2],n[3],n[4]),n=n.slice(5)):(e=t.qscore(n[0],n[1],n[2]),n=n.slice(3));var o=n[0],i=n[1];return 1-t.tukey.cdf(e,i,o-i)},tukeyhsd:function(e){for(var n=t.pooledstdev(e),r=e.map(function(e){return t.mean(e)}),o=e.reduce(function(t,e){return t+e.length},0),i=[],a=0;a<e.length;++a)for(var u=a+1;u<e.length;++u){var l=t.qtest(r[a],r[u],e[a].length,e[u].length,n,o,e.length);i.push([[a,u],l])}return i}}),t.extend({normalci:function(){var n,o=r.call(arguments),i=new Array(2);return n=4===o.length?e.abs(t.normal.inv(o[1]/2,0,1)*o[2]/e.sqrt(o[3])):e.abs(t.normal.inv(o[1]/2,0,1)*t.stdev(o[2])/e.sqrt(o[2].length)),i[0]=o[0]-n,i[1]=o[0]+n,i},tci:function(){var n,o=r.call(arguments),i=new Array(2);return n=4===o.length?e.abs(t.studentt.inv(o[1]/2,o[3]-1)*o[2]/e.sqrt(o[3])):e.abs(t.studentt.inv(o[1]/2,o[2].length-1)*t.stdev(o[2],!0)/e.sqrt(o[2].length)),i[0]=o[0]-n,i[1]=o[0]+n,i},significant:function(t,e){return t<e}}),t.extend(t.fn,{normalci:function(e,n){return t.normalci(e,n,this.toArray())},tci:function(e,n){return t.tci(e,n,this.toArray())}}),t.extend(t.fn,{oneSidedDifferenceOfProportions:function(e,r,o,i){var a=n(e,r,o,i);return t.ztest(a,1)},twoSidedDifferenceOfProportions:function(e,r,o,i){var a=n(e,r,o,i);return t.ztest(a,2)}})}(t,Math),t.models=function(){function e(t,e){return n(t,e)}function e(e){var r=e[0].length;return t.arange(r).map(function(o){var i=t.arange(r).filter(function(t){return t!==o});return n(t.col(e,o).map(function(t){return t[0]}),t.col(e,i))})}function n(e,n){var r=e.length,o=n[0].length-1,i=r-o-1,a=t.lstsq(n,e),u=t.multiply(n,a.map(function(t){return[t]})).map(function(t){return t[0]}),l=t.subtract(e,u),s=t.mean(e),c=t.sum(u.map(function(t){return Math.pow(t-s,2)})),f=t.sum(e.map(function(t,e){return Math.pow(t-u[e],2)})),d=c+f;return{exog:n,endog:e,nobs:r,df_model:o,df_resid:i,coef:a,predict:u,resid:l,ybar:s,SST:d,SSE:c,SSR:f,R2:c/d}}function r(n){var r=e(n.exog),o=Math.sqrt(n.SSR/n.df_resid),i=r.map(function(t){var e=t.SST,n=t.R2;return o/Math.sqrt(e*(1-n))}),a=n.coef.map(function(t,e){return(t-0)/i[e]}),u=a.map(function(e){var r=t.studentt.cdf(e,n.df_resid);return 2*(r>.5?1-r:r)}),l=t.studentt.inv(.975,n.df_resid),s=n.coef.map(function(t,e){var n=l*i[e];return[t-n,t+n]});return{se:i,t:a,p:u,sigmaHat:o,interval95:s}}function o(e){var n=e.R2/e.df_model/((1-e.R2)/e.df_resid);return{F_statistic:n,pvalue:1-function(e,n,r){return t.beta.cdf(e/(r/n+e),n/2,r/2)}(n,e.df_model,e.df_resid)}}function i(t,e){var i=n(t,e),a=r(i),u=o(i),l=1-(1-i.rsquared)*((i.nobs-1)/i.df_resid);return i.t=a,i.f=u,i.adjust_R2=l,i}return{ols:i}}(),t.jStat=t,t})},909:function(t,e){t.exports={portalWidth:"styles-module__portalWidth__-Qj7G",labeledCheckbox:"styles-module__labeledCheckbox__jTAe1"}},930:function(t,e){t.exports={portalWidth:"styles-module__portalWidth__1kueS",SurvivalTable:"styles-module__SurvivalTable__2NKCT",Tooltip:"styles-module__Tooltip__1I-Ty",NotAvailable:"styles-module__NotAvailable__1Zx5R"}},931:function(t,e,n){"use strict";function r(t){return new Promise(function(e){return setTimeout(e,t)})}Object.defineProperty(e,"__esModule",{value:!0}),e.sleep=r},932:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(883);n.d(e,"dsvFormat",function(){return r.a});var o=n(1005);n.d(e,"csvParse",function(){return o.c}),n.d(e,"csvParseRows",function(){return o.d}),n.d(e,"csvFormat",function(){return o.a}),n.d(e,"csvFormatRows",function(){return o.b});var i=n(1006);n.d(e,"tsvParse",function(){return i.c}),n.d(e,"tsvParseRows",function(){return i.d}),n.d(e,"tsvFormat",function(){return i.a}),n.d(e,"tsvFormatRows",function(){return i.b})},999:function(t,e,n){"use strict";function r(t){return!!a(t)&&(i(window)&&a(window.Node)?t instanceof window.Node:"number"==typeof t.nodeType&&"string"==typeof t.nodeName)}function o(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]||arguments[2];if(!r(t))throw new Error("parameter 1 is not of type 'Element'");if(!1===n)return e;if(u)var o=t.ownerDocument.defaultView.getComputedStyle(t,null),a=!0===n?o:Object.keys(n);else var o=i(t.currentStyle)?t.currentStyle:t.style,a=!0===n?Object.keys(o):Object.keys(n);for(var l=0,s=a.length;l<s;l++){var c=a[l],f=!0===n||n[c];if(!1!==f&&i(f)){var d=u?o.getPropertyValue(c):o[c];"string"==typeof d&&""!==d&&(!0!==f&&d===f||(e[c]=d))}}return e}Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return void 0!==t},a=function(t){return null!==t&&"object"==typeof t},u=i(window)&&i(window.getComputedStyle);e.default=o,t.exports=e.default}});
//# sourceMappingURL=3.83aad134f0d518058369.chunk.js.map