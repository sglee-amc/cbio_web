webpackJsonp([2],{1010:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=r(1),u=o(d),h=r(1011),f=n(h),p=r(859),_=r(855),m=o(_),y=r(1026),g=n(y),v=r(33),b=r(1027),w=n(b),j=r(1028),k=n(j),S=r(1036),O=n(S),x=r(864),P=n(x),C=r(175),E=r(293),T=r(64),A=n(T),N=r(1052),M=n(N),I=r(1054),D=n(I),R=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},L=m,F=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleSubmit=e.handleSubmit.bind(e),e}return s(t,e),l(t,[{key:"handleSubmit",value:function(){this.store.submit(),this.props.onSubmit&&this.props.onSubmit()}},{key:"render",value:function(){var e=this;return u.createElement(p.FlexCol,{padded:!0,overflow:!0,className:L.QueryContainer},u.createElement(D.default,{ids:this.store.unknownStudyIds}),u.createElement(f.default,null),this.store.isVirtualStudyQuery?u.createElement(w.default,null):u.createElement(g.default,null),this.store.selectableSelectedStudyIds.length>0&&u.createElement(M.default,null),u.createElement(O.default,null),!!this.store.isGenesetProfileSelected&&u.createElement(k.default,null),!!this.store.forDownloadTab&&u.createElement("span",{className:L.downloadSubmitExplanation},"Clicking submit will generate a tab-delimited file containing your requested data."),!!this.store.forDownloadTab&&u.createElement(P.default,{labelProps:{className:L.transposeDataMatrix},checked:this.store.transposeDataMatrix,onChange:function(t){return e.store.transposeDataMatrix=t.currentTarget.checked}},"Transpose data matrix"),u.createElement(p.FlexRow,{padded:!0,className:L.submitRow},u.createElement("button",{style:{paddingLeft:50,paddingRight:50,marginRight:50},disabled:!this.store.submitEnabled,className:"btn btn-primary btn-lg",onClick:function(){return e.handleSubmit()},"data-test":"queryButton"},this.store.forDownloadTab?"Download":"Submit Query"),!(!this.store.forDownloadTab||!A.default.genomespaceEnabled)&&u.createElement("button",{disabled:!this.store.submitEnabled,className:L.genomeSpace,onClick:function(){return e.store.sendToGenomeSpace()}},"Send to GenomeSpace"),u.createElement(p.FlexCol,null,!!this.store.submitError&&u.createElement("span",{className:L.errorMessage,"data-test":"oqlErrorMessage"},this.store.submitError),this.store.oqlMessages.map(function(e){return u.createElement("span",{className:L.oqlMessage},u.createElement("i",{className:"fa fa-info-circle",style:{marginRight:5}}),e)}))))}},{key:"store",get:function(){return this.props.store}}]),t}(u.Component);F=R([(0,E.providesStoreContext)(C.QueryStore),v.observer],F),t.default=F},1011:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=r(3),h=o(u),f=r(1),p=o(f),_=r(859),m=r(855),y=o(m),g=r(174),v=n(g),b=r(1013),w=n(b),j=r(33),k=r(13),S=r(292),O=n(S),x=r(176),P=r(175),C=r(861),E=n(C),T=r(63),A=r(1019),N=n(A),M=r(173),I=n(M),D=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},R=y,L=function(e){function t(e){var r=this;i(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlers={onSummaryClick:function(){n.store.openSummary()},onCheckAllFiltered:function(){n.logic.mainView.toggleAllFiltered()},onClearFilter:function(){n.store.setSearchText("")}},n.CancerTypeList=(0,j.observer)(function(){var e=n.logic.cancerTypeListView.getChildCancerTypes(n.store.treeData.rootCancerType);return p.createElement("ul",{className:R.cancerTypeList},e.map(function(e,t){return p.createElement(r.CancerTypeListItem,{key:t,cancerType:e})}))}),n.CancerTypeListItem=(0,j.observer)(function(e){var t,r=e.cancerType,o=(0,k.expr)(function(){return n.logic.cancerTypeListView.getDescendantCancerStudies(r).length}),i=h.includes(n.store.selectedCancerTypeIds,r.cancerTypeId),s=n.logic.isHighlighted(r),l=(0,v.default)((t={},a(t,R.cancerTypeListItem,!0),a(t,R.selectable,!0),a(t,R.selected,i),a(t,R.matchingNodeText,!!n.store.searchText&&s),a(t,R.nonMatchingNodeText,!!n.store.searchText&&!s),a(t,R.containsSelectedStudies,(0,k.expr)(function(){return n.logic.cancerTypeContainsSelectedStudies(r)})),t));return p.createElement("li",{className:l,onMouseDown:n.getCancerTypeListClickHandler(r)},p.createElement("span",{className:R.cancerTypeListItemLabel},r.name),p.createElement("span",{className:R.cancerTypeListItemCount},o))}),n}return l(t,e),c(t,[{key:"getCancerTypeListClickHandler",value:function(e){var t=this;return function(r){return t.store.selectCancerType(e,r.ctrlKey)}}},{key:"handleStudiesCheckbox",value:function(e,t){e.target.checked?this.store.selectableSelectedStudyIds=h.union(this.store.selectableSelectedStudyIds,t):this.store.selectableSelectedStudyIds=h.difference(this.store.selectableSelectedStudyIds,t)}},{key:"render",value:function(){var e=this,t=this.logic.mainView.getSelectionReport(),r=(t.selectableSelectedStudyIds,t.selectableSelectedStudies,t.shownStudies),n=t.shownAndSelectedStudies;return p.createElement(_.FlexCol,{overflow:!0,"data-test":"studyList",className:R.CancerStudySelector},p.createElement(_.FlexRow,{overflow:!0,className:R.CancerStudySelectorHeader},p.createElement(E.default,{promises:[this.store.cancerTypes,this.store.cancerStudies]},"Select Studies:"),p.createElement("div",null,!(this.store.cancerTypes.isPending||this.store.cancerStudies.isPending||this.store.profiledSamplesCount.isPending)&&p.createElement(j.Observer,null,function(){var t,r=(0,k.expr)(function(){return e.store.selectableSelectedStudyIds.length});(0,v.default)((t={},a(t,R.selectedCount,!0),a(t,R.selectionsExist,r>0),t));return p.createElement("a",{onClick:function(){r&&(e.store.showSelectedStudiesOnly=!e.store.showSelectedStudiesOnly)}},p.createElement("b",null,r)," studies selected (",p.createElement("b",null,e.store.profiledSamplesCount.result.all)," samples)")}),!this.store.forDownloadTab&&!(this.store.cancerTypes.isPending||this.store.cancerStudies.isPending)&&p.createElement(j.Observer,null,function(){var t=e.store.selectableSelectedStudyIds.length>0;return t?p.createElement("a",{"data-test":"globalDeselectAllStudiesButton",style:{marginLeft:10},onClick:function(){t?e.logic.mainView.clearAllSelection():e.logic.mainView.onCheck(e.store.treeData.rootCancerType,!t)}},"Deselect all"):p.createElement("span",null)}),!(this.store.cancerTypes.isPending||this.store.cancerStudies.isPending)&&p.createElement(j.Observer,null,function(){var t=e.store.selectableSelectedStudyIds.length>50,r=t?p.createElement("span",null,"Too many studies selected for study summary (limit: 50)"):p.createElement("span",null,"Open summary of selected studies in a new window.");return p.createElement(I.default,{placement:"top",overlay:r,disabled:!e.store.summaryEnabled,mouseEnterDelay:0},p.createElement(T.Button,{bsSize:"xs",disabled:t,bsStyle:"primary",className:(0,v.default)("btn-primary"),onClick:e.handlers.onSummaryClick,style:{marginLeft:10,display:e.store.summaryEnabled?"inline-block":"none",cursor:"pointer",bgColor:"#3786C2"}},p.createElement("i",{className:"ci ci-pie-chart"})," View summary"))})),p.createElement(j.Observer,null,function(){var t=e.store.searchTextPresets;e.store.searchText&&t.indexOf(e.store.searchText)<0&&(t=[e.store.searchText].concat(t));var r=null,n=t.map(function(e,t){return{value:e,sortKey:t}});return p.createElement("div",{style:{display:"flex",alignItems:"center"}},e.store.searchText&&p.createElement("span",{"data-test":"clearStudyFilter",onClick:function(t){e.autosuggest.setState({inputValue:""}),e.handlers.onClearFilter()},style:{fontSize:18,cursor:"pointer",color:"#999999",position:"relative",left:164,zIndex:10}},"x"),p.createElement(N.default,{datalist:n,ref:function(t){return e.autosuggest=t},placeholder:"Search...",bsSize:"small",onChange:function(t){null!==r&&(window.clearTimeout(r),r=null),r=window.setTimeout(function(){e.store.setSearchText(t)},400)},onFocus:function(t){0===t.length&&setTimeout(function(){e.autosuggest.setState({open:!0})},400)}}))})),p.createElement(E.default,{style:{display:"none"},promises:[this.store.cancerTypes,this.store.cancerStudies]},"Select Studies:",!(this.store.cancerTypes.isPending||this.store.cancerStudies.isPending||this.store.profiledSamplesCount.isPending)&&p.createElement(j.Observer,null,function(){var t,r=(0,k.expr)(function(){return e.store.selectableSelectedStudyIds.length}),n=(0,v.default)((t={},a(t,R.selectedCount,!0),a(t,R.selectionsExist,r>0),t));return p.createElement("span",{className:n,onClick:function(){r&&(e.store.showSelectedStudiesOnly=!e.store.showSelectedStudiesOnly)}},p.createElement("b",null,r)," studies selected (",p.createElement("b",null,e.store.profiledSamplesCount.result.all)," samples)")})),p.createElement(_.FlexRow,{className:R.cancerStudySelectorBody},p.createElement(x.If,{condition:this.store.maxTreeDepth>0},p.createElement(x.Then,null,p.createElement("div",{className:R.cancerTypeListContainer},p.createElement(this.CancerTypeList,null)))),p.createElement("div",{className:R.cancerStudyListContainer,"data-test":"cancerTypeListContainer"},p.createElement("div",{className:"checkbox",style:{marginLeft:19}},p.createElement(x.If,{condition:r.length>0},p.createElement("label",null,p.createElement("input",{type:"checkbox","data-test":"selectAllStudies",style:{top:-2},onClick:this.handlers.onCheckAllFiltered,checked:n.length===r.length}),p.createElement("strong",null,n.length===r.length?"Deselect all listed studies "+(r.length<this.store.cancerStudies.result.length?"matching filter":"")+" ("+r.length+")":"Select all listed studies "+(r.length<this.store.cancerStudies.result.length?"matching filter":"")+"  ("+r.length+")"))),p.createElement(x.If,{condition:this.store.cancerStudies.isComplete&&this.store.cancerTypes.isComplete&&0===r.length},p.createElement("p",null,"There are no studies matching your filter."))),p.createElement(w.default,null))),p.createElement(T.Modal,{className:(0,v.default)(R.SelectedStudiesWindow,"cbioportal-frontend"),show:this.store.showSelectedStudiesOnly,onHide:function(){return e.store.showSelectedStudiesOnly=!1}},p.createElement(T.Modal.Header,{closeButton:!0},p.createElement(T.Modal.Title,null,"Selected Studies")),p.createElement(T.Modal.Body,null,p.createElement(w.default,{showSelectedStudiesOnly:!0}))))}},{key:"logic",get:function(){return this.store.studyListLogic}}]),t}(P.QueryStoreComponent);D([O.default],L.prototype,"getCancerTypeListClickHandler",null),L=D([j.observer],L),t.default=L},1012:function(e,t){e.exports={portalWidth:"styles-module__portalWidth__3uFIJ",padded:"styles-module__padded__3vpqj",column:"styles-module__column__2pa-R",row:"styles-module__row__3l99O"}},1013:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CancerTreeCheckbox=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=r(1),f=o(h),p=r(1014),_=o(p),m=r(174),y=n(m),g=r(866),v=n(g),b=r(864),w=n(b),j=r(33),k=r(13),S=r(3),O=n(S),x=r(25),P=r(175),C=r(173),E=n(C),T=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},A=Object.assign({},_,{Level:function(e){return _["Level"+e]}}),N=function(e){function t(){i(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.renderCancerType=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.logic.getDepth(t),o=e.view.getChildCancerTypes(t),a=e.view.getChildCancerStudies(t),i=e.logic.cancerTypeListView.getDescendantCancerStudies(t).map(function(e){return e.studyId}),s=void 0,l=void 0;if(t!=e.rootCancerType){var c=(0,y.default)(A.CancerType,A.Level(n),e.logic.isHighlighted(t)&&A.highlighted);3===n&&(l=f.createElement(v.default,{className:A.indentArrow,name:"long-arrow-right"})),s=f.createElement("li",{className:c},f.createElement(M,{view:e.view,node:t},l,f.createElement("span",{className:A.CancerTypeName},t.name),!e.store.forDownloadTab&&f.createElement("span",{className:A.SelectAll},O.default.intersection(i,e.store.selectableSelectedStudyIds).length?"Deselect All":"Select All")))}var d=(0,y.default)(A.StudyList,A.Level(n));return f.createElement("ul",{key:r,className:d},s,a.map(e.renderCancerStudy),o.map(e.renderCancerType))},e.renderCancerStudy=function(t,r){var n=(0,y.default)(A.Study,e.logic.isHighlighted(t)&&A.highlighted),o=t.studyId in e.store.getOverlappingStudiesMap,i=o?f.createElement(E.default,{mouseEnterDelay:0,placement:"top",overlay:f.createElement("div",null,"This study may share samples with another selected study.")},f.createElement("i",{className:"fa fa-exclamation-triangle"})):null;return f.createElement("li",{key:r,className:n,"data-test":e.store.isVirtualStudy(t.studyId)?"VirtualStudySelect":"StudySelect"},f.createElement(j.Observer,null,function(){var r,n=(0,y.default)((r={},a(r,A.StudyName,!0),a(r,"overlappingStudy",o),a(r,A.DeletedStudy,e.store.isDeletedVirtualStudy(t.studyId)),r));return f.createElement(M,{view:e.view,node:t},f.createElement("span",{className:n},t.name,i))}),f.createElement(j.Observer,null,function(){return f.createElement("div",{className:A.StudyMeta},!e.store.isDeletedVirtualStudy(t.studyId)&&e.renderSamples(t),e.renderStudyLinks(t))}))},e.renderSamples=function(e){return f.createElement("span",{className:A.StudySamples},e.allSampleCount+" samples")},e.renderStudyLinks=function(t){if(e.store.isDeletedVirtualStudy(t.studyId))return f.createElement(E.default,{mouseEnterDelay:0,placement:"top",overlay:f.createElement("div",{className:A.tooltip},"Restore study"),children:f.createElement("button",{className:"btn btn-default btn-xs",onClick:function(){return e.store.restoreVirtualStudy(t.studyId)},style:{lineHeight:"80%"},"data-test":"virtualStudyRestore"},"Restore")});var r=[{icon:"info-circle",tooltip:e.store.isVirtualStudy(t.studyId)?t.description.replace(/\r?\n/g,"<br />"):t.description}];return e.store.isVirtualStudy(t.studyId)?r.push({icon:"trash",tooltip:"Delete this virtual study.",onClick:function(){return e.store.deleteVirtualStudy(t.studyId)}}):r.push({icon:"book",onClick:t.pmid&&(0,x.getPubMedUrl)(t.pmid),tooltip:t.pmid&&"PubMed"}),f.createElement("span",{className:A.StudyLinks},r.map(function(e,t){var r,n=f.createElement(v.default,{key:t,name:e.icon,className:(0,y.default)((r={},a(r,A.icon,!0),a(r,A.iconWithTooltip,!!e.tooltip),a(r,A.trashIcon,"trash"===e.icon),r))});if(e.onClick){var o={key:t};"string"==typeof e.onClick?(o.href=e.onClick,o.target="_blank"):o.onClick=e.onClick,n=f.createElement("a",o,n)}if(e.tooltip){var i=f.createElement("div",{className:A.tooltip,dangerouslySetInnerHTML:{__html:e.tooltip}});n=f.createElement(E.default,{key:t,mouseEnterDelay:0,placement:"top",overlay:i,children:n})}return n}),t.studyId&&f.createElement(E.default,{mouseEnterDelay:0,placement:"top",overlay:f.createElement("div",{className:A.tooltip},"View study summary")},f.createElement("span",{onClick:function(){return(0,x.openStudySummaryFormSubmit)(t.studyId)},className:(0,y.default)(A.summaryIcon,"ci ci-pie-chart")})))},e}return l(t,e),d(t,[{key:"componentDidMount",value:function(){this.props.showSelectedStudiesOnly&&(this._view=this.view)}},{key:"render",value:function(){var e=this,t=this.renderCancerType(this.rootCancerType);return this.props.showSelectedStudiesOnly?f.createElement("div",{className:A.SelectedStudyList},f.createElement("span",{className:A.deselectAll,onClick:function(){e.view.onCheck(e.store.treeData.rootCancerType,!1),e.store.showSelectedStudiesOnly=!1}},"Deselect all"),t):t}},{key:"view",get:function(){return this._view||(this.props.showSelectedStudiesOnly?this.logic.selectedStudiesView:this.logic.mainView)}},{key:"logic",get:function(){return this.store.studyListLogic}},{key:"rootCancerType",get:function(){return this.store.treeData.rootCancerType}}]),t}(P.QueryStoreComponent);N=T([j.observer],N),t.default=N;var M=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),d(t,[{key:"render",value:function(){var e=this;return f.createElement(w.default,c({},this.checkboxProps,{onChange:function(t){e.props.view.onCheck(e.props.node,t.target.checked)}}),this.props.children)}},{key:"checkboxProps",get:function(){return this.props.view.getCheckboxProps(this.props.node)}}]),t}(P.QueryStoreComponent);T([k.computed.struct],M.prototype,"checkboxProps",null),t.CancerTreeCheckbox=M=T([j.observer],M),t.CancerTreeCheckbox=M},1014:function(e,t){e.exports={portalWidth:"styles-module__portalWidth__agNQJ",selectAllStudies:"styles-module__selectAllStudies__2gWhF",SelectedStudyList:"styles-module__SelectedStudyList__27Hpt",StudyList:"styles-module__StudyList__2mxsz",deselectAll:"styles-module__deselectAll__26p-l",Level0:"styles-module__Level0__1RUPZ",Level1:"styles-module__Level1__2R0IW",Level3:"styles-module__Level3__1vXaT",Level4:"styles-module__Level4__3ZJ1g",Level2:"styles-module__Level2__3AEJ-",CancerType:"styles-module__CancerType__Zm_qX",Study:"styles-module__Study__398QL",indentArrow:"styles-module__indentArrow__32udx",SelectAll:"styles-module__SelectAll__3SSsJ",StudyName:"styles-module__StudyName__3IA_4",DeletedStudy:"styles-module__DeletedStudy__2axOg",StudySamples:"styles-module__StudySamples__3_cjf",StudyMeta:"styles-module__StudyMeta__3UFnp",StudyLinks:"styles-module__StudyLinks__cMCHs",summaryIcon:"styles-module__summaryIcon__WR75I",iconWithTooltip:"styles-module__iconWithTooltip__2yBW3",icon:"styles-module__icon__1ZBlQ",trashIcon:"styles-module__trashIcon__1z-wJ",tooltip:"styles-module__tooltip__b54B6",fadein:"styles-module__fadein__2G2-B"}},1015:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={position:"absolute",width:"1px",height:"1px",padding:"0px",margin:"-1px",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",border:"0px"},e.exports=t.default},1016:function(e,t){e.exports={portalWidth:"styles-module__portalWidth__1fCuf",SectionHeader:"styles-module__SectionHeader__3RwOA",error:"styles-module__error__1QyPg"}},1017:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(1),u=o(d),h=r(866),f=n(h),p=r(1018),_=o(p),m=r(174),y=n(m),g=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]]);return r},v=_,b=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.error,r=e.children,n=e.className,o=g(e,["error","children","className"]);return u.createElement("div",l({className:(0,y.default)(n,v.error)},o),u.createElement("span",{className:v.message},u.createElement(f.default,{className:v.icon,name:"exclamation-circle"}),t+""),r)}}]),t}(u.Component);t.default=b},1018:function(e,t){e.exports={portalWidth:"styles-module__portalWidth__3FkcF",error:"styles-module__error__19z3B",icon:"styles-module__icon__1tBLC"}},1019:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectListAdapter=t.MapListAdapter=t.ArrayListAdapter=t.EmptyListAdapter=t.ListAdapter=t.ItemAdapter=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(174),u=n(d),h=r(868),f=n(h),p=r(910),_=n(p),m=r(2),y=n(m),g=r(1),v=n(g),b=r(63),w=r(34),j=n(w),k=r(43),S=n(k),O=r(1020),x=n(O),P=r(1021),C=n(P),E=r(911),T=n(E),A=r(875),N=n(A),M=r(1022),I=n(M),D=r(1023),R=n(D),L=r(1024),F=n(L),V=r(1025),G=n(V);t.ItemAdapter=T.default,t.ListAdapter=N.default,t.EmptyListAdapter=I.default,t.ArrayListAdapter=R.default,t.MapListAdapter=F.default,t.ObjectListAdapter=G.default;var B=function(e){function t(e){var r;a(this,t);for(var n=arguments.length,s=Array(n>1?n-1:0),l=1;l<n;l++)s[l-1]=arguments[l];var c=i(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this,e].concat(o(s))));c._itemAdapter=e.itemAdapter||new T.default,c._itemAdapter.receiveProps(e),c._listAdapter=e.datalistAdapter||c._getListAdapter(e.datalist),c._listAdapter.receiveProps(e,c._itemAdapter);var d=c._getValueFromProps(e),u=d.inputValue,h=d.inputItem,f=d.inputItemEphemeral,p=d.selectedItems;c._setValueMeta(h,f,!0,!0),c._lastValidItem=h,c._lastValidValue=u,c._keyPressCount=0,c.state={open:!1,disableFilter:!1,inputValue:u,inputValueKeyPress:0,inputFocused:!1,selectedItems:p,searchValue:null},c._lastOnChangeValue=c._getCurrentValue(),c._lastOnSelectValue=h;var _=c;return _._renderSelected=c._renderSelected.bind(c),_._getItemKey=c._getItemKey.bind(c),_._isSelectedItem=c._isSelectedItem.bind(c),_._renderSuggested=c._renderSuggested.bind(c),_._handleToggleClick=c._handleToggleClick.bind(c),_._handleInputChange=c._handleInputChange.bind(c),_._handleItemSelect=c._handleItemSelect.bind(c),_._removeItem=c._removeItem.bind(c),_._handleShowAll=c._handleShowAll.bind(c),_._handleKeyDown=c._handleKeyDown.bind(c),_._handleKeyPress=c._handleKeyPress.bind(c),_._handleMenuClose=c._handleMenuClose.bind(c),_._handleInputFocus=c._handleInputFocus.bind(c),_._handleInputBlur=c._handleInputBlur.bind(c),_._handleFocus=c._handleFocus.bind(c),_._handleBlur=c._handleBlur.bind(c),c}return s(t,e),c(t,null,[{key:"defaultInputSelect",value:function(e,t,r){switch(e.type){case"text":case"search":case"url":case"tel":case"password":if(e.setSelectionRange)e.setSelectionRange(t.length,r.length);else if(e.createTextRange){var n=e.createTextRange();n.moveEnd("character",r.length),n.moveStart("character",t.length),n.select()}}}}]),c(t,[{key:"_getListAdapter",value:function(e){if(null==e)return new I.default;if(Array.isArray(e))return new R.default;if(e instanceof Map)return new F.default;if("object"==typeof e)return new G.default;throw Error("Unexpected datalist type: datalistAdapter required")}},{key:"_getValueFromProps",value:function(e){var t="",r=null,n=!1,o=[],a=e.value||e.defaultValue;if(null!=a)if(e.multiple)Array.isArray(a)?o=this._filterItems(a,e):(0,S.default)(!a,"Array expected for value property");else if(e.valueIsItem){var i=this._itemAdapter.getInputValue(a);null!=e.datalist?(r=this._listAdapter.findMatching(e.datalist,i),null!=r?t=r===a?i:this._itemAdapter.getInputValue(r):e.datalistOnly&&!e.datalistPartial?this._warnInvalidValue(a):(t=i,r=a)):(t=i,r=a)}else a&&(null!=e.datalist?(r=this._listAdapter.findMatching(e.datalist,a),null!=r?t=this._itemAdapter.getInputValue(r):e.datalistOnly&&!e.datalistPartial?this._warnInvalidValue(a):(t=a.toString(),r=this._itemAdapter.newFromValue(a),n=!0)):(t=a.toString(),r=this._itemAdapter.newFromValue(a),n=!0));return{inputValue:t,inputItem:r,inputItemEphemeral:n,selectedItems:o}}},{key:"_filterItems",value:function(e,t){if(null!=t.datalist||!t.allowDuplicates){var r=[],n={},o=!1,a=!0,i=!1,s=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var d=l.value,u=this._itemAdapter.getInputValue(d);if(t.allowDuplicates||!n[u]){var h=this._listAdapter.findMatching(t.datalist,u);null!=h?(r.push(h),n[u]=!0,o=!0):t.datalistOnly&&!t.datalistPartial?(this._warnInvalidValue(u),o=!0):(r.push(d),n[u]=!0)}else o=!0}}catch(e){i=!0,s=e}finally{try{!a&&c.return&&c.return()}finally{if(i)throw s}}if(o)return r}return e}},{key:"_warnInvalidValue",value:function(e){(0,S.default)(!1,'Value "%s" does not match any datalist value',e)}},{key:"_setInputValue",value:function(e,t){this.setState({inputValue:e,inputValueKeyPress:this._keyPressCount},t)}},{key:"_setValueMeta",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null!=e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;this._inputItem=e,this._inputItemEphemeral=t,this._valueIsValid=r,this._valueWasValidated=n}},{key:"_clearInput",value:function(){this._setValueMeta(null,!1,!0,!0),this._setInputValue("")}},{key:"_getValueUsing",value:function(e,t,r,n){return e.multiple?n:e.valueIsItem?r:t}},{key:"_getCurrentValue",value:function(){return this._getValueUsing(this.props,this.state.inputValue,this._inputItem,this.state.selectedItems)}},{key:"componentDidMount",value:function(){this._autoCompleteAfterRender=!this.refs.input.setSelectionRange}},{key:"componentWillReceiveProps",value:function(e){if(e.itemAdapter!=this.props.itemAdapter&&(this._itemAdapter=e.itemAdapter||new T.default),this._itemAdapter.receiveProps(e),e.datalist!=this.props.datalist||e.datalistAdapter!=this.props.datalistAdapter)if(e.datalistAdapter)this._listAdapter=e.datalistAdapter;else{var t=this._getListAdapter(e.datalist);t.constructor!=this._listAdapter.constructor&&(this._listAdapter=t)}this._listAdapter.receiveProps(e,this._itemAdapter);var r=e.value,n=this.state.inputValue,o=r!==this.props.value&&r!==this._getValueUsing(e,n,this._inputItem,this.state.selectedItems),a=void 0,i=void 0,s=void 0,l=void 0;if(!o){if(e.datalistOnly){var c=!e.datalistPartial&&null!=e.datalist,d=!this.props.datalistOnly||!e.datalistPartial&&this.props.datalistPartial||e.datalist!=this.props.datalist;n?(a=this._listAdapter.findMatching(e.datalist,n),null==a&&(c||this._inputItemEphemeral?this._inputItemEphemeral&&r===n&&(s=!0):a=this._inputItem),(i=null==a&&d)&&this._focused&&(this._setValueMeta(null,!1,!1,!0),d&&c&&null!=this._lastValidItem&&(this._lastValidItem=this._listAdapter.findMatching(e.datalist,this._lastValidValue),null==this._lastValidItem&&(this._lastValidValue="")),i=!1)):(a=null,i=!1),l=e.multiple&&c&&d}e.multiple&&!e.allowDuplicates&&this.props.allowDuplicates&&(l=!0)}if(o||i){var u=void 0,h=void 0;if(s)n="",u=!1,h=[];else{var f=this._getValueFromProps(e);n=f.inputValue,a=f.inputItem,u=f.inputItemEphemeral,h=f.selectedItems}a===this._inputItem&&this._focused?o&&e.multiple&&this.setState({selectedItems:h}):(this._setValueMeta(a,u,!0,!0),this._setInputValue(n),this.setState({selectedItems:h}),l=!1,this._lastValidItem=a,this._lastValidValue=n,o&&(this._lastOnChangeValue=this._getValueUsing(e,n,a,h)))}else n&&e.datalist!=this.props.datalist&&this._focused&&this._checkAutoComplete(n,e);if(l){var p=this._filterItems(this.state.selectedItems,e);this.setState({selectedItems:p})}e.datalistMessage&&e.datalistMessage!=this.props.datalistMessage&&this._focused&&this._open("message",e)}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,f.default)(this.props,e)||!(0,f.default)(this.state,t)}},{key:"componentWillUpdate",value:function(e,t){var r=this.refs.suggestions;this._menuFocusedBeforeUpdate=r&&r.isFocused();var n=t.inputValue;if(n!=this.state.inputValue){var o=void 0,a=void 0,i=void 0;if(this._valueWasValidated?(o=this._inputItem,i=this._valueIsValid):(n?(o=this._listAdapter.findMatching(e.datalist,n),null!=o||e.datalistOnly?(a=!1,i=null!=o):(o=this._itemAdapter.newFromValue(n),a=!0,i=!0)):(o=null,a=!1,i=!e.required),this._setValueMeta(o,a,i)),i&&(this._lastValidItem=o,this._lastValidValue=o&&!a?this._itemAdapter.getInputValue(o):n),i){var s=e.multiple,l=e.onChange;if(!s&&l){var c=this._getValueUsing(e,n,o,t.selectedItems);c!==this._lastOnChangeValue&&(this._lastOnChangeValue=c,l(c))}var d=e.onSelect;d&&o!==this._lastOnSelectValue&&(this._lastOnSelectValue=o,d(o))}}var u=e.onToggle;u&&t.open!=this.state.open&&u(t.open)}},{key:"componentDidUpdate",value:function(e,t){this.state.open&&!t.open&&"keydown"===this._lastOpenEventType||this.state.disableFilter&&!t.disableFilter&&this._menuFocusedBeforeUpdate?this.refs.suggestions.focusFirst():!this.state.open&&t.open&&this._menuFocusedBeforeUpdate&&(this._menuFocusedBeforeUpdate=!1,this._focusInput())}},{key:"componentWillUnmount",value:function(){clearTimeout(this._focusTimeoutId),this._focusTimeoutId=null,clearTimeout(this._searchTimeoutId),this._searchTimeoutId=null}},{key:"_focusInput",value:function(){var e=j.default.findDOMNode(this.refs.input);e instanceof HTMLElement&&e.focus()}},{key:"_open",value:function(e,t){this._lastOpenEventType=e;var r="autocomplete"!==e&&this._hasNoOrExactMatch(t);this.setState({open:!0,disableFilter:r});var n=t.onSearch,o=this.state,a=o.inputValue,i=o.searchValue;n&&i!==a&&(this.setState({searchValue:a}),n(a))}},{key:"_close",value:function(){this.setState({open:!1})}},{key:"_toggleOpen",value:function(e,t){this.state.open?this._close():this._open(e,t)}},{key:"_canOpen",value:function(){var e=this.props.datalist;return null==e&&this.props.onSearch||!this._listAdapter.isEmpty(e)||!!this.props.datalistMessage}},{key:"_hasNoOrExactMatch",value:function(e){var t=this;if(null!=this._inputItem&&!this._inputItemEphemeral)return!0;var r=this._itemAdapter.foldValue(this.state.inputValue);return null==this._listAdapter.find(e.datalist,function(e){return t._itemAdapter.itemIncludedByInput(e,r)})}},{key:"render",value:function(){var e=this.props.showToggle,t=this._canOpen(),r="auto"===e?t:e,n={autosuggest:!0,open:this.state.open,disabled:this.props.disabled,dropdown:r&&!this.props.dropup,dropup:r&&this.props.dropup};return v.default.createElement("div",{key:"dropdown",className:(0,u.default)(n),onFocus:this._handleFocus,onBlur:this._handleBlur},this._renderInputGroup(r,t),this._renderMenu())}},{key:"_renderInputGroup",value:function(e,t){var r=this.props.addonBefore?v.default.createElement("span",{className:"input-group-addon",key:"addonBefore"},this.props.addonBefore):null,n=this.props.addonAfter?v.default.createElement("span",{className:"input-group-addon",key:"addonAfter"},this.props.addonAfter):null,o=this.props.buttonBefore?v.default.createElement("span",{className:"input-group-btn"},this.props.buttonBefore):null,a=e&&this._renderToggle(t),i=a||this.props.buttonAfter?v.default.createElement("span",{className:"input-group-btn"},this.props.buttonAfter,a):null,s=(0,u.default)({"input-group":r||n||o||i,"input-group-sm":"small"===this.props.bsSize,"input-group-lg":"large"===this.props.bsSize,"input-group-toggle":!!a});return s?v.default.createElement("div",{className:s,key:"input-group"},r,o,this._renderChoices(),n,i):this._renderChoices()}},{key:"_renderToggle",value:function(e){return v.default.createElement(b.Dropdown.Toggle,{ref:"toggle",key:"toggle",id:this.props.toggleId,bsSize:this.props.bsSize,disabled:this.props.disabled||!e,open:this.state.open,onClick:this._handleToggleClick,onKeyDown:this._handleKeyDown})}},{key:"_renderChoices",value:function(){if(this.props.multiple){var e=this.props.choicesClass,t=void 0===e?x.default:e;return v.default.createElement(t,{ref:"choices",autoHeight:!(this.props.showToggle||this.props.addonAfter||this.props.addonBefore||this.props.buttonAfter||this.props.buttonBefore),disabled:this.props.disabled,focused:this.state.inputFocused,inputValue:this.state.inputValue,items:this.state.selectedItems,onKeyPress:this._handleKeyPress,onRemove:this._removeItem,renderItem:this._renderSelected},this._renderInput())}return this._renderInput()}},{key:"_renderSelected",value:function(e){return this._itemAdapter.renderSelected(e)}},{key:"_renderInput",value:function(){var e=this.context.$bs_formGroup,r=e&&e.controlId,n={},o=!0,a=!1,i=void 0;try{for(var s,c=Object.keys(this.props)[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var d=s.value;t.propTypes[d]||(n[d]=this.props[d])}}catch(e){a=!0,i=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw i}}var h=!this.props.multiple||!this.state.selectedItems.length;return v.default.createElement("input",l({autoComplete:"off"},n,{className:(0,u.default)(this.props.className,{"form-control":!this.props.multiple}),ref:"input",key:"input",id:r,disabled:this.props.disabled,required:this.props.required&&h,placeholder:h?this.props.placeholder:void 0,type:this.props.type,value:this.state.inputValue,onChange:this._handleInputChange,onKeyDown:this._handleKeyDown,onKeyPress:this._handleKeyPress,onFocus:this._handleInputFocus,onBlur:this._handleInputBlur}))}},{key:"_renderMenu",value:function(){var e=this;this._pseudofocusedItem=null;var t=this.state.open;if(!t)return null;var r=this.props.datalist,n=this._itemAdapter.foldValue(this.state.inputValue);this._foldedInputValue=n;var o=void 0;o=this.state.disableFilter?this._listAdapter.toArray(r):this._listAdapter.filter(r,function(t){return e._itemAdapter.itemIncludedByInput(t,n)&&e._allowItem(t)}),o=this._itemAdapter.sortItems(o,n);var a=o.length<this._listAdapter.getLength(r),i=void 0;o.length>0&&this.state.inputFocused&&(!this.props.multiple||this.props.datalistOnly)&&(this._pseudofocusedItem=o[i=0]);var s=this.props,l=s.suggestionsClass,c=void 0===l?C.default:l,d=s.datalistMessage,u=s.onDatalistMessageSelect,h=s.toggleId;return v.default.createElement(c,{ref:"suggestions",datalistMessage:d,filtered:a,focusedIndex:i,getItemKey:this._getItemKey,isSelectedItem:this._isSelectedItem,items:o,labelledBy:h,onClose:this._handleMenuClose,onDatalistMessageSelect:u,onDisableFilter:this._handleShowAll,onSelect:this._handleItemSelect,open:t,renderItem:this._renderSuggested})}},{key:"_allowItem",value:function(e){var t=this;if(this.props.allowDuplicates)return!0;var r=this._itemAdapter.getInputValue(e);return!this.state.selectedItems.find(function(e){return t._itemAdapter.getInputValue(e)===r})}},{key:"_getItemKey",value:function(e){return this._itemAdapter.getReactKey(e)}},{key:"_isSelectedItem",value:function(e){return this._itemAdapter.itemMatchesInput(e,this._foldedInputValue)}},{key:"_renderSuggested",value:function(e){return this._itemAdapter.renderSuggested(e)}},{key:"_handleToggleClick",value:function(){this._toggleOpen("click",this.props)}},{key:"_handleInputChange",value:function(e){var t=this,r=e.target,n=r.value,o=this._keyPressCount>this.state.inputValueKeyPress;if(o&&n?this._autoCompleteAfterRender?(this._setValueMeta(),this._setInputValue(n,function(){t._checkAutoComplete(n,t.props)})):this._checkAutoComplete(n,this.props)||(this._setValueMeta(),this._setInputValue(n)):(this._setValueMeta(),this._setInputValue(n)),o||this.state.open){var a=this.props.onSearch;a&&(clearTimeout(this._searchTimeoutId),this._searchTimeoutId=setTimeout(function(){t._searchTimeoutId=null,n!=t.state.searchValue&&(t.setState({searchValue:n}),a(n))},this.props.searchDebounce))}}},{key:"_checkAutoComplete",value:function(e,t){var r=this,n=!1,o=t.datalist,a=this._itemAdapter.foldValue(e),i=this._listAdapter.filter(o,function(e){return r._itemAdapter.itemIncludedByInput(e,a)&&r._allowItem(e)});if(i.length>0){var s=t.datalistOnly,l=t.datalistPartial;if(1===i.length&&s&&!l){var c=i[0],d=this._itemAdapter.getInputValue(c),u=void 0,h=t.inputSelect;if(e!=d&&h&&this._itemAdapter.foldValue(d).startsWith(a)){var f=this.refs.input;u=function(){h(f,e,d)}}this._setValueMeta(c),this._setInputValue(d,u),n=!0,(this.state.open?t.closeOnCompletion:e!=d&&!t.closeOnCompletion)&&this._toggleOpen("autocomplete",t)}else{var p=i.find(function(e){return r._itemAdapter.itemMatchesInput(e,a)});p&&(this._setValueMeta(p),this._setInputValue(e),n=!0),this.state.open||p&&!(i.length>1)||this._open("autocomplete",t)}}return n}},{key:"_handleItemSelect",value:function(e){if(this.props.multiple)this._addItem(e);else{var t=this._itemAdapter.getInputValue(e);this._setValueMeta(e),this._setInputValue(t)}this._close()}},{key:"_addItem",value:function(e){if(this._allowItem(e)){var t=[].concat(o(this.state.selectedItems),[e]);this.setState({selectedItems:t});var r=this.props,n=r.onAdd,a=r.onChange;n&&n(e),a&&a(t)}this._clearInput(),this.state.open&&this._close()}},{key:"_removeItem",value:function(e){var t=this.state.selectedItems,r=t.slice(0,e).concat(t.slice(e+1));this.setState({selectedItems:r});var n=this.props,o=n.onRemove,a=n.onChange;o&&o(e),a&&a(r)}},{key:"_addInputValue",value:function(){return!!this._inputItem&&(this._addItem(this._inputItem),!0)}},{key:"_handleShowAll",value:function(){this.setState({disableFilter:!0})}},{key:"_handleKeyDown",value:function(e){if(!this.props.disabled)switch(e.keyCode||e.which){case _.default.codes.down:case _.default.codes["page down"]:this.state.open?this.refs.suggestions.focusFirst():this._canOpen()&&this._open("keydown",this.props),e.preventDefault();break;case _.default.codes.left:case _.default.codes.backspace:this.refs.choices&&this.refs.input&&0===this._getCursorPosition(this.refs.input)&&(this.refs.choices.focusLast(),e.preventDefault());break;case _.default.codes.right:this.refs.choices&&this.refs.input&&this._getCursorPosition(this.refs.input)===this.state.inputValue.length&&(this.refs.choices.focusFirst(),e.preventDefault());break;case _.default.codes.enter:if(this.props.multiple&&this.state.inputValue&&(e.preventDefault(),this._addInputValue()))break;this.state.open&&this.state.inputFocused&&(e.preventDefault(),this._pseudofocusedItem?this._handleItemSelect(this._pseudofocusedItem):this._close());break;case _.default.codes.esc:case _.default.codes.tab:this._handleMenuClose(e)}}},{key:"_getCursorPosition",value:function(e){var t=j.default.findDOMNode(e);if(t instanceof HTMLInputElement)return t.selectionStart}},{key:"_handleKeyPress",value:function(){++this._keyPressCount}},{key:"_handleMenuClose",value:function(){this.state.open&&this._close()}},{key:"_handleInputFocus",value:function(){this.setState({inputFocused:!0})}},{key:"_handleInputBlur",value:function(){this.setState({inputFocused:!1})}},{key:"_handleFocus",value:function(){if(this._focusTimeoutId)clearTimeout(this._focusTimeoutId),this._focusTimeoutId=null;else{this._focused=!0;var e=this.props.onFocus;if(e){e(this._getCurrentValue())}}}},{key:"_handleBlur",value:function(){var e=this;this._focusTimeoutId=setTimeout(function(){e._focusTimeoutId=null,e._focused=!1;var t=e.state.inputValue,r=e.props.onBlur;if(e.props.multiple)t&&!e._addInputValue()&&e._clearInput();else if(t!=e._lastValidValue){var n=void 0;return r&&(n=function(){var t=e._getCurrentValue();r(t)}),e._setValueMeta(e._lastValidItem,!1,!0,!0),void e._setInputValue(e._lastValidValue,n)}if(r){var o=e._getCurrentValue();r(o)}},1)}}]),t}(v.default.Component);B.propTypes={addonAfter:y.default.node,addonBefore:y.default.node,allowDuplicates:y.default.bool,bsSize:y.default.oneOf(["small","large"]),buttonAfter:y.default.node,buttonBefore:y.default.node,choicesClass:y.default.oneOfType([y.default.func,y.default.string]),closeOnCompletion:y.default.bool,datalist:y.default.any,datalistAdapter:y.default.object,datalistMessage:y.default.node,datalistOnly:y.default.bool,datalistPartial:y.default.bool,defaultValue:y.default.any,disabled:y.default.bool,dropup:y.default.bool,groupClassName:y.default.string,inputSelect:y.default.func,itemAdapter:y.default.object,itemReactKeyPropName:y.default.string,itemSortKeyPropName:y.default.string,itemValuePropName:y.default.string,multiple:y.default.bool,onAdd:y.default.func,onBlur:y.default.func,onChange:y.default.func,onDatalistMessageSelect:y.default.func,onFocus:y.default.func,onRemove:y.default.func,onSearch:y.default.func,onSelect:y.default.func,onToggle:y.default.func,placeholder:y.default.string,required:y.default.bool,searchDebounce:y.default.number,showToggle:y.default.oneOfType([y.default.bool,y.default.oneOf(["auto"])]),suggestionsClass:y.default.oneOfType([y.default.func,y.default.string]),toggleId:y.default.oneOfType([y.default.string,y.default.number]),type:y.default.string,value:y.default.any,valueIsItem:y.default.bool},B.contextTypes={$bs_formGroup:y.default.object},B.defaultProps={closeOnCompletion:!1,datalistOnly:!1,datalistPartial:!1,disabled:!1,dropup:!1,inputSelect:B.defaultInputSelect,multiple:!1,itemReactKeyPropName:"key",itemSortKeyPropName:"sortKey",itemValuePropName:"value",searchDebounce:250,showToggle:"auto",type:"text",valueIsItem:!1},t.default=B},1020:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(174),d=n(c),u=r(868),h=n(u),f=r(910),p=n(f),_=r(2),m=n(_),y=r(1),g=n(y),v=r(34),b=n(v),w=function(e){function t(){var e;a(this,t);for(var r=arguments.length,n=Array(r),s=0;s<r;s++)n[s]=arguments[s];var l=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o(n)))),c=l;return c._handleKeyDown=l._handleKeyDown.bind(l),c._handleKeyPress=l._handleKeyPress.bind(l),c._handleClose=l._handleClose.bind(l),c._handleClick=l._handleClick.bind(l),c._focusInput=l._focusInput.bind(l),l}return s(t,e),l(t,[{key:"shouldComponentUpdate",value:function(e){return!(0,h.default)(this.props,e)}},{key:"render",value:function(){var e=this,t=this.props,r=t.autoHeight,n=t.disabled,o=t.focused,a=t.inputValue,i=t.items,s=t.renderItem,l=t.children,c=i.length>0,u=void 0;return c&&(u={width:.75*(a.length+1)+"em"}),g.default.createElement("ul",{className:(0,d.default)("form-control","autosuggest-choices",{focused:o,"has-items":c,"auto-height":r}),disabled:n,onClick:this._focusInput},i.map(function(t,r){return g.default.createElement("li",{key:r,"data-index":r,tabIndex:n?void 0:"-1",className:"autosuggest-choice",onKeyDown:e._handleKeyDown,onKeyPress:e._handleKeyPress},g.default.createElement("span",{className:"autosuggest-choice-close",onClick:e._handleClose}),g.default.createElement("span",{className:"autosuggest-choice-label",onClick:e._handleClick},s(t)))}),g.default.createElement("li",{className:"autosuggest-input-choice",style:u},l))}},{key:"_handleKeyDown",value:function(e){switch(e.keyCode){case p.default.codes.left:this._focusPrevious(),e.preventDefault();break;case p.default.codes.right:this._focusNext(),e.preventDefault();break;case p.default.codes.backspace:this._removeActive(-1),e.preventDefault();break;case p.default.codes.delete:this._removeActive(0),e.preventDefault()}}},{key:"_handleKeyPress",value:function(e){this._focusInput();var t=this.props.onKeyPress;t&&t(e)}},{key:"_handleClose",value:function(e){if(!this.props.disabled&&e.target instanceof HTMLElement){var t=e.target.parentNode;if(t instanceof Element){var r=Number(t.getAttribute("data-index"));this._remove(r)}}e.stopPropagation()}},{key:"_handleClick",value:function(e){e.stopPropagation()}},{key:"focusFirst",value:function(){var e=this._getFocusableMenuItems(!1);e.length>0&&e[0].focus()}},{key:"focusLast",value:function(){var e=this._getFocusableMenuItems(!1);e.length>0&&e[e.length-1].focus()}},{key:"_focusPrevious",value:function(){var e=this._getItemsAndActiveIndex(!0),t=e.items,r=e.activeIndex;r>0?t[r-1].focus():t.length>0&&t[t.length-1].focus()}},{key:"_focusNext",value:function(){var e=this._getItemsAndActiveIndex(!0),t=e.items,r=e.activeIndex;r<t.length-1?t[r+1].focus():t.length>0&&t[0].focus()}},{key:"_focusInput",value:function(){var e=b.default.findDOMNode(this);if(e instanceof Element){var t=e.querySelector("input");t&&t.focus()}}},{key:"_remove",value:function(e){var t=this.props.onRemove;t&&t(e)}},{key:"_removeActive",value:function(e){var t=this._getItemsAndActiveIndex(!1),r=t.items,n=t.activeIndex;if(n>=0){var o=n+e;o<0||o>=r.length-1?this._focusInput():0!=e&&r[o].focus(),this._remove(n)}}},{key:"_getItemsAndActiveIndex",value:function(e){var t=this._getFocusableMenuItems(e),r=document.activeElement;return{items:t,activeIndex:r?t.indexOf(r):-1}}},{key:"_getFocusableMenuItems",value:function(e){var t=b.default.findDOMNode(this);return t instanceof Element?Array.from(t.querySelectorAll(e?'[tabIndex="-1"],input':'[tabIndex="-1"]')):[]}}]),t}(g.default.Component);w.propTypes={autoHeight:m.default.bool,disabled:m.default.bool,focused:m.default.bool,inputValue:m.default.string,items:m.default.arrayOf(m.default.any).isRequired,onKeyPress:m.default.func,onRemove:m.default.func,renderItem:m.default.func.isRequired},t.default=w},1021:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(868),c=n(l),d=r(2),u=n(d),h=r(1),f=n(h),p=r(63),_=r(34),m=n(_),y=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return!(0,c.default)(this.props,e)}},{key:"isFocused",value:function(){var e=m.default.findDOMNode(this.refs.menu);return null!=e&&document&&e.contains(document.activeElement)}},{key:"focusFirst",value:function(){this.refs.menu.focusNext()}},{key:"render",value:function(){var e=this.props,t=e.items,r=e.datalistMessage,n=e.onDatalistMessageSelect;return f.default.createElement(p.Dropdown.Menu,{labelledBy:this.props.labelledBy,onClose:this.props.onClose,open:this.props.open,ref:"menu"},t.map(this._renderItem,this),this.props.filtered&&f.default.createElement(p.MenuItem,{key:"show-all",onSelect:this.props.onDisableFilter},f.default.createElement("span",{className:"show-all"},0===t.length?f.default.createElement("span",{className:"no-matches"}):null)),r&&f.default.createElement(p.MenuItem,{key:"datalist-message",disabled:null==n,onSelect:n},r))}},{key:"_renderItem",value:function(e,t){var r=this.props.isSelectedItem(e);return f.default.createElement(p.MenuItem,{active:r,className:t!==this.props.focusedIndex||r?void 0:"pseudofocused",eventKey:e,key:this.props.getItemKey(e),onSelect:this.props.onSelect},this.props.renderItem(e))}}]),t}(f.default.Component);y.propTypes={datalistMessage:u.default.node,filtered:u.default.bool,focusedIndex:u.default.number,getItemKey:u.default.func.isRequired,isSelectedItem:u.default.func.isRequired,items:u.default.arrayOf(u.default.any).isRequired,labelledBy:u.default.oneOfType([u.default.string,u.default.number]),onClose:u.default.func,onDatalistMessageSelect:u.default.func,onDisableFilter:u.default.func,onSelect:u.default.func.isRequired,open:u.default.bool,renderItem:u.default.func.isRequired},t.default=y},1022:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(875),l=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"getLength",value:function(){return 0}},{key:"filter",value:function(){return[]}},{key:"find",value:function(){}},{key:"toArray",value:function(){return[]}}]),t}(l.default);t.default=c},1023:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(875),l=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"getLength",value:function(e){return e.length}},{key:"filter",value:function(e,t){return e.filter(t)}},{key:"find",value:function(e,t){return e.find(t)}},{key:"toArray",value:function(e){return e.slice()}}]),t}(l.default);t.default=c},1024:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(912),l=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"getLength",value:function(e){return e.size}},{key:"filter",value:function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e.entries()[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var l=i.value,c=this._getKeyValueItem(l[0],l[1]);t(c)&&r.push(c)}}catch(e){o=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return r}},{key:"find",value:function(e,t){var r=!0,n=!1,o=void 0;try{for(var a,i=e.entries()[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var s=a.value,l=this._getKeyValueItem(s[0],s[1]);if(t(l))return l}}catch(e){n=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw o}}}},{key:"toArray",value:function(e){var t=[],r=!0,n=!1,o=void 0;try{for(var a,i=e.entries()[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var s=a.value;t.push(this._getKeyValueItem(s[0],s[1]))}}catch(e){n=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw o}}return t}}]),t}(l.default);t.default=c},1025:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(912),l=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"getLength",value:function(e){return Object.keys(e).length}},{key:"filter",value:function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=Object.keys(e)[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var l=i.value,c=this._getKeyValueItem(l,e[l]);t(c)&&r.push(c)}}catch(e){o=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return r}},{key:"find",value:function(e,t){var r=!0,n=!1,o=void 0;try{for(var a,i=Object.keys(e)[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var s=a.value,l=this._getKeyValueItem(s,e[s]);if(t(l))return l}}catch(e){n=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw o}}}},{key:"toArray",value:function(e){var t=[],r=!0,n=!1,o=void 0;try{for(var a,i=Object.keys(e)[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var s=a.value;t.push(this._getKeyValueItem(s,e[s]))}}catch(e){n=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw o}}return t}}]),t}(l.default);t.default=c},1026:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=r(3),f=o(h),p=r(1),_=o(p),m=r(866),y=n(m),g=r(855),v=o(g),b=r(33),w=r(174),j=n(w),k=r(859),S=r(175),O=r(173),x=n(O),P=r(861),C=n(P),E=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},T=v,A=function(e){function t(){s(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.ProfileToggle=function(t){var r,n=t.profile,o=t.type,a=t.label,s=t.checked,l=t.isGroupToggle;return _.createElement("label",{className:(0,j.default)((r={},i(r,T.altType,l),i(r,T.radio,"radio"===o),i(r,T.checkbox,"checkbox"===o),r))},_.createElement("input",{type:o,checked:s,onChange:function(t){return e.store.selectMolecularProfile(n,t.target.checked)},"data-test":n.molecularAlterationType}),_.createElement("span",{className:l?T.groupName:T.profileName},a),!l&&_.createElement(x.default,{mouseEnterDelay:0,placement:"right",overlay:_.createElement("div",{className:T.tooltip},n.description)},_.createElement(y.default,{className:T.infoIcon,name:"question-circle"})))},e}return c(t,e),d(t,[{key:"render",value:function(){return 1!==this.store.selectableSelectedStudyIds.length?null:_.createElement(k.FlexRow,{padded:!0,className:T.MolecularProfileSelector},_.createElement(C.default,{className:"sectionLabel",promises:[this.store.molecularProfiles]},"Select Genomic Profiles:"),_.createElement("div",{className:T.group,"data-test":"molecularProfileSelector"},this.renderGroup("MUTATION_EXTENDED","Mutation"),this.renderGroup("COPY_NUMBER_ALTERATION","Copy Number"),this.renderGroup("GENESET_SCORE","GSVA scores"),this.renderGroup("MRNA_EXPRESSION","mRNA Expression"),this.renderGroup("METHYLATION","DNA Methylation"),this.renderGroup("METHYLATION_BINARY","DNA Methylation"),this.renderGroup("PROTEIN_LEVEL","Protein/phosphoprotein level"),!(!this.store.molecularProfiles.isComplete||this.store.molecularProfiles.result.length)&&_.createElement("strong",null,"No Genomic Profiles available for this Cancer Study")))}},{key:"renderGroup",value:function(e,t){var r=this,n=this.store.getFilteredProfiles(e);if(!n.length)return null;var o=n.map(function(e){return e.molecularProfileId}),i=f.intersection(this.store.selectedProfileIds,o).length>0,s=[];n.length>1&&!this.store.forDownloadTab&&s.push(_.createElement(this.ProfileToggle,{key:"altTypeCheckbox:"+e,profile:n[0],type:"checkbox",label:t+". Select one of the profiles below:",checked:i,isGroupToggle:!0}));var l=n.map(function(e){return _.createElement(r.ProfileToggle,{key:"profile:"+e.molecularProfileId,profile:e,type:r.store.forDownloadTab||n.length>1?"radio":"checkbox",label:e.name,checked:f.includes(r.store.selectedProfileIds,e.molecularProfileId),isGroupToggle:!1})});return this.store.forDownloadTab||1==n.length?s.push.apply(s,a(l)):s.push(_.createElement("div",{key:"group:"+e,className:T.group},l)),this.store.forDownloadTab?s:(i&&"MRNA_EXPRESSION"==e&&s.push(_.createElement("div",{key:s.length,className:T.zScore},"Enter a z-score threshold ",_.createElement("span",{dangerouslySetInnerHTML:{__html:["&","plusmn;"].join("")}}),_.createElement("input",{type:"text",value:this.store.zScoreThreshold,onChange:function(e){r.store.zScoreThreshold=e.target.value}}))),i&&"PROTEIN_LEVEL"==e&&s.push(_.createElement("div",{key:s.length,className:T.zScore},"Enter a z-score threshold ",_.createElement("span",{dangerouslySetInnerHTML:{__html:["&","plusmn;"].join("")}}),_.createElement("input",{type:"text",value:this.store.rppaScoreThreshold,onChange:function(e){r.store.rppaScoreThreshold=e.target.value}}))),s)}}]),t}(S.QueryStoreComponent);A=E([b.observer],A),t.default=A},1027:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var r=[];return e.mutation&&r.push(h.createElement(O,{key:"M",label:"Mutation",state:"mutation",store:t,dataTest:"M"})),e.cna&&r.push(h.createElement(O,{key:"C",label:"Copy number alterations",state:"cna",store:t,dataTest:"C"})),r}Object.defineProperty(t,"__esModule",{value:!0}),t.DataTypePriorityCheckBox=void 0;var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.checkBoxes=l;var u=r(1),h=o(u),f=r(855),p=o(f),_=r(175),m=r(33),y=r(859),g=r(861),v=n(g),b=r(854),w=n(b),j=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},k=p,S=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"render",value:function(){if(!this.store.isVirtualStudyQuery)return null;var e=[];return e.push(h.createElement(w.default,{key:"loading",isLoading:this.store.profileAvailability.isPending})),this.store.profileAvailability.isError?e.push(h.createElement("span",{key:"error"},"Error loading profiles for selected studies.")):this.store.profileAvailability.isComplete&&(e=e.concat(l(this.store.profileAvailability.result,this.store))),h.createElement(y.FlexRow,{padded:!0,className:k.DataTypePrioritySelector,"data-test":"dataTypePrioritySelector"},h.createElement(v.default,{className:"sectionLabel"},"Select Molecular Profiles:"),h.createElement(y.FlexRow,null,e))}}]),t}(_.QueryStoreComponent);S=j([m.observer],S),t.default=S;var O=t.DataTypePriorityCheckBox=(0,m.observer)(function(e){return h.createElement("label",{className:k.DataTypePriorityLabel},h.createElement("input",{type:"checkbox",checked:e.store.dataTypePriority[e.state]||!1,onChange:function(t){e.store.dataTypePriority[e.state]=t.currentTarget.checked},"data-test":e.dataTest}),e.label)})},1028:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=r(1),h=o(u),f=r(855),p=o(f),_=r(63),m=r(33),y=r(13),g=r(859),v=r(913),b=n(v),w=r(1029),j=n(w),k=r(174),S=n(k),O=r(175),x=r(1030),P=n(x),C=r(1035),E=n(C),T=r(861),A=n(T),N=r(64),M=n(N),I=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},D=p,R=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),c(t,[{key:"render",value:function(){var e=this;return h.createElement(g.FlexRow,{padded:!0,overflow:!0,className:D.GeneSetSelector},h.createElement(A.default,{className:"sectionLabel"},"Enter Gene Sets:"),h.createElement(g.FlexCol,{overflow:!0},h.createElement(g.FlexRow,{padded:!0,className:D.buttonRow},h.createElement("button",{className:"btn btn-default btn-sm",onClick:function(){return e.store.showGenesetsHierarchyPopup=!0}},"Select Gene Sets from Hierarchy"),h.createElement("button",{className:"btn btn-default btn-sm",onClick:function(){return e.store.showGenesetsVolcanoPopup=!0}},"Select Gene Sets from Volcano Plot")),h.createElement("textarea",{ref:this.textAreaRef,className:(0,S.default)(D.geneSet,this.store.genesetQuery?D.notEmpty:D.empty),rows:5,cols:80,placeholder:"Enter Gene Sets",title:"Enter Gene Sets",value:this.store.genesetQuery,onChange:function(t){return e.store.genesetQuery=t.currentTarget.value},"data-test":"geneSet"}),h.createElement(j.default,null),h.createElement(_.Modal,{className:(0,S.default)("cbioportal-frontend",D.GenesetsSelectorWindow),show:this.store.showGenesetsHierarchyPopup,onHide:function(){return e.store.showGenesetsHierarchyPopup=!1}},h.createElement(_.Modal.Header,{closeButton:!0},h.createElement(_.Modal.Title,null,"Select Gene Sets From Hierarchy")),h.createElement(_.Modal.Body,null,h.createElement(P.default,{initialSelection:this.store.genesetIds,gsvaProfile:this.store.getFilteredProfiles("GENESET_SCORE")[0].molecularProfileId,sampleListId:this.store.defaultSelectedSampleListId,onSelect:function(t){e.store.applyGenesetSelection(t),e.store.showGenesetsHierarchyPopup=!1}}))),h.createElement(_.Modal,{className:(0,S.default)("cbioportal-frontend",D.GenesetsVolcanoSelectorWindow),show:this.store.showGenesetsVolcanoPopup,onHide:function(){return e.store.showGenesetsVolcanoPopup=!1},onShow:function(){return e.store.map_genesets_selected_volcano.replace(e.store.genesetIds.map(function(e){return[e,!0]}))}},h.createElement(_.Modal.Header,{closeButton:!0},h.createElement(_.Modal.Title,null,"Select Gene Sets From Volcano Plot")),h.createElement(_.Modal.Body,null,h.createElement(E.default,{initialSelection:this.store.genesetIds,data:this.store.volcanoPlotTableData.result,plotData:this.store.volcanoPlotGraphData,maxY:this.store.minYVolcanoPlot?-Math.log(this.store.minYVolcanoPlot)/Math.log(10):void 0,onSelect:function(t){e.store.addToGenesetSelection(t),e.store.showGenesetsVolcanoPopup=!1}})))))}},{key:"selectedGeneListOption",get:function(){var e=this,t=this.geneListOptions.find(function(t){return t.value===e.store.geneQuery});return t?t.value:""}},{key:"geneListOptions",get:function(){var e=b.default;return M.default.querySetsOfGenes&&(e=M.default.querySetsOfGenes),[{label:"User-defined List",value:""}].concat(a(e.map(function(e){return{label:e.id+" ("+e.genes.length+" genes)",value:e.genes.join(" ")}})))}},{key:"textAreaRef",get:function(){var e=this;if("shouldFocus"===this.store.geneQueryErrorDisplayStatus)return function(t){var r=e.store.oql.error;t&&r&&(t.focus(),t.setSelectionRange(r.start,r.end),e.store.geneQueryErrorDisplayStatus="focused")}}}]),t}(O.QueryStoreComponent);I([y.computed],R.prototype,"selectedGeneListOption",null),I([y.computed],R.prototype,"geneListOptions",null),I([y.computed],R.prototype,"textAreaRef",null),R=I([m.observer],R),t.default=R},1029:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=r(1),d=n(c),u=r(855),h=n(u),f=r(33),p=r(866),_=function(e){return e&&e.__esModule?e:{default:e}}(p),m=r(175),y=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},g=h,v=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return this.store.genesetIdsQuery.error?d.createElement("div",{className:g.GeneSymbolValidator},d.createElement("span",{className:g.errorMessage},"Cannot validate gene sets because of invalid OQL. "+("unfocused"===this.store.genesetQueryErrorDisplayStatus?"Please click 'Submit' to see location of error.":this.store.genesetIdsQuery.error.message))):this.store.genesetIdsQuery.query.length?this.store.genesets.isError?d.createElement("div",{className:g.GeneSymbolValidator},d.createElement("span",{className:g.pendingMessage},"Unable to validate gene sets.")):this.store.genesets.isPending&&0===this.store.genesets.result.invalid.length?d.createElement("div",{className:g.GeneSymbolValidator},d.createElement("span",{className:g.pendingMessage},"Validating gene sets...")):this.store.genesets.result.invalid.length?d.createElement("div",{className:g.GeneSymbolValidator},d.createElement("div",{className:g.invalidBubble,title:"Please edit the gene sets."},d.createElement(_.default,{className:g.icon,name:"exclamation-circle"}),d.createElement("span",null,"Invalid gene sets.")),this.store.genesets.result.invalid.map(this.renderSuggestion,this)):d.createElement("div",{className:g.GeneSymbolValidator},d.createElement("div",{className:g.validBubble,title:"You can now submit the list."},d.createElement(_.default,{className:g.icon,name:"check-circle"}),d.createElement("span",null,"All gene sets are valid."))):null}},{key:"renderSuggestion",value:function(e,t){var r=this,n=function(){return r.store.replaceGeneset(e,"")};return d.createElement("div",{key:t,className:g.suggestionBubble,title:"Could not find gene set. Click to remove it from the gene list.",onClick:n},d.createElement(_.default,{className:g.icon,name:"times-circle"}),d.createElement("span",{className:g.noChoiceLabel},e))}}]),t}(m.QueryStoreComponent);v=y([f.observer],v),t.default=v},1030:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=r(1),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(c),u=r(13),h=r(33),f=r(1031),p=n(f),_=r(1034),m=n(_),y=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},g=function(e){function t(e){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.percentile=75,r.pvalueThreshold=.05,r.scoreThreshold=.5,r.searchValue="",r.updateSelectionParameters=r.updateSelectionParameters.bind(r),r}return i(t,e),s(t,[{key:"updateSelectionParameters",value:function(e,t,r){this.percentile=e,this.pvalueThreshold=t,this.scoreThreshold=r}},{key:"render",value:function(){var e=this;return d.createElement("div",null,d.createElement("text",null,"Search hierarchy"),d.createElement("div",{className:"form-group has-feedback input-group-sm",style:{display:"inline-block"}},d.createElement("input",{type:"text",id:"geneset-hierarchy-search",className:"form-control tableSearchInput",style:{width:768},value:this.searchValue,onChange:function(t){return e.searchValue=t.target.value}}),d.createElement("span",{className:"fa fa-search form-control-feedback","aria-hidden":"true"})),d.createElement(m.default,{percentile:this.percentile,pvalueThreshold:this.pvalueThreshold,scoreThreshold:this.scoreThreshold,onApply:this.updateSelectionParameters}),d.createElement(p.default,{initialSelection:this.props.initialSelection,scoreThreshold:this.scoreThreshold,pvalueThreshold:this.pvalueThreshold,percentile:this.percentile,gsvaProfile:this.props.gsvaProfile,sampleListId:this.props.sampleListId,searchValue:this.searchValue,onSelect:this.props.onSelect}))}}]),t}(d.Component);y([u.observable],g.prototype,"percentile",void 0),y([u.observable],g.prototype,"pvalueThreshold",void 0),y([u.observable],g.prototype,"scoreThreshold",void 0),y([u.observable],g.prototype,"searchValue",void 0),g=y([h.observer],g),t.default=g},1031:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=r(1),d=n(c),u=r(90),h=n(u),f=r(82);r(1032),r(1033);var p=r(3),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(p),m=r(33),y=r(13),g=r(854),v=n(g),b=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},w=function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}l((n=n.apply(e,t||[])).next())})},j=function(e){function t(e){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.isLoading=!0,r.map_geneSets_selected=new y.ObservableMap,r.map_geneSets_selected.replace(e.initialSelection.map(function(e){return[e,!0]})),r}return i(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;this.promisedTree=this.initTree(this.tree),this.promisedTree.then(function(t){return e.isLoading=!1,t})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.scoreThreshold===e.scoreThreshold&&this.props.pvalueThreshold===e.pvalueThreshold&&this.props.percentile===e.percentile||(this.promisedTree=this.promisedTree.then(function(e){return t.isLoading=!0,t.replaceTree(e)}).then(function(e){return t.isLoading=!1,e})),this.props.searchValue!==e.searchValue&&(this.promisedTree=this.promisedTree.then(function(e){return t.searchTree(e,t.props.searchValue)}))}},{key:"transformHierarchyData",value:function(e){var t=e,r=[],n=0,o=!0,a=!1,i=void 0;try{for(var s,l=t[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value,d=c.nodeName,u=c.parentNodeName?c.parentNodeName:"#";if(r.push({id:d,parent:u,text:d,li_attr:{name:d},geneset:!1,state:{opened:!0,selected:!1}}),_.has(c,"genesets")){var h=!0,f=!1,p=void 0;try{for(var m,y=c.genesets[Symbol.iterator]();!(h=(m=y.next()).done);h=!0){var g=m.value,v=n++,b=g.genesetId,w=g.description,j=g.representativeScore,k=g.representativePvalue,S=g.refLink,O="";O=O+"score = "+j.toFixed(2),k=k<.005?k.toExponential(0):k.toFixed(2),O=O+", p-value = "+k;var x=b+'<span style="font-weight:normal;font-style:italic;"> '+O+"</span>";r.push({id:v.toString(),parent:d,text:x,state:{selected:!1},li_attr:{name:b},description:w,representativeScore:j,representativePvalue:k,refLink:S,geneset:!0})}}catch(e){f=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(f)throw p}}}}}catch(e){a=!0,i=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw i}}return r}},{key:"initTree",value:function(e){return w(this,void 0,void 0,regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,f.getHierarchyData)(this.props.gsvaProfile,this.props.percentile,this.props.scoreThreshold,this.props.pvalueThreshold,this.props.sampleListId);case 2:return r=t.sent,(0,h.default)(e).jstree({search:{show_only_matches:!0,show_only_matches_children:!0},checkbox:{cascade_to_disabled:!1,cascade_to_hidden:!1},core:{themes:{icons:!1},check_callback:!0,data:this.transformHierarchyData(r)},plugins:["checkbox","search"]}),t.abrupt("return",e);case 5:case"end":return t.stop()}},t,this)}))}},{key:"destroyTree",value:function(e){(0,h.default)(e).jstree(!0).destroy()}},{key:"replaceTree",value:function(e){return w(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.destroyTree(e),t.next=3,this.initTree(e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"submitGeneSets",value:function(e){if(e){var t=(0,h.default)(e).jstree("get_selected",!0),r=!0,n=!1,o=void 0;try{for(var a,i=t[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var s=a.value;s.original.geneset&&this.map_geneSets_selected.set(s.original.description,!0)}}catch(e){n=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw o}}}return this.map_geneSets_selected}},{key:"searchTree",value:function(e,t){return(0,h.default)(e).jstree(!0).search(t),e}},{key:"render",value:function(){var e=this;return d.default.createElement("div",null,d.default.createElement(v.default,{isLoading:this.isLoading}),d.default.createElement("div",{ref:function(t){return e.tree=t},style:{maxHeight:"380px",overflowY:"scroll"}}),d.default.createElement("div",{style:{padding:"30px 0px"}},d.default.createElement("button",{className:"btn btn-primary btn-sm pull-right",style:{margin:"2px"},disabled:this.isLoading,onClick:function(){var t=e.submitGeneSets(e.tree);e.props.onSelect(t)}},"Select")))}}]),t}(d.default.Component);b([y.observable],j.prototype,"isLoading",void 0),j=b([m.observer],j),t.default=j},1032:function(e,t,r){var n,o,a;!function(i){"use strict";o=[r(90)],n=i,void 0!==(a="function"==typeof n?n.apply(t,o):n)&&(e.exports=a)}(function(e,t){"use strict";if(!e.jstree){var r=0,n=!1,o=!1,a=!1,i=[],s=e("script:last").attr("src"),l=window.document;e.jstree={version:"3.3.4",defaults:{plugins:[]},plugins:{},path:s&&-1!==s.indexOf("/")?s.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},e.jstree.create=function(t,n){var o=new e.jstree.core(++r),a=n;return n=e.extend(!0,{},e.jstree.defaults,n),a&&a.plugins&&(n.plugins=a.plugins),e.each(n.plugins,function(e,t){"core"!==e&&(o=o.plugin(t,n[t]))}),e(t).data("jstree",o),o.init(t,n),o},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(l).off(".jstree")},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(t){var r=null,n=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!n||!n.length)try{n=e(t)}catch(e){}if(!n||!n.length)try{n=e("#"+t.replace(e.jstree.idregex,"\\$&"))}catch(e){}return n&&n.length&&(n=n.closest(".jstree")).length&&(n=n.data("jstree"))?r=n:e(".jstree").each(function(){var n=e(this).data("jstree");return n&&n._model.data[t]?(r=n,!1):void 0}),r},e.fn.jstree=function(r){var n="string"==typeof r,o=Array.prototype.slice.call(arguments,1),a=null;return!(!0===r&&!this.length)&&(this.each(function(){var i=e.jstree.reference(this),s=n&&i?i[r]:null;return a=n&&s?s.apply(i,o):null,i||n||r!==t&&!e.isPlainObject(r)||e.jstree.create(this,r),(i&&!n||!0===r)&&(a=i||!1),(null===a||a===t)&&void 0}),null!==a&&a!==t?a:this)},e.expr.pseudos.jstree=e.expr.createPseudo(function(r){return function(r){return e(r).hasClass("jstree")&&e(r).data("jstree")!==t}}),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0},e.jstree.core.prototype={plugin:function(t,r){var n=e.jstree.plugins[t];return n?(this._data[t]={},n.prototype=this,new n(r,this)):this},init:function(t,r){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=r,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(e.jstree.root)},destroy:function(e){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(e){}e||this.element.empty(),this.teardown()},_create_prototype_node:function(){var e,t,r=l.createElement("LI");return r.setAttribute("role","treeitem"),e=l.createElement("I"),e.className="jstree-icon jstree-ocl",e.setAttribute("role","presentation"),r.appendChild(e),e=l.createElement("A"),e.className="jstree-anchor",e.setAttribute("href","#"),e.setAttribute("tabindex","-1"),t=l.createElement("I"),t.className="jstree-icon jstree-themeicon",t.setAttribute("role","presentation"),e.appendChild(t),r.appendChild(e),e=t=null,r},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var t="",r=null,n=0;this.element.on("dblclick.jstree",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(l.selection&&l.selection.empty)l.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(e){}}}).on("mousedown.jstree",e.proxy(function(e){e.target===this.element[0]&&(e.preventDefault(),n=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(e){e.preventDefault()}).on("click.jstree",".jstree-ocl",e.proxy(function(e){this.toggle_node(e.target)},this)).on("dblclick.jstree",".jstree-anchor",e.proxy(function(e){return!(!e.target.tagName||"input"!==e.target.tagName.toLowerCase())||void(this.settings.core.dblclick_toggle&&this.toggle_node(e.target))},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){t.preventDefault(),t.currentTarget!==l.activeElement&&e(t.currentTarget).focus(),this.activate_node(t.currentTarget,t)},this)).on("keydown.jstree",".jstree-anchor",e.proxy(function(t){if(t.target.tagName&&"input"===t.target.tagName.toLowerCase())return!0;if(32!==t.which&&13!==t.which&&(t.shiftKey||t.ctrlKey||t.altKey||t.metaKey))return!0;var r=null;switch(this._data.core.rtl&&(37===t.which?t.which=39:39===t.which&&(t.which=37)),t.which){case 32:t.ctrlKey&&(t.type="click",e(t.currentTarget).trigger(t));break;case 13:t.type="click",e(t.currentTarget).trigger(t);break;case 37:t.preventDefault(),this.is_open(t.currentTarget)?this.close_node(t.currentTarget):(r=this.get_parent(t.currentTarget))&&r.id!==e.jstree.root&&this.get_node(r,!0).children(".jstree-anchor").focus();break;case 38:t.preventDefault(),(r=this.get_prev_dom(t.currentTarget))&&r.length&&r.children(".jstree-anchor").focus();break;case 39:t.preventDefault(),this.is_closed(t.currentTarget)?this.open_node(t.currentTarget,function(e){this.get_node(e,!0).children(".jstree-anchor").focus()}):this.is_open(t.currentTarget)&&(r=this.get_node(t.currentTarget,!0).children(".jstree-children")[0])&&e(this._firstChild(r)).children(".jstree-anchor").focus();break;case 40:t.preventDefault(),(r=this.get_next_dom(t.currentTarget))&&r.length&&r.children(".jstree-anchor").focus();break;case 106:this.open_all();break;case 36:t.preventDefault(),(r=this._firstChild(this.get_container_ul()[0]))&&e(r).children(".jstree-anchor").filter(":visible").focus();break;case 35:t.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus();break;case 113:t.preventDefault(),this.edit(t.currentTarget)}},this)).on("load_node.jstree",e.proxy(function(t,r){r.status&&(r.node.id!==e.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(e.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var t,r,n=[];for(t=0,r=this._data.core.selected.length;r>t;t++)n=n.concat(this._model.data[this._data.core.selected[t]].parents);for(n=e.vakata.array_unique(n),t=0,r=n.length;r>t;t++)this.open_node(n[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",e.proxy(function(n){if(n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!0;r&&clearTimeout(r),r=setTimeout(function(){t=""},500);var o=String.fromCharCode(n.which).toLowerCase(),a=this.element.find(".jstree-anchor").filter(":visible"),i=a.index(l.activeElement)||0,s=!1;if(t+=o,t.length>1){if(a.slice(i).each(e.proxy(function(r,n){return 0===e(n).text().toLowerCase().indexOf(t)?(e(n).focus(),s=!0,!1):void 0},this)),s)return;if(a.slice(0,i).each(e.proxy(function(r,n){return 0===e(n).text().toLowerCase().indexOf(t)?(e(n).focus(),s=!0,!1):void 0},this)),s)return}if(new RegExp("^"+o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(t)){if(a.slice(i+1).each(e.proxy(function(t,r){return e(r).text().toLowerCase().charAt(0)===o?(e(r).focus(),s=!0,!1):void 0},this)),s)return;if(a.slice(0,i+1).each(e.proxy(function(t,r){return e(r).text().toLowerCase().charAt(0)===o?(e(r).focus(),s=!0,!1):void 0},this)),s)return}},this)).on("init.jstree",e.proxy(function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this._data.core.themes.ellipsis=e.ellipsis,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)},this)).on("loading.jstree",e.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()},this)).on("blur.jstree",".jstree-anchor",e.proxy(function(t){this._data.core.focused=null,e(t.currentTarget).filter(".jstree-hovered").mouseleave(),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",e.proxy(function(t){var r=this.get_node(t.currentTarget);r&&r.id&&(this._data.core.focused=r.id),this.element.find(".jstree-hovered").not(t.currentTarget).mouseleave(),e(t.currentTarget).mouseenter(),this.element.attr("tabindex","-1")},this)).on("focus.jstree",e.proxy(function(){if(+new Date-n>500&&!this._data.core.focused){n=0;var e=this.get_node(this.element.attr("aria-activedescendant"),!0);e&&e.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",e.proxy(function(e){this.hover_node(e.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),e(l).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var r=this.settings.core.strings;return e.isFunction(r)?r.call(this,t):r&&r[t]?r[t]:t},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(t,r){t&&t.id&&(t=t.id);var n;try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(n=e("#"+t.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[n.closest(".jstree-node").attr("id")])t=this._model.data[n.closest(".jstree-node").attr("id")];else if((n=e(t,this.element)).length&&this._model.data[n.closest(".jstree-node").attr("id")])t=this._model.data[n.closest(".jstree-node").attr("id")];else{if(!(n=e(t,this.element)).length||!n.hasClass("jstree"))return!1;t=this._model.data[e.jstree.root]}return r&&(t=t.id===e.jstree.root?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)),t}catch(e){return!1}},get_path:function(t,r,n){if(!(t=t.parents?t:this.get_node(t))||t.id===e.jstree.root||!t.parents)return!1;var o,a,i=[];for(i.push(n?t.id:t.text),o=0,a=t.parents.length;a>o;o++)i.push(n?t.parents[o]:this.get_text(t.parents[o]));return i=i.reverse().slice(1),r?i.join(r):i},get_next_dom:function(t,r){var n;if(t=this.get_node(t,!0),t[0]===this.element[0]){for(n=this._firstChild(this.get_container_ul()[0]);n&&0===n.offsetHeight;)n=this._nextSibling(n);return!!n&&e(n)}if(!t||!t.length)return!1;if(r){n=t[0];do{n=this._nextSibling(n)}while(n&&0===n.offsetHeight);return!!n&&e(n)}if(t.hasClass("jstree-open")){for(n=this._firstChild(t.children(".jstree-children")[0]);n&&0===n.offsetHeight;)n=this._nextSibling(n);if(null!==n)return e(n)}n=t[0];do{n=this._nextSibling(n)}while(n&&0===n.offsetHeight);return null!==n?e(n):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,r){var n;if(t=this.get_node(t,!0),t[0]===this.element[0]){for(n=this.get_container_ul()[0].lastChild;n&&0===n.offsetHeight;)n=this._previousSibling(n);return!!n&&e(n)}if(!t||!t.length)return!1;if(r){n=t[0];do{n=this._previousSibling(n)}while(n&&0===n.offsetHeight);return!!n&&e(n)}n=t[0];do{n=this._previousSibling(n)}while(n&&0===n.offsetHeight);if(null!==n){for(t=e(n);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t}return!(!(n=t[0].parentNode.parentNode)||!n.className||-1===n.className.indexOf("jstree-node"))&&e(n)},get_parent:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.parent},get_children_dom:function(e){return e=this.get_node(e,!0),e[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return(e=this.get_node(e))&&(!1===e.state.loaded||e.children.length>0)},is_loaded:function(e){return(e=this.get_node(e))&&e.state.loaded},is_loading:function(e){return(e=this.get_node(e))&&e.state&&e.state.loading},is_open:function(e){return(e=this.get_node(e))&&e.state.opened},is_closed:function(e){return(e=this.get_node(e))&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,r){var n,o,a,i,s;if(e.isArray(t))return this._load_nodes(t.slice(),r),!0;if(!(t=this.get_node(t)))return r&&r.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,a=0,i=t.parents.length;i>a;a++)this._model.data[t.parents[a]].children_d=e.vakata.array_filter(this._model.data[t.parents[a]].children_d,function(r){return-1===e.inArray(r,t.children_d)});for(n=0,o=t.children_d.length;o>n;n++)this._model.data[t.children_d[n]].state.selected&&(s=!0),delete this._model.data[t.children_d[n]];s&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(r){return-1===e.inArray(r,t.children_d)})),t.children=[],t.children_d=[],s&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,this.get_node(t,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(t,e.proxy(function(e){t=this._model.data[t.id],t.state.loading=!1,t.state.loaded=e,t.state.failed=!t.state.loaded;var n=this.get_node(t,!0),o=0,a=0,i=this._model.data,s=!1;for(o=0,a=t.children.length;a>o;o++)if(i[t.children[o]]&&!i[t.children[o]].state.hidden){s=!0;break}t.state.loaded&&n&&n.length&&(n.removeClass("jstree-closed jstree-open jstree-leaf"),s?"#"!==t.id&&n.addClass(t.state.opened?"jstree-open":"jstree-closed"):n.addClass("jstree-leaf")),n.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:t,status:e}),r&&r.call(this,t,e)},this)),!0},_load_nodes:function(e,t,r,n){var o,a,i=!0,s=function(){this._load_nodes(e,t,!0)},l=this._model.data,c=[];for(o=0,a=e.length;a>o;o++)l[e[o]]&&(!l[e[o]].state.loaded&&!l[e[o]].state.failed||!r&&n)&&(this.is_loading(e[o])||this.load_node(e[o],s),i=!1);if(i){for(o=0,a=e.length;a>o;o++)l[e[o]]&&l[e[o]].state.loaded&&c.push(e[o]);t&&!t.done&&(t.call(this,c),t.done=!0)}},load_all:function(t,r){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var n,o,a=[],i=this._model.data,s=i[t.id].children_d;for(t.state&&!t.state.loaded&&a.push(t.id),n=0,o=s.length;o>n;n++)i[s[n]]&&i[s[n]].state&&!i[s[n]].state.loaded&&a.push(s[n]);a.length?this._load_nodes(a,function(){this.load_all(t,r)}):(r&&r.call(this,t),this.trigger("load_all",{node:t}))},_load_node:function(t,r){var n,o=this.settings.core.data,a=function(){return 3!==this.nodeType&&8!==this.nodeType};return o?e.isFunction(o)?o.call(this,t,e.proxy(function(n){!1===n?r.call(this,!1):this["string"==typeof n?"_append_html_data":"_append_json_data"](t,"string"==typeof n?e(e.parseHTML(n)).filter(a):n,function(e){r.call(this,e)})},this)):"object"==typeof o?o.url?(o=e.extend(!0,{},o),e.isFunction(o.url)&&(o.url=o.url.call(this,t)),e.isFunction(o.data)&&(o.data=o.data.call(this,t)),e.ajax(o).done(e.proxy(function(n,o,i){var s=i.getResponseHeader("Content-Type");return s&&-1!==s.indexOf("json")||"object"==typeof n?this._append_json_data(t,n,function(e){r.call(this,e)}):s&&-1!==s.indexOf("html")||"string"==typeof n?this._append_html_data(t,e(e.parseHTML(n)).filter(a),function(e){r.call(this,e)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:i})},this.settings.core.error.call(this,this._data.core.last_error),r.call(this,!1))},this)).fail(e.proxy(function(e){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},r.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)},this))):(n=e.isArray(o)?e.extend(!0,[],o):e.isPlainObject(o)?e.extend(!0,{},o):o,t.id===e.jstree.root?this._append_json_data(t,n,function(e){r.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),r.call(this,!1))):"string"==typeof o?t.id===e.jstree.root?this._append_html_data(t,e(e.parseHTML(o)).filter(a),function(e){r.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),r.call(this,!1)):r.call(this,!1):t.id===e.jstree.root?this._append_html_data(t,this._data.core.original_container_html.clone(!0),function(e){r.call(this,e)}):r.call(this,!1)},_node_changed:function(e){(e=this.get_node(e))&&this._model.changed.push(e.id)},_append_html_data:function(t,r,n){t=this.get_node(t),t.children=[],t.children_d=[];var o,a,i,s=r.is("ul")?r.children():r,l=t.id,c=[],d=[],u=this._model.data,h=u[l],f=this._data.core.selected.length;for(s.each(e.proxy(function(t,r){(o=this._parse_model_from_html(e(r),l,h.parents.concat()))&&(c.push(o),d.push(o),u[o].children_d.length&&(d=d.concat(u[o].children_d)))},this)),h.children=c,h.children_d=d,a=0,i=h.parents.length;i>a;a++)u[h.parents[a]].children_d=u[h.parents[a]].children_d.concat(d);this.trigger("model",{nodes:d,parent:l}),l!==e.jstree.root?(this._node_changed(l),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==f&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),n.call(this,!0)},_append_json_data:function(t,r,n,o){if(null!==this.element){t=this.get_node(t),t.children=[],t.children_d=[],r.d&&"string"==typeof(r=r.d)&&(r=JSON.parse(r)),e.isArray(r)||(r=[r]);var a=null,i={df:this._model.default_state,dat:r,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},s=function(e,t){e.data&&(e=e.data);var r,n,o,a,i=e.dat,s=e.par,l=[],c=[],d=[],u=e.df,h=e.t_id,f=e.t_cnt,p=e.m,_=p[s],m=e.sel,y=function(e,r,n){n=n?n.concat():[],r&&n.unshift(r);var o,a,i,s,l=e.id.toString(),c={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:r,parents:n,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(o in u)u.hasOwnProperty(o)&&(c.state[o]=u[o]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(c.icon=e.data.jstree.icon),(c.icon===t||null===c.icon||""===c.icon)&&(c.icon=!0),e&&e.data&&(c.data=e.data,e.data.jstree))for(o in e.data.jstree)e.data.jstree.hasOwnProperty(o)&&(c.state[o]=e.data.jstree[o]);if(e&&"object"==typeof e.state)for(o in e.state)e.state.hasOwnProperty(o)&&(c.state[o]=e.state[o]);if(e&&"object"==typeof e.li_attr)for(o in e.li_attr)e.li_attr.hasOwnProperty(o)&&(c.li_attr[o]=e.li_attr[o]);if(c.li_attr.id||(c.li_attr.id=l),e&&"object"==typeof e.a_attr)for(o in e.a_attr)e.a_attr.hasOwnProperty(o)&&(c.a_attr[o]=e.a_attr[o]);for(e&&e.children&&!0===e.children&&(c.state.loaded=!1,c.children=[],c.children_d=[]),p[c.id]=c,o=0,a=c.children.length;a>o;o++)i=y(p[c.children[o]],c.id,n),s=p[i],c.children_d.push(i),s.children_d.length&&(c.children_d=c.children_d.concat(s.children_d));return delete e.data,delete e.children,p[c.id].original=e,c.state.selected&&d.push(c.id),c.id},g=function(e,r,n){n=n?n.concat():[],r&&n.unshift(r);var o,a,i,s,l,c=!1;do{c="j"+h+"_"+ ++f}while(p[c]);l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:r,parents:n,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(o in u)u.hasOwnProperty(o)&&(l.state[o]=u[o]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),(l.icon===t||null===l.icon||""===l.icon)&&(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(o in e.data.jstree)e.data.jstree.hasOwnProperty(o)&&(l.state[o]=e.data.jstree[o]);if(e&&"object"==typeof e.state)for(o in e.state)e.state.hasOwnProperty(o)&&(l.state[o]=e.state[o]);if(e&&"object"==typeof e.li_attr)for(o in e.li_attr)e.li_attr.hasOwnProperty(o)&&(l.li_attr[o]=e.li_attr[o]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(o in e.a_attr)e.a_attr.hasOwnProperty(o)&&(l.a_attr[o]=e.a_attr[o]);if(e&&e.children&&e.children.length){for(o=0,a=e.children.length;a>o;o++)i=g(e.children[o],l.id,n),s=p[i],l.children.push(i),s.children_d.length&&(l.children_d=l.children_d.concat(s.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,p[l.id]=l,l.state.selected&&d.push(l.id),l.id};if(i.length&&i[0].id!==t&&i[0].parent!==t){for(n=0,o=i.length;o>n;n++)i[n].children||(i[n].children=[]),p[i[n].id.toString()]=i[n];for(n=0,o=i.length;o>n;n++)p[i[n].parent.toString()].children.push(i[n].id.toString()),_.children_d.push(i[n].id.toString());for(n=0,o=_.children.length;o>n;n++)r=y(p[_.children[n]],s,_.parents.concat()),c.push(r),p[r].children_d.length&&(c=c.concat(p[r].children_d));for(n=0,o=_.parents.length;o>n;n++)p[_.parents[n]].children_d=p[_.parents[n]].children_d.concat(c);a={cnt:f,mod:p,sel:m,par:s,dpc:c,add:d}}else{for(n=0,o=i.length;o>n;n++)(r=g(i[n],s,_.parents.concat()))&&(l.push(r),c.push(r),p[r].children_d.length&&(c=c.concat(p[r].children_d)));for(_.children=l,_.children_d=c,n=0,o=_.parents.length;o>n;n++)p[_.parents[n]].children_d=p[_.parents[n]].children_d.concat(c);a={cnt:f,mod:p,sel:m,par:s,dpc:c,add:d}}return"undefined"!=typeof window&&void 0!==window.document?a:void postMessage(a)},l=function(t,r){if(null!==this.element){this._cnt=t.cnt;var o,a=this._model.data;for(o in a)a.hasOwnProperty(o)&&a[o].state&&a[o].state.loading&&t.mod[o]&&(t.mod[o].state.loading=!0);if(this._model.data=t.mod,r){var i,s=t.add,l=t.sel,c=this._data.core.selected.slice();if(a=this._model.data,l.length!==c.length||e.vakata.array_unique(l.concat(c)).length!==l.length){for(o=0,i=l.length;i>o;o++)-1===e.inArray(l[o],s)&&-1===e.inArray(l[o],c)&&(a[l[o]].state.selected=!1);for(o=0,i=c.length;i>o;o++)-1===e.inArray(c[o],l)&&(a[c[o]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),t.par!==e.jstree.root?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),n.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+s.toString()],{type:"text/javascript"}))),!this._data.core.working||o?(this._data.core.working=!0,a=new window.Worker(this._wrk),a.onmessage=e.proxy(function(e){l.call(this,e.data,!0);try{a.terminate(),a=null}catch(e){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),i.par?a.postMessage(i):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,r,n,!0])}catch(e){l.call(this,s(i),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else l.call(this,s(i),!1)}},_parse_model_from_html:function(r,n,o){o=o?[].concat(o):[],n&&o.unshift(n);var a,i,s,l,c,d=this._model.data,u={id:!1,text:!1,icon:!0,parent:n,parents:o,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in this._model.default_state)this._model.default_state.hasOwnProperty(s)&&(u.state[s]=this._model.default_state[s]);if(l=e.vakata.attributes(r,!0),e.each(l,function(t,r){return r=e.trim(r),!r.length||(u.li_attr[t]=r,void("id"===t&&(u.id=r.toString())))}),l=r.children("a").first(),l.length&&(l=e.vakata.attributes(l,!0),e.each(l,function(t,r){r=e.trim(r),r.length&&(u.a_attr[t]=r)})),l=r.children("a").first().length?r.children("a").first().clone():r.clone(),l.children("ins, i, ul").remove(),l=l.html(),l=e("<div />").html(l),u.text=this.settings.core.force_text?l.text():l.html(),l=r.data(),u.data=l?e.extend(!0,{},l):null,u.state.opened=r.hasClass("jstree-open"),u.state.selected=r.children("a").hasClass("jstree-clicked"),u.state.disabled=r.children("a").hasClass("jstree-disabled"),u.data&&u.data.jstree)for(s in u.data.jstree)u.data.jstree.hasOwnProperty(s)&&(u.state[s]=u.data.jstree[s]);l=r.children("a").children(".jstree-themeicon"),l.length&&(u.icon=!l.hasClass("jstree-themeicon-hidden")&&l.attr("rel")),u.state.icon!==t&&(u.icon=u.state.icon),(u.icon===t||null===u.icon||""===u.icon)&&(u.icon=!0),l=r.children("ul").children("li");do{c="j"+this._id+"_"+ ++this._cnt}while(d[c]);return u.id=u.li_attr.id?u.li_attr.id.toString():c,l.length?(l.each(e.proxy(function(t,r){a=this._parse_model_from_html(e(r),u.id,o),i=this._model.data[a],u.children.push(a),i.children_d.length&&(u.children_d=u.children_d.concat(i.children_d))},this)),u.children_d=u.children_d.concat(u.children)):r.hasClass("jstree-closed")&&(u.state.loaded=!1),u.li_attr.class&&(u.li_attr.class=u.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),u.a_attr.class&&(u.a_attr.class=u.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),d[u.id]=u,u.state.selected&&this._data.core.selected.push(u.id),u.id},_parse_model_from_flat_json:function(e,r,n){n=n?n.concat():[],r&&n.unshift(r);var o,a,i,s,l=e.id.toString(),c=this._model.data,d=this._model.default_state,u={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:r,parents:n,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(o in d)d.hasOwnProperty(o)&&(u.state[o]=d[o]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(u.icon=e.data.jstree.icon),(u.icon===t||null===u.icon||""===u.icon)&&(u.icon=!0),e&&e.data&&(u.data=e.data,e.data.jstree))for(o in e.data.jstree)e.data.jstree.hasOwnProperty(o)&&(u.state[o]=e.data.jstree[o]);if(e&&"object"==typeof e.state)for(o in e.state)e.state.hasOwnProperty(o)&&(u.state[o]=e.state[o]);if(e&&"object"==typeof e.li_attr)for(o in e.li_attr)e.li_attr.hasOwnProperty(o)&&(u.li_attr[o]=e.li_attr[o]);if(u.li_attr.id||(u.li_attr.id=l),e&&"object"==typeof e.a_attr)for(o in e.a_attr)e.a_attr.hasOwnProperty(o)&&(u.a_attr[o]=e.a_attr[o]);for(e&&e.children&&!0===e.children&&(u.state.loaded=!1,u.children=[],u.children_d=[]),c[u.id]=u,o=0,a=u.children.length;a>o;o++)i=this._parse_model_from_flat_json(c[u.children[o]],u.id,n),s=c[i],u.children_d.push(i),s.children_d.length&&(u.children_d=u.children_d.concat(s.children_d));return delete e.data,delete e.children,c[u.id].original=e,u.state.selected&&this._data.core.selected.push(u.id),u.id},_parse_model_from_json:function(e,r,n){n=n?n.concat():[],r&&n.unshift(r);var o,a,i,s,l,c=!1,d=this._model.data,u=this._model.default_state;do{c="j"+this._id+"_"+ ++this._cnt}while(d[c]);l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:r,parents:n,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(o in u)u.hasOwnProperty(o)&&(l.state[o]=u[o]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),(l.icon===t||null===l.icon||""===l.icon)&&(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(o in e.data.jstree)e.data.jstree.hasOwnProperty(o)&&(l.state[o]=e.data.jstree[o]);if(e&&"object"==typeof e.state)for(o in e.state)e.state.hasOwnProperty(o)&&(l.state[o]=e.state[o]);if(e&&"object"==typeof e.li_attr)for(o in e.li_attr)e.li_attr.hasOwnProperty(o)&&(l.li_attr[o]=e.li_attr[o]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(o in e.a_attr)e.a_attr.hasOwnProperty(o)&&(l.a_attr[o]=e.a_attr[o]);if(e&&e.children&&e.children.length){for(o=0,a=e.children.length;a>o;o++)i=this._parse_model_from_json(e.children[o],l.id,n),s=d[i],l.children.push(i),s.children_d.length&&(l.children_d=l.children_d.concat(s.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,d[l.id]=l,l.state.selected&&this._data.core.selected.push(l.id),l.id},_redraw:function(){var t,r,n,o=this._model.force_full_redraw?this._model.data[e.jstree.root].children.concat([]):this._model.changed.concat([]),a=l.createElement("UL"),i=this._data.core.focused;for(r=0,n=o.length;n>r;r++)(t=this.redraw_node(o[r],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&a.appendChild(t);this._model.force_full_redraw&&(a.className=this.get_container_ul()[0].className,a.setAttribute("role","group"),this.element.empty().append(a)),null!==i&&(t=this.get_node(i,!0),t&&t.length&&t.children(".jstree-anchor")[0]!==l.activeElement?t.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:o})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(t){var r=this.get_node(t),n=!1,o=!1,a=!1,i=l;if(!r)return!1;if(r.id===e.jstree.root)return this.redraw(!0);if(!(t=this.get_node(t,!0))||!t.length)return!1;if(t.children(".jstree-children").remove(),t=t[0],r.children.length&&r.state.loaded){for(a=i.createElement("UL"),a.setAttribute("role","group"),a.className="jstree-children",n=0,o=r.children.length;o>n;n++)a.appendChild(this.redraw_node(r.children[n],!0,!0));t.appendChild(a)}},redraw_node:function(t,r,n,o){var a=this.get_node(t),i=!1,s=!1,c=!1,d=!1,u=!1,h=!1,f="",p=l,_=this._model.data,m=!1,y=null,g=0,v=0,b=!1,w=!1;if(!a)return!1;if(a.id===e.jstree.root)return this.redraw(!0);if(r=r||0===a.children.length,t=l.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(a.id[0])?"\\3"+a.id[0]+" "+a.id.substr(1).replace(e.jstree.idregex,"\\$&"):a.id.replace(e.jstree.idregex,"\\$&"))):l.getElementById(a.id))t=e(t),n||(i=t.parent().parent()[0],i===this.element[0]&&(i=null),s=t.index()),r||!a.children.length||t.children(".jstree-children").length||(r=!0),r||(c=t.children(".jstree-children")[0]),m=t.children(".jstree-anchor")[0]===l.activeElement,t.remove();else if(r=!0,!n){if(!(null===(i=a.parent!==e.jstree.root?e("#"+a.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null)||i&&_[a.parent].state.opened))return!1;s=e.inArray(a.id,null===i?_[e.jstree.root].children:_[a.parent].children)}t=this._data.core.node.cloneNode(!0),f="jstree-node ";for(d in a.li_attr)if(a.li_attr.hasOwnProperty(d)){if("id"===d)continue;"class"!==d?t.setAttribute(d,a.li_attr[d]):f+=a.li_attr[d]}for(a.a_attr.id||(a.a_attr.id=a.id+"_anchor"),t.setAttribute("aria-selected",!!a.state.selected),t.setAttribute("aria-level",a.parents.length),t.setAttribute("aria-labelledby",a.a_attr.id),a.state.disabled&&t.setAttribute("aria-disabled",!0),d=0,u=a.children.length;u>d;d++)if(!_[a.children[d]].state.hidden){b=!0;break}if(null!==a.parent&&_[a.parent]&&!a.state.hidden&&(d=e.inArray(a.id,_[a.parent].children),w=a.id,-1!==d))for(d++,u=_[a.parent].children.length;u>d&&(_[_[a.parent].children[d]].state.hidden||(w=_[a.parent].children[d]),w===a.id);d++);a.state.hidden&&(f+=" jstree-hidden"),a.state.loaded&&!b?f+=" jstree-leaf":(f+=a.state.opened&&a.state.loaded?" jstree-open":" jstree-closed",t.setAttribute("aria-expanded",a.state.opened&&a.state.loaded)),w===a.id&&(f+=" jstree-last"),t.id=a.id,t.className=f,f=(a.state.selected?" jstree-clicked":"")+(a.state.disabled?" jstree-disabled":"");for(u in a.a_attr)if(a.a_attr.hasOwnProperty(u)){if("href"===u&&"#"===a.a_attr[u])continue;"class"!==u?t.childNodes[1].setAttribute(u,a.a_attr[u]):f+=" "+a.a_attr[u]}if(f.length&&(t.childNodes[1].className="jstree-anchor "+f),(a.icon&&!0!==a.icon||!1===a.icon)&&(!1===a.icon?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===a.icon.indexOf("/")&&-1===a.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+a.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage='url("'+a.icon+'")',t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(p.createTextNode(a.text)):t.childNodes[1].innerHTML+=a.text,r&&a.children.length&&(a.state.opened||o)&&a.state.loaded){for(h=p.createElement("UL"),h.setAttribute("role","group"),h.className="jstree-children",d=0,u=a.children.length;u>d;d++)h.appendChild(this.redraw_node(a.children[d],r,!0));t.appendChild(h)}if(c&&t.appendChild(c),!n){for(i||(i=this.element[0]),d=0,u=i.childNodes.length;u>d;d++)if(i.childNodes[d]&&i.childNodes[d].className&&-1!==i.childNodes[d].className.indexOf("jstree-children")){y=i.childNodes[d];break}y||(y=p.createElement("UL"),y.setAttribute("role","group"),y.className="jstree-children",i.appendChild(y)),i=y,s<i.childNodes.length?i.insertBefore(t,i.childNodes[s]):i.appendChild(t),m&&(g=this.element[0].scrollTop,v=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=g,this.element[0].scrollLeft=v)}return a.state.opened&&!a.state.loaded&&(a.state.opened=!1,setTimeout(e.proxy(function(){this.open_node(a.id,!1,0)},this),0)),t},open_node:function(r,n,o){var a,i,s,l;if(e.isArray(r)){for(r=r.slice(),a=0,i=r.length;i>a;a++)this.open_node(r[a],n,o);return!0}return!(!(r=this.get_node(r))||r.id===e.jstree.root)&&(o=o===t?this.settings.core.animation:o,this.is_closed(r)?this.is_loaded(r)?(s=this.get_node(r,!0),l=this,s.length&&(o&&s.children(".jstree-children").length&&s.children(".jstree-children").stop(!0,!0),r.children.length&&!this._firstChild(s.children(".jstree-children")[0])&&this.draw_children(r),o?(this.trigger("before_open",{node:r}),s.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(o,function(){this.style.display="",l.element&&l.trigger("after_open",{node:r})})):(this.trigger("before_open",{node:r}),s[0].className=s[0].className.replace("jstree-closed","jstree-open"),s[0].setAttribute("aria-expanded",!0))),r.state.opened=!0,n&&n.call(this,r,!0),s.length||this.trigger("before_open",{node:r}),this.trigger("open_node",{node:r}),o&&s.length||this.trigger("after_open",{node:r}),!0):this.is_loading(r)?setTimeout(e.proxy(function(){this.open_node(r,n,o)},this),500):void this.load_node(r,function(e,t){return t?this.open_node(e,n,o):!!n&&n.call(this,e,!1)}):(n&&n.call(this,r,!1),!1))},_open_to:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var r,n,o=t.parents;for(r=0,n=o.length;n>r;r+=1)r!==e.jstree.root&&this.open_node(o[r],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(r,n){var o,a,i,s;if(e.isArray(r)){for(r=r.slice(),o=0,a=r.length;a>o;o++)this.close_node(r[o],n);return!0}return!(!(r=this.get_node(r))||r.id===e.jstree.root)&&(!this.is_closed(r)&&(n=n===t?this.settings.core.animation:n,i=this,s=this.get_node(r,!0),r.state.opened=!1,this.trigger("close_node",{node:r}),void(s.length?n?s.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(n,function(){this.style.display="",s.children(".jstree-children").remove(),i.element&&i.trigger("after_close",{node:r})}):(s[0].className=s[0].className.replace("jstree-open","jstree-closed"),s.attr("aria-expanded",!1).children(".jstree-children").remove(),this.trigger("after_close",{node:r})):this.trigger("after_close",{node:r}))))},toggle_node:function(t){var r,n;if(e.isArray(t)){for(t=t.slice(),r=0,n=t.length;n>r;r++)this.toggle_node(t[r]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(t,r,n){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var o,a,i,s=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0);if(!s.length){for(o=0,a=t.children_d.length;a>o;o++)this.is_closed(this._model.data[t.children_d[o]])&&(this._model.data[t.children_d[o]].state.opened=!0);return this.trigger("open_all",{node:t})}n=n||s,i=this,s=this.is_closed(t)?s.find(".jstree-closed").addBack():s.find(".jstree-closed"),s.each(function(){i.open_node(this,function(e,t){t&&this.is_parent(e)&&this.open_all(e,r,n)},r||0)}),0===n.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(n)})},close_all:function(t,r){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var n,o,a=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0),i=this;for(a.length&&(a=this.is_open(t)?a.find(".jstree-open").addBack():a.find(".jstree-open"),e(a.get().reverse()).each(function(){i.close_node(this,r||0)})),n=0,o=t.children_d.length;o>n;n++)this._model.data[t.children_d[n]].state.opened=!1;this.trigger("close_all",{node:t})},is_disabled:function(e){return(e=this.get_node(e))&&e.state&&e.state.disabled},enable_node:function(t){var r,n;if(e.isArray(t)){for(t=t.slice(),r=0,n=t.length;n>r;r++)this.enable_node(t[r]);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),void this.trigger("enable_node",{node:t}))},disable_node:function(t){var r,n;if(e.isArray(t)){for(t=t.slice(),r=0,n=t.length;n>r;r++)this.disable_node(t[r]);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),void this.trigger("disable_node",{node:t}))},is_hidden:function(e){return e=this.get_node(e),!0===e.state.hidden},hide_node:function(t,r){var n,o;if(e.isArray(t)){for(t=t.slice(),n=0,o=t.length;o>n;n++)this.hide_node(t[n],!0);return r||this.redraw(),!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&void(t.state.hidden||(t.state.hidden=!0,this._node_changed(t.parent),r||this.redraw(),this.trigger("hide_node",{node:t})))},show_node:function(t,r){var n,o;if(e.isArray(t)){for(t=t.slice(),n=0,o=t.length;o>n;n++)this.show_node(t[n],!0);return r||this.redraw(),!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&void(t.state.hidden&&(t.state.hidden=!1,this._node_changed(t.parent),r||this.redraw(),this.trigger("show_node",{node:t})))},hide_all:function(t){var r,n=this._model.data,o=[];for(r in n)n.hasOwnProperty(r)&&r!==e.jstree.root&&!n[r].state.hidden&&(n[r].state.hidden=!0,o.push(r));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("hide_all",{nodes:o}),o},show_all:function(t){var r,n=this._model.data,o=[];for(r in n)n.hasOwnProperty(r)&&r!==e.jstree.root&&n[r].state.hidden&&(n[r].state.hidden=!1,o.push(r));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("show_all",{nodes:o}),o},activate_node:function(e,r){if(this.is_disabled(e))return!1;if(r&&"object"==typeof r||(r={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(r.metaKey||r.ctrlKey||r.shiftKey)&&(!r.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(r.shiftKey){var n,o,a=this.get_node(e).id,i=this._data.core.last_clicked.id,s=this.get_node(this._data.core.last_clicked.parent).children,l=!1;for(n=0,o=s.length;o>n;n+=1)s[n]===a&&(l=!l),s[n]===i&&(l=!l),this.is_disabled(s[n])||!l&&s[n]!==a&&s[n]!==i?this.deselect_node(s[n],!0,r):this.is_hidden(s[n])||this.select_node(s[n],!0,!1,r);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:r})}else this.is_selected(e)?this.deselect_node(e,!1,r):this.select_node(e,!1,!1,r);else!this.settings.core.multiple&&(r.metaKey||r.ctrlKey||r.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,r):(this.deselect_all(!0),this.select_node(e,!1,!1,r),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:r})},hover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),r=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){r.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){return!!((e=this.get_node(e,!0))&&e.length&&e.children(".jstree-hovered").length)&&(e.children(".jstree-anchor").removeClass("jstree-hovered"),void this.trigger("dehover_node",{node:this.get_node(e)}))},select_node:function(t,r,n,o){var a,i,s;if(e.isArray(t)){for(t=t.slice(),i=0,s=t.length;s>i;i++)this.select_node(t[i],r,n,o);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(a=this.get_node(t,!0),void(t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),n||(a=this._open_to(t)),a&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:o}),r||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:o}))))},deselect_node:function(t,r,n){var o,a,i;if(e.isArray(t)){for(t=t.slice(),o=0,a=t.length;a>o;o++)this.deselect_node(t[o],r,n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(i=this.get_node(t,!0),void(t.state.selected&&(t.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.id),i.length&&i.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:n}),r||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:n}))))},select_all:function(t){var r,n,o=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[e.jstree.root].children_d.concat(),r=0,n=this._data.core.selected.length;n>r;r++)this._model.data[this._data.core.selected[r]]&&(this._model.data[this._data.core.selected[r]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),t||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:o})},deselect_all:function(e){var t,r,n=this._data.core.selected.concat([]);for(t=0,r=this._data.core.selected.length;r>t;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:n}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:n})},is_selected:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.selected},get_selected:function(t){return t?e.map(this._data.core.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.core.selected.slice()},get_top_selected:function(t){var r,n,o,a,i=this.get_selected(!0),s={};for(r=0,n=i.length;n>r;r++)s[i[r].id]=i[r];for(r=0,n=i.length;n>r;r++)for(o=0,a=i[r].children_d.length;a>o;o++)s[i[r].children_d[o]]&&delete s[i[r].children_d[o]];i=[];for(r in s)s.hasOwnProperty(r)&&i.push(r);return t?e.map(i,e.proxy(function(e){return this.get_node(e)},this)):i},get_bottom_selected:function(t){var r,n,o=this.get_selected(!0),a=[];for(r=0,n=o.length;n>r;r++)o[r].children.length||a.push(o[r].id);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},get_state:function(){var t,r={core:{open:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(t in this._model.data)this._model.data.hasOwnProperty(t)&&t!==e.jstree.root&&(this._model.data[t].state.opened&&r.core.open.push(t),this._model.data[t].state.selected&&r.core.selected.push(t));return r},set_state:function(r,n){if(r){if(r.core&&r.core.selected&&r.core.initial_selection===t&&(r.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),r.core){var o,a;if(r.core.open)return e.isArray(r.core.open)&&r.core.open.length?this._load_nodes(r.core.open,function(e){this.open_node(e,!1,0),delete r.core.open,this.set_state(r,n)}):(delete r.core.open,this.set_state(r,n)),!1;if(r.core.scroll)return r.core.scroll&&r.core.scroll.left!==t&&this.element.scrollLeft(r.core.scroll.left),r.core.scroll&&r.core.scroll.top!==t&&this.element.scrollTop(r.core.scroll.top),delete r.core.scroll,this.set_state(r,n),!1;if(r.core.selected)return o=this,(r.core.initial_selection===t||r.core.initial_selection===this._data.core.selected.concat([]).sort().join(","))&&(this.deselect_all(),e.each(r.core.selected,function(e,t){o.select_node(t,!1,!0)})),delete r.core.initial_selection,delete r.core.selected,this.set_state(r,n),!1;for(a in r)r.hasOwnProperty(a)&&"core"!==a&&-1===e.inArray(a,this.settings.plugins)&&delete r[a];if(e.isEmptyObject(r.core))return delete r.core,this.set_state(r,n),!1}return!e.isEmptyObject(r)||(r=null,n&&n.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(t,r){this._data.core.state=!0===r?{}:this.get_state(),r&&e.isFunction(r)&&(this._data.core.state=r.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var n=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+n+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(e.jstree.root,function(t,r){r&&(this.get_container_ul()[0].className=n,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var r=[],n=[],o=this._data.core.selected.concat([]);n.push(t.id),!0===t.state.opened&&r.push(t.id),this.get_node(t,!0).find(".jstree-open").each(function(){n.push(this.id),r.push(this.id)}),this._load_nodes(n,e.proxy(function(e){this.open_node(r,!1,0),this.select_node(o),this.trigger("refresh_node",{node:t,nodes:e})},this),!1,!0)},set_id:function(t,r){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var n,o,a=this._model.data,i=t.id;for(r=r.toString(),a[t.parent].children[e.inArray(t.id,a[t.parent].children)]=r,n=0,o=t.parents.length;o>n;n++)a[t.parents[n]].children_d[e.inArray(t.id,a[t.parents[n]].children_d)]=r;for(n=0,o=t.children.length;o>n;n++)a[t.children[n]].parent=r;for(n=0,o=t.children_d.length;o>n;n++)a[t.children_d[n]].parents[e.inArray(t.id,a[t.children_d[n]].parents)]=r;return n=e.inArray(t.id,this._data.core.selected),-1!==n&&(this._data.core.selected[n]=r),n=this.get_node(t.id,!0),n&&(n.attr("id",r),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",r)),delete a[t.id],t.id=r,t.li_attr.id=r,a[r]=t,this.trigger("set_id",{node:t,new:t.id,old:i}),!0},get_text:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.text},set_text:function(t,r){var n,o;if(e.isArray(t)){for(t=t.slice(),n=0,o=t.length;o>n;n++)this.set_text(t[n],r);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(t.text=r,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:r}),!0)},get_json:function(t,r,n){if(!(t=this.get_node(t||e.jstree.root)))return!1;r&&r.flat&&!n&&(n=[]);var o,a,i={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:e.extend(!0,{},t.li_attr),a_attr:e.extend(!0,{},t.a_attr),state:{},data:(!r||!r.no_data)&&e.extend(!0,e.isArray(t.data)?[]:{},t.data)};if(r&&r.flat?i.parent=t.parent:i.children=[],r&&r.no_state)delete i.state;else for(o in t.state)t.state.hasOwnProperty(o)&&(i.state[o]=t.state[o]);if(r&&r.no_li_attr&&delete i.li_attr,r&&r.no_a_attr&&delete i.a_attr,r&&r.no_id&&(delete i.id,i.li_attr&&i.li_attr.id&&delete i.li_attr.id,i.a_attr&&i.a_attr.id&&delete i.a_attr.id),r&&r.flat&&t.id!==e.jstree.root&&n.push(i),!r||!r.no_children)for(o=0,a=t.children.length;a>o;o++)r&&r.flat?this.get_json(t.children[o],r,n):i.children.push(this.get_json(t.children[o],r));return r&&r.flat?n:t.id===e.jstree.root?i.children:i},create_node:function(r,n,o,a,i){if(null===r&&(r=e.jstree.root),!(r=this.get_node(r)))return!1;if(o=o===t?"last":o,!o.toString().match(/^(before|after)$/)&&!i&&!this.is_loaded(r))return this.load_node(r,function(){this.create_node(r,n,o,a,!0)});n||(n={text:this.get_string("New node")}),n="string"==typeof n?{text:n}:e.extend(!0,{},n),n.text===t&&(n.text=this.get_string("New node"));var s,l,c,d;switch(r.id===e.jstree.root&&("before"===o&&(o="first"),"after"===o&&(o="last")),o){case"before":s=this.get_node(r.parent),o=e.inArray(r.id,s.children),r=s;break;case"after":s=this.get_node(r.parent),o=e.inArray(r.id,s.children)+1,r=s;break;case"inside":case"first":o=0;break;case"last":o=r.children.length;break;default:o||(o=0)}if(o>r.children.length&&(o=r.children.length),n.id||(n.id=!0),!this.check("create_node",n,r,o))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===n.id&&delete n.id,!(n=this._parse_model_from_json(n,r.id,r.parents.concat())))return!1;for(s=this.get_node(n),l=[],l.push(n),l=l.concat(s.children_d),this.trigger("model",{nodes:l,parent:r.id}),r.children_d=r.children_d.concat(l),c=0,d=r.parents.length;d>c;c++)this._model.data[r.parents[c]].children_d=this._model.data[r.parents[c]].children_d.concat(l);for(n=s,s=[],c=0,d=r.children.length;d>c;c++)s[c>=o?c+1:c]=r.children[c];return s[o]=n.id,r.children=s,this.redraw_node(r,!0),this.trigger("create_node",{node:this.get_node(n),parent:r.id,position:o}),a&&a.call(this,this.get_node(n)),n.id},rename_node:function(t,r){var n,o,a;if(e.isArray(t)){for(t=t.slice(),n=0,o=t.length;o>n;n++)this.rename_node(t[n],r);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(a=t.text,this.check("rename_node",t,this.get_parent(t),r)?(this.set_text(t,r),this.trigger("rename_node",{node:t,text:r,old:a}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(t){var r,n,o,a,i,s,l,c,d,u,h,f;if(e.isArray(t)){for(t=t.slice(),r=0,n=t.length;n>r;r++)this.delete_node(t[r]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;if(o=this.get_node(t.parent),a=e.inArray(t.id,o.children),u=!1,!this.check("delete_node",t,o,a))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==a&&(o.children=e.vakata.array_remove(o.children,a)),i=t.children_d.concat([]),i.push(t.id),s=0,l=t.parents.length;l>s;s++)this._model.data[t.parents[s]].children_d=e.vakata.array_filter(this._model.data[t.parents[s]].children_d,function(t){return-1===e.inArray(t,i)});for(c=0,d=i.length;d>c;c++)if(this._model.data[i[c]].state.selected){u=!0;break}for(u&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(t){return-1===e.inArray(t,i)})),this.trigger("delete_node",{node:t,parent:o.id}),u&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:o.id}),c=0,d=i.length;d>c;c++)delete this._model.data[i[c]];return-1!==e.inArray(this._data.core.focused,i)&&(this._data.core.focused=null,h=this.element[0].scrollTop,f=this.element[0].scrollLeft,o.id===e.jstree.root?this._model.data[e.jstree.root].children[0]&&this.get_node(this._model.data[e.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(o,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=h,this.element[0].scrollLeft=f),this.redraw_node(o,!0),!0},check:function(t,r,n,o,a){r=r&&r.id?r:this.get_node(r),n=n&&n.id?n:this.get_node(n);var i=t.match(/^move_node|copy_node|create_node$/i)?n:r,s=this.settings.core.check_callback;return"move_node"!==t&&"copy_node"!==t||a&&a.is_multi||r.id!==n.id&&("move_node"!==t||e.inArray(r.id,n.children)!==o)&&-1===e.inArray(n.id,r.children_d)?(i&&i.data&&(i=i.data),i&&i.functions&&(!1===i.functions[t]||!0===i.functions[t])?(!1===i.functions[t]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!r||!r.id)&&r.id,par:!(!n||!n.id)&&n.id})}),i.functions[t]):!(!1===s||e.isFunction(s)&&!1===s.call(this,t,r,n,o,a)||s&&!1===s[t])||(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!r||!r.id)&&r.id,par:!(!n||!n.id)&&n.id})},!1)):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:o,obj:!(!r||!r.id)&&r.id,par:!(!n||!n.id)&&n.id})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(r,n,o,a,i,s,l){var c,d,u,h,f,p,_,m,y,g,v,b,w,j;if(n=this.get_node(n),o=o===t?0:o,!n)return!1;if(!o.toString().match(/^(before|after)$/)&&!i&&!this.is_loaded(n))return this.load_node(n,function(){this.move_node(r,n,o,a,!0,!1,l)});if(e.isArray(r)){if(1!==r.length){for(c=0,d=r.length;d>c;c++)(y=this.move_node(r[c],n,o,a,i,!1,l))&&(n=y,o="after");return this.redraw(),!0}r=r[0]}if(!(r=r&&r.id?r:this.get_node(r))||r.id===e.jstree.root)return!1;if(u=(r.parent||e.jstree.root).toString(),f=o.toString().match(/^(before|after)$/)&&n.id!==e.jstree.root?this.get_node(n.parent):n,p=l||(this._model.data[r.id]?this:e.jstree.reference(r.id)),_=!p||!p._id||this._id!==p._id,h=p&&p._id&&u&&p._model.data[u]&&p._model.data[u].children?e.inArray(r.id,p._model.data[u].children):-1,p&&p._id&&(r=p._model.data[r.id]),_)return!!(y=this.copy_node(r,n,o,a,i,!1,l))&&(p&&p.delete_node(r),y);switch(n.id===e.jstree.root&&("before"===o&&(o="first"),"after"===o&&(o="last")),o){case"before":o=e.inArray(n.id,f.children);break;case"after":o=e.inArray(n.id,f.children)+1;break;case"inside":case"first":o=0;break;case"last":o=f.children.length;break;default:o||(o=0)}if(o>f.children.length&&(o=f.children.length),!this.check("move_node",r,f,o,{core:!0,origin:l,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(r.parent===f.id){for(m=f.children.concat(),y=e.inArray(r.id,m),-1!==y&&(m=e.vakata.array_remove(m,y),o>y&&o--),y=[],g=0,v=m.length;v>g;g++)y[g>=o?g+1:g]=m[g];y[o]=r.id,f.children=y,this._node_changed(f.id),this.redraw(f.id===e.jstree.root)}else{for(y=r.children_d.concat(),y.push(r.id),g=0,v=r.parents.length;v>g;g++){for(m=[],j=p._model.data[r.parents[g]].children_d,b=0,w=j.length;w>b;b++)-1===e.inArray(j[b],y)&&m.push(j[b]);p._model.data[r.parents[g]].children_d=m}for(p._model.data[u].children=e.vakata.array_remove_item(p._model.data[u].children,r.id),g=0,v=f.parents.length;v>g;g++)this._model.data[f.parents[g]].children_d=this._model.data[f.parents[g]].children_d.concat(y);for(m=[],g=0,v=f.children.length;v>g;g++)m[g>=o?g+1:g]=f.children[g];for(m[o]=r.id,f.children=m,f.children_d.push(r.id),f.children_d=f.children_d.concat(r.children_d),r.parent=f.id,y=f.parents.concat(),y.unshift(f.id),j=r.parents.length,r.parents=y,y=y.concat(),g=0,v=r.children_d.length;v>g;g++)this._model.data[r.children_d[g]].parents=this._model.data[r.children_d[g]].parents.slice(0,-1*j),Array.prototype.push.apply(this._model.data[r.children_d[g]].parents,y);(u===e.jstree.root||f.id===e.jstree.root)&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(u),this._node_changed(f.id)),s||this.redraw()}return a&&a.call(this,r,f,o),this.trigger("move_node",{node:r,parent:f.id,position:o,old_parent:u,old_position:h,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id,old_instance:p,new_instance:this}),r.id},copy_node:function(r,n,o,a,i,s,l){var c,d,u,h,f,p,_,m,y,g;if(n=this.get_node(n),o=o===t?0:o,!n)return!1;if(!o.toString().match(/^(before|after)$/)&&!i&&!this.is_loaded(n))return this.load_node(n,function(){this.copy_node(r,n,o,a,!0,!1,l)});if(e.isArray(r)){if(1!==r.length){for(c=0,d=r.length;d>c;c++)(h=this.copy_node(r[c],n,o,a,i,!0,l))&&(n=h,o="after");return this.redraw(),!0}r=r[0]}if(!(r=r&&r.id?r:this.get_node(r))||r.id===e.jstree.root)return!1;switch(m=(r.parent||e.jstree.root).toString(),y=o.toString().match(/^(before|after)$/)&&n.id!==e.jstree.root?this.get_node(n.parent):n,g=l||(this._model.data[r.id]?this:e.jstree.reference(r.id)),!g||!g._id||this._id!==g._id,g&&g._id&&(r=g._model.data[r.id]),n.id===e.jstree.root&&("before"===o&&(o="first"),"after"===o&&(o="last")),o){case"before":o=e.inArray(n.id,y.children);break;case"after":o=e.inArray(n.id,y.children)+1;break;case"inside":case"first":o=0;break;case"last":o=y.children.length;break;default:o||(o=0)}if(o>y.children.length&&(o=y.children.length),!this.check("copy_node",r,y,o,{core:!0,origin:l,is_multi:g&&g._id&&g._id!==this._id,is_foreign:!g||!g._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(_=g?g.get_json(r,{no_id:!0,no_data:!0,no_state:!0}):r))return!1;if(!0===_.id&&delete _.id,!(_=this._parse_model_from_json(_,y.id,y.parents.concat())))return!1;for(h=this.get_node(_),r&&r.state&&!1===r.state.loaded&&(h.state.loaded=!1),u=[],u.push(_),u=u.concat(h.children_d),this.trigger("model",{nodes:u,parent:y.id}),f=0,p=y.parents.length;p>f;f++)this._model.data[y.parents[f]].children_d=this._model.data[y.parents[f]].children_d.concat(u);for(u=[],f=0,p=y.children.length;p>f;f++)u[f>=o?f+1:f]=y.children[f];return u[o]=h.id,y.children=u,y.children_d.push(h.id),y.children_d=y.children_d.concat(h.children_d),y.id===e.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(y.id),s||this.redraw(y.id===e.jstree.root),a&&a.call(this,h,y,o),this.trigger("copy_node",{node:h,original:r,parent:y.id,position:o,old_parent:m,old_position:g&&g._id&&m&&g._model.data[m]&&g._model.data[m].children?e.inArray(r.id,g._model.data[m].children):-1,is_multi:g&&g._id&&g._id!==this._id,is_foreign:!g||!g._id,old_instance:g,new_instance:this}),h.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var r,i,s,l=[];for(i=0,s=t.length;s>i;i++)(r=this.get_node(t[i]))&&r.id&&r.id!==e.jstree.root&&l.push(r);return!!l.length&&(n=l,a=this,o="move_node",void this.trigger("cut",{node:t}))},copy:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var r,i,s,l=[];for(i=0,s=t.length;s>i;i++)(r=this.get_node(t[i]))&&r.id&&r.id!==e.jstree.root&&l.push(r);return!!l.length&&(n=l,a=this,o="copy_node",void this.trigger("copy",{node:t}))},get_buffer:function(){return{mode:o,node:n,inst:a}},can_paste:function(){return!1!==o&&!1!==n},paste:function(e,t){return!!((e=this.get_node(e))&&o&&o.match(/^(copy_node|move_node)$/)&&n)&&(this[o](n,e,t,!1,!1,!1,a)&&this.trigger("paste",{parent:e.id,node:n,mode:o}),n=!1,o=!1,void(a=!1))},clear_buffer:function(){n=!1,o=!1,a=!1,this.trigger("clear_buffer")},edit:function(t,r,n){var o,a,i,s,c,d,u,h,f,p=!1;return!!(t=this.get_node(t))&&(this.check("edit",t,this.get_parent(t))?(f=t,r="string"==typeof r?r:t.text,this.set_text(t,""),t=this._open_to(t),f.text=r,o=this._data.core.rtl,a=this.element.width(),this._data.core.focused=f.id,i=t.children(".jstree-anchor").focus(),s=e("<span>"),c=r,d=e("<div />",{css:{position:"absolute",top:"-200px",left:o?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),u=e("<input />",{value:c,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:e.proxy(function(r){r.stopImmediatePropagation(),r.preventDefault();var o,a=s.children(".jstree-rename-input"),l=a.val(),h=this.settings.core.force_text;""===l&&(l=c),d.remove(),s.replaceWith(i),s.remove(),c=h?c:e("<div></div>").append(e.parseHTML(c)).html(),this.set_text(t,c),o=!!this.rename_node(t,h?e("<div></div>").text(l).text():e("<div></div>").append(e.parseHTML(l)).html()),o||this.set_text(t,c),this._data.core.focused=f.id,setTimeout(e.proxy(function(){var e=this.get_node(f.id,!0);e.length&&(this._data.core.focused=f.id,e.children(".jstree-anchor").focus())},this),0),n&&n.call(this,f,o,p),u=null},this),keydown:function(e){var t=e.which;27===t&&(p=!0,this.value=c),(27===t||13===t||37===t||38===t||39===t||40===t||32===t)&&e.stopImmediatePropagation(),(27===t||13===t)&&(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){u.width(Math.min(d.text("pW"+this.value).width(),a))},keypress:function(e){return 13!==e.which&&void 0}}),h={fontFamily:i.css("fontFamily")||"",fontSize:i.css("fontSize")||"",fontWeight:i.css("fontWeight")||"",fontStyle:i.css("fontStyle")||"",fontStretch:i.css("fontStretch")||"",fontVariant:i.css("fontVariant")||"",letterSpacing:i.css("letterSpacing")||"",wordSpacing:i.css("wordSpacing")||""},s.attr("class",i.attr("class")).append(i.contents().clone()).append(u),i.replaceWith(s),d.css(h),u.css(h).width(Math.min(d.text("pW"+u[0].value).width(),a))[0].select(),void e(l).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(t){u&&t.target!==u&&e(u).blur()})):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(t,r){if(!t)return!1;if(!0===r){var n=this.settings.core.themes.dir;n||(n=e.jstree.path+"/themes"),r=n+"/"+t+"/style.css"}r&&-1===e.inArray(r,i)&&(e("head").append('<link rel="stylesheet" href="'+r+'" type="text/css" />'),i.push(r)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(r,n){var o,a,i,s;if(e.isArray(r)){for(r=r.slice(),o=0,a=r.length;a>o;o++)this.set_icon(r[o],n);return!0}return!(!(r=this.get_node(r))||r.id===e.jstree.root)&&(s=r.icon,r.icon=!0===n||null===n||n===t||""===n||n,i=this.get_node(r,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===n?this.hide_icon(r):!0===n||null===n||n===t||""===n?(i.removeClass("jstree-themeicon-custom "+s).css("background","").removeAttr("rel"),!1===s&&this.show_icon(r)):-1===n.indexOf("/")&&-1===n.indexOf(".")?(i.removeClass(s).css("background",""),i.addClass(n+" jstree-themeicon-custom").attr("rel",n),!1===s&&this.show_icon(r)):(i.removeClass(s).css("background",""),i.addClass("jstree-themeicon-custom").css("background","url('"+n+"') center center no-repeat").attr("rel",n),!1===s&&this.show_icon(r)),!0)},get_icon:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.icon},hide_icon:function(t){var r,n;if(e.isArray(t)){for(t=t.slice(),r=0,n=t.length;n>r;r++)this.hide_icon(t[r]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root)&&(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(t){var r,n,o;if(e.isArray(t)){for(t=t.slice(),r=0,n=t.length;n>r;r++)this.show_icon(t[r]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root)&&(o=this.get_node(t,!0),t.icon=!o.length||o.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),t.icon||(t.icon=!0),o.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},e.vakata={},e.vakata.attributes=function(t,r){t=e(t)[0];var n=r?{}:[];return t&&t.attributes&&e.each(t.attributes,function(t,o){-1===e.inArray(o.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==o.value&&""!==e.trim(o.value)&&(r?n[o.name]=o.value:n.push(o.name))}),n},e.vakata.array_unique=function(e){var r,n,o=[],a={};for(r=0,n=e.length;n>r;r++)a[e[r]]===t&&(o.push(e[r]),a[e[r]]=!0);return o},e.vakata.array_remove=function(e,t){return e.splice(t,1),e},e.vakata.array_remove_item=function(t,r){var n=e.inArray(r,t);return-1!==n?e.vakata.array_remove(t,n):t},e.vakata.array_filter=function(e,t,r,n,o){if(e.filter)return e.filter(t,r);n=[];for(o in e)~~o+""==o+""&&o>=0&&t.call(r,e[o],+o,e)&&n.push(e[o]);return n},e.jstree.plugins.changed=function(e,t){var r=[];this.trigger=function(e,n){var o,a;if(n||(n={}),"changed"===e.replace(".jstree","")){n.changed={selected:[],deselected:[]};var i={};for(o=0,a=r.length;a>o;o++)i[r[o]]=1;for(o=0,a=n.selected.length;a>o;o++)i[n.selected[o]]?i[n.selected[o]]=2:n.changed.selected.push(n.selected[o]);for(o=0,a=r.length;a>o;o++)1===i[r[o]]&&n.changed.deselected.push(r[o]);r=n.selected.slice()}t.trigger.call(this,e,n)},this.refresh=function(e,n){return r=[],t.refresh.apply(this,arguments)}};var c=l.createElement("I");c.className="jstree-icon jstree-checkbox",c.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},e.jstree.plugins.checkbox=function(r,n){this.bind=function(){n.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",e.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",e.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",e.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",e.proxy(function(e,t){var r,n,o=this._model.data,a=(o[t.parent],t.nodes);for(r=0,n=a.length;n>r;r++)o[a[r]].state.checked=o[a[r]].state.checked||o[a[r]].original&&o[a[r]].original.state&&o[a[r]].original.state.checked,o[a[r]].state.checked&&this._data.checkbox.selected.push(a[r])},this)),(-1!==this.settings.checkbox.cascade.indexOf("up")||-1!==this.settings.checkbox.cascade.indexOf("down"))&&this.element.on("model.jstree",e.proxy(function(t,r){var n,o,a,i,s,l,c=this._model.data,d=c[r.parent],u=r.nodes,h=[],f=this.settings.checkbox.cascade,p=this.settings.checkbox.tie_selection;if(-1!==f.indexOf("down"))if(d.state[p?"selected":"checked"]){for(o=0,a=u.length;a>o;o++)c[u[o]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(u)}else for(o=0,a=u.length;a>o;o++)if(c[u[o]].state[p?"selected":"checked"]){for(i=0,s=c[u[o]].children_d.length;s>i;i++)c[c[u[o]].children_d[i]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(c[u[o]].children_d)}if(-1!==f.indexOf("up")){for(o=0,a=d.children_d.length;a>o;o++)c[d.children_d[o]].children.length||h.push(c[d.children_d[o]].parent);for(h=e.vakata.array_unique(h),i=0,s=h.length;s>i;i++)for(d=c[h[i]];d&&d.id!==e.jstree.root;){for(n=0,o=0,a=d.children.length;a>o;o++)n+=c[d.children[o]].state[p?"selected":"checked"];if(n!==a)break;d.state[p?"selected":"checked"]=!0,this._data[p?"core":"checkbox"].selected.push(d.id),l=this.get_node(d,!0),l&&l.length&&l.attr("aria-selected",!0).children(".jstree-anchor").addClass(p?"jstree-clicked":"jstree-checked"),d=this.get_node(d.parent)}}this._data[p?"core":"checkbox"].selected=e.vakata.array_unique(this._data[p?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",e.proxy(function(t,r){var n,o,a,i,s=r.node,l=this._model.data,c=this.get_node(s.parent),d=this.settings.checkbox.cascade,u=this.settings.checkbox.tie_selection,h={},f=this._data[u?"core":"checkbox"].selected;for(n=0,o=f.length;o>n;n++)h[f[n]]=!0;if(-1!==d.indexOf("down")){var p=this._cascade_new_checked_state(s.id,!0);s.children_d.concat(s.id).forEach(function(e){p.indexOf(e)>-1?h[e]=!0:delete h[e]})}if(-1!==d.indexOf("up"))for(;c&&c.id!==e.jstree.root;){for(a=0,n=0,o=c.children.length;o>n;n++)a+=l[c.children[n]].state[u?"selected":"checked"];if(a!==o)break;c.state[u?"selected":"checked"]=!0,h[c.id]=!0,i=this.get_node(c,!0),i&&i.length&&i.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}f=[];for(n in h)h.hasOwnProperty(n)&&f.push(n);this._data[u?"core":"checkbox"].selected=f},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",e.proxy(function(t,r){var n,o,a,i=this.get_node(e.jstree.root),s=this._model.data;for(n=0,o=i.children_d.length;o>n;n++)(a=s[i.children_d[n]])&&a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",e.proxy(function(e,t){var r,n,o,a=t.node,i=(this.get_node(a,!0),this.settings.checkbox.cascade),s=this.settings.checkbox.tie_selection,l=this._data[s?"core":"checkbox"].selected,c=a.children_d.concat(a.id);if(-1!==i.indexOf("down")){var d=this._cascade_new_checked_state(a.id,!1);l=l.filter(function(e){return-1===c.indexOf(e)||d.indexOf(e)>-1})}if(-1!==i.indexOf("up")&&-1===l.indexOf(a.id)){for(r=0,n=a.parents.length;n>r;r++)o=this._model.data[a.parents[r]],o.state[s?"selected":"checked"]=!1,o&&o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=!1),(o=this.get_node(a.parents[r],!0))&&o.length&&o.attr("aria-selected",!1).children(".jstree-anchor").removeClass(s?"jstree-clicked":"jstree-checked");l=l.filter(function(e){return-1===a.parents.indexOf(e)})}this._data[s?"core":"checkbox"].selected=l},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",e.proxy(function(t,r){for(var n,o,a,i,s=this.get_node(r.parent),l=this._model.data,c=this.settings.checkbox.tie_selection;s&&s.id!==e.jstree.root&&!s.state[c?"selected":"checked"];){for(a=0,n=0,o=s.children.length;o>n;n++)a+=l[s.children[n]].state[c?"selected":"checked"];if(!(o>0&&a===o))break;s.state[c?"selected":"checked"]=!0,this._data[c?"core":"checkbox"].selected.push(s.id),i=this.get_node(s,!0),i&&i.length&&i.attr("aria-selected",!0).children(".jstree-anchor").addClass(c?"jstree-clicked":"jstree-checked"),s=this.get_node(s.parent)}},this)).on("move_node.jstree",e.proxy(function(t,r){var n,o,a,i,s,l=r.is_multi,c=r.old_parent,d=this.get_node(r.parent),u=this._model.data,h=this.settings.checkbox.tie_selection;if(!l)for(n=this.get_node(c);n&&n.id!==e.jstree.root&&!n.state[h?"selected":"checked"];){for(o=0,a=0,i=n.children.length;i>a;a++)o+=u[n.children[a]].state[h?"selected":"checked"];if(!(i>0&&o===i))break;n.state[h?"selected":"checked"]=!0,this._data[h?"core":"checkbox"].selected.push(n.id),s=this.get_node(n,!0),s&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"),n=this.get_node(n.parent)}for(n=d;n&&n.id!==e.jstree.root;){for(o=0,a=0,i=n.children.length;i>a;a++)o+=u[n.children[a]].state[h?"selected":"checked"];if(o===i)n.state[h?"selected":"checked"]||(n.state[h?"selected":"checked"]=!0,this._data[h?"core":"checkbox"].selected.push(n.id),(s=this.get_node(n,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"));else{if(!n.state[h?"selected":"checked"])break;n.state[h?"selected":"checked"]=!1,this._data[h?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[h?"core":"checkbox"].selected,n.id),(s=this.get_node(n,!0))&&s.length&&s.attr("aria-selected",!1).children(".jstree-anchor").removeClass(h?"jstree-clicked":"jstree-checked")}n=this.get_node(n.parent)}},this))},this._undetermined=function(){if(null!==this.element){var r,n,o,a,i={},s=this._model.data,l=this.settings.checkbox.tie_selection,c=this._data[l?"core":"checkbox"].selected,d=[],u=this;for(r=0,n=c.length;n>r;r++)if(s[c[r]]&&s[c[r]].parents)for(o=0,a=s[c[r]].parents.length;a>o&&i[s[c[r]].parents[o]]===t;o++)s[c[r]].parents[o]!==e.jstree.root&&(i[s[c[r]].parents[o]]=!0,d.push(s[c[r]].parents[o]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var l,c=u.get_node(this);if(c)if(c.state.loaded){for(r=0,n=c.children_d.length;n>r;r++)if(l=s[c.children_d[r]],!l.state.loaded&&l.original&&l.original.state&&l.original.state.undetermined&&!0===l.original.state.undetermined)for(i[l.id]===t&&l.id!==e.jstree.root&&(i[l.id]=!0,d.push(l.id)),o=0,a=l.parents.length;a>o;o++)i[l.parents[o]]===t&&l.parents[o]!==e.jstree.root&&(i[l.parents[o]]=!0,d.push(l.parents[o]))}else if(c.original&&c.original.state&&c.original.state.undetermined&&!0===c.original.state.undetermined)for(i[c.id]===t&&c.id!==e.jstree.root&&(i[c.id]=!0,d.push(c.id)),o=0,a=c.parents.length;a>o;o++)i[c.parents[o]]===t&&c.parents[o]!==e.jstree.root&&(i[c.parents[o]]=!0,d.push(c.parents[o]))}),this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),r=0,n=d.length;n>r;r++)s[d[r]].state[l?"selected":"checked"]||(c=this.get_node(d[r],!0))&&c.length&&c.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(t,r,o,a){if(t=n.redraw_node.apply(this,arguments)){var i,s,l=null,d=null;for(i=0,s=t.childNodes.length;s>i;i++)if(t.childNodes[i]&&t.childNodes[i].className&&-1!==t.childNodes[i].className.indexOf("jstree-anchor")){l=t.childNodes[i];break}l&&(!this.settings.checkbox.tie_selection&&this._model.data[t.id].state.checked&&(l.className+=" jstree-checked"),d=c.cloneNode(!1),this._model.data[t.id].state.checkbox_disabled&&(d.className+=" jstree-checkbox-disabled"),l.insertBefore(d,l.childNodes[0]))}return o||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)),t},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(t){t=this.get_node(t);var r,n,o=this.settings.checkbox.cascade,a=this.settings.checkbox.tie_selection,i=this._data[a?"core":"checkbox"].selected,s=this._model.data;if(!t||!0===t.state[a?"selected":"checked"]||-1===o.indexOf("undetermined")||-1===o.indexOf("down")&&-1===o.indexOf("up"))return!1;if(!t.state.loaded&&!0===t.original.state.undetermined)return!0;for(r=0,n=t.children_d.length;n>r;r++)if(-1!==e.inArray(t.children_d[r],i)||!s[t.children_d[r]].state.loaded&&s[t.children_d[r]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(t){var r,n,o;if(e.isArray(t)){for(t=t.slice(),r=0,n=t.length;n>r;r++)this.disable_checkbox(t[r]);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(o=this.get_node(t,!0),void(t.state.checkbox_disabled||(t.state.checkbox_disabled=!0,o&&o.length&&o.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:t}))))},this.enable_checkbox=function(t){var r,n,o;if(e.isArray(t)){for(t=t.slice(),r=0,n=t.length;n>r;r++)this.enable_checkbox(t[r]);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(o=this.get_node(t,!0),void(t.state.checkbox_disabled&&(t.state.checkbox_disabled=!1,o&&o.length&&o.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:t}))))},this.activate_node=function(t,r){return!e(r.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(r.target).hasClass("jstree-checkbox"))&&(r.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(r.target).hasClass("jstree-checkbox")?n.activate_node.call(this,t,r):!this.is_disabled(t)&&(this.is_checked(t)?this.uncheck_node(t,r):this.check_node(t,r),void this.trigger("activate_node",{node:this.get_node(t)})))},this._cascade_new_checked_state=function(e,t){var r=this,n=this.settings.checkbox.tie_selection,o=this._model.data[e],a=[],i=[];if(!this.settings.checkbox.cascade_to_disabled&&o.state.disabled||!this.settings.checkbox.cascade_to_hidden&&o.state.hidden){var s=this.get_checked_descendants(e);o.state[n?"selected":"checked"]&&s.push(o.id),a=a.concat(s)}else{o.children&&o.children.forEach(function(e){var n=r._cascade_new_checked_state(e,t);a=a.concat(n),n.indexOf(e)>-1&&i.push(e)});var l=r.get_node(o,!0),c=i.length>0&&i.length<o.children.length;o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=c),c?(o.state[n?"selected":"checked"]=!1,l.attr("aria-selected",!1).children(".jstree-anchor").removeClass(n?"jstree-clicked":"jstree-checked")):t&&i.length===o.children.length?(o.state[n?"selected":"checked"]=t,a.push(o.id),l.attr("aria-selected",!0).children(".jstree-anchor").addClass(n?"jstree-clicked":"jstree-checked")):(o.state[n?"selected":"checked"]=!1,l.attr("aria-selected",!1).children(".jstree-anchor").removeClass(n?"jstree-clicked":"jstree-checked"))}return a},this.get_checked_descendants=function(e){var t=this,r=t.settings.checkbox.tie_selection;return t._model.data[e].children_d.filter(function(e){return t._model.data[e].state[r?"selected":"checked"]})},this.check_node=function(t,r){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,r);var n,o,a;if(e.isArray(t)){for(t=t.slice(),o=0,a=t.length;a>o;o++)this.check_node(t[o],r);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(n=this.get_node(t,!0),void(t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),n&&n.length&&n.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:r}))))},this.uncheck_node=function(t,r){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,r);var n,o,a;if(e.isArray(t)){for(t=t.slice(),n=0,o=t.length;o>n;n++)this.uncheck_node(t[n],r);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(a=this.get_node(t,!0),void(t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,t.id),a.length&&a.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:r}))))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var t,r;this._data.checkbox.selected.concat([]);for(this._data.checkbox.selected=this._model.data[e.jstree.root].children_d.concat(),t=0,r=this._data.checkbox.selected.length;r>t;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,r=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;t>e;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:r})},this.is_checked=function(t){return this.settings.checkbox.tie_selection?this.is_selected(t):!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.checked},this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?e.map(this._data.checkbox.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.checkbox.selected},this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);var r,n,o,a,i=this.get_checked(!0),s={};for(r=0,n=i.length;n>r;r++)s[i[r].id]=i[r];for(r=0,n=i.length;n>r;r++)for(o=0,a=i[r].children_d.length;a>o;o++)s[i[r].children_d[o]]&&delete s[i[r].children_d[o]];i=[];for(r in s)s.hasOwnProperty(r)&&i.push(r);return t?e.map(i,e.proxy(function(e){return this.get_node(e)},this)):i},this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);var r,n,o=this.get_checked(!0),a=[];for(r=0,n=o.length;n>r;r++)o[r].children.length||a.push(o[r].id);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},this.load_node=function(t,r){var o,a,i;if(!e.isArray(t)&&!this.settings.checkbox.tie_selection&&(i=this.get_node(t))&&i.state.loaded)for(o=0,a=i.children_d.length;a>o;o++)this._model.data[i.children_d[o]].state.checked&&(!0,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,i.children_d[o]));return n.load_node.apply(this,arguments)},this.get_state=function(){var e=n.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?e:(e.checkbox=this._data.checkbox.selected.slice(),e)},this.set_state=function(t,r){var o=n.set_state.apply(this,arguments);if(o&&t.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var a=this;e.each(t.checkbox,function(e,t){a.check_node(t)})}return delete t.checkbox,this.set_state(t,r),!1}return o},this.refresh=function(e,t){return this.settings.checkbox.tie_selection||(this._data.checkbox.selected=[]),n.refresh.apply(this,arguments)}},e.jstree.defaults.conditionalselect=function(){return!0},e.jstree.plugins.conditionalselect=function(e,t){this.activate_node=function(e,r){this.settings.conditionalselect.call(this,this.get_node(e),r)&&t.activate_node.call(this,e,r)}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,r){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var r=e.jstree.reference(t.reference),n=r.get_node(t.reference);r.create_node(n,{},"last",function(e){try{r.edit(e)}catch(t){setTimeout(function(){r.edit(e)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(t){var r=e.jstree.reference(t.reference),n=r.get_node(t.reference);r.edit(n)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var r=e.jstree.reference(t.reference),n=r.get_node(t.reference);r.is_selected(n)?r.delete_node(r.get_selected()):r.delete_node(n)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var r=e.jstree.reference(t.reference),n=r.get_node(t.reference);r.is_selected(n)?r.cut(r.get_top_selected()):r.cut(n)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var r=e.jstree.reference(t.reference),n=r.get_node(t.reference);r.is_selected(n)?r.copy(r.get_top_selected()):r.copy(n)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var r=e.jstree.reference(t.reference),n=r.get_node(t.reference);r.paste(n)}}}}}}},e.jstree.plugins.contextmenu=function(r,n){this.bind=function(){n.bind.call(this);var t,r,o=0,a=null;this.element.on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-contextmenu")},this)).on("contextmenu.jstree",".jstree-anchor",e.proxy(function(e,t){"input"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),o=e.ctrlKey?+new Date:0,(t||a)&&(o=+new Date+1e4),a&&clearTimeout(a),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e))},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){this._data.contextmenu.visible&&(!o||+new Date-o>250)&&e.vakata.context.hide(),o=0},this)).on("touchstart.jstree",".jstree-anchor",function(n){n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(t=n.originalEvent.changedTouches[0].clientX,r=n.originalEvent.changedTouches[0].clientY,a=setTimeout(function(){e(n.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(e){a&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(Math.abs(t-e.originalEvent.changedTouches[0].clientX)>50||Math.abs(r-e.originalEvent.changedTouches[0].clientY)>50)&&clearTimeout(a)}).on("touchend.vakata.jstree",function(e){a&&clearTimeout(a)}),e(l).on("context_hide.vakata.jstree",e.proxy(function(t,r){this._data.contextmenu.visible=!1,e(r.reference).removeClass("jstree-context")},this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),n.teardown.call(this)},this.show_contextmenu=function(r,n,o,a){if(!(r=this.get_node(r))||r.id===e.jstree.root)return!1;var i=this.settings.contextmenu,s=this.get_node(r,!0),l=s.children(".jstree-anchor"),c=!1,d=!1;(i.show_at_node||n===t||o===t)&&(c=l.offset(),n=c.left,o=c.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(r)&&this.activate_node(r,a),d=i.items,e.isFunction(d)&&(d=d.call(this,r,e.proxy(function(e){this._show_contextmenu(r,n,o,e)},this))),e.isPlainObject(d)&&this._show_contextmenu(r,n,o,d)},this._show_contextmenu=function(t,r,n,o){var a=this.get_node(t,!0),i=a.children(".jstree-anchor");e(l).one("context_show.vakata.jstree",e.proxy(function(t,r){var n="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(r.element).addClass(n),i.addClass("jstree-context")},this)),this._data.contextmenu.visible=!0,e.vakata.context.show(i,{x:r,y:n},o),this.trigger("show_contextmenu",{node:t,x:r,y:n})}},function(e){var t=!1,r={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(l).triggerHandler("context_"+t+".vakata",{reference:r.reference,element:r.element,position:{x:r.position_x,y:r.position_y}})},_execute:function(t){return!(!(t=r.items[t])||t._disabled&&(!e.isFunction(t._disabled)||t._disabled({item:t,reference:r.reference,element:r.element}))||!t.action)&&t.action.call(null,{item:t,reference:r.reference,element:r.element,position:{x:r.position_x,y:r.position_y}})},_parse:function(t,n){if(!t)return!1;n||(r.html="",r.items=[]);var o,a="",i=!1;return n&&(a+="<ul>"),e.each(t,function(t,n){return!n||(r.items.push(n),!i&&n.separator_before&&(a+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),i=!1,a+="<li class='"+(n._class||"")+(!0===n._disabled||e.isFunction(n._disabled)&&n._disabled({item:n,reference:r.reference,element:r.element})?" vakata-contextmenu-disabled ":"")+"' "+(n.shortcut?" data-shortcut='"+n.shortcut+"' ":"")+">",a+="<a href='#' rel='"+(r.items.length-1)+"' "+(n.title?"title='"+n.title+"'":"")+">",e.vakata.context.settings.icons&&(a+="<i ",n.icon&&(a+=-1!==n.icon.indexOf("/")||-1!==n.icon.indexOf(".")?" style='background:url(\""+n.icon+"\") center center no-repeat' ":" class='"+n.icon+"' "),a+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),a+=(e.isFunction(n.label)?n.label({item:t,reference:r.reference,element:r.element}):n.label)+(n.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+n.shortcut+'">'+(n.shortcut_label||"")+"</span>":"")+"</a>",n.submenu&&(o=e.vakata.context._parse(n.submenu,!0))&&(a+=o),a+="</li>",void(n.separator_after&&(a+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",i=!0)))}),a=a.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),n&&(a+="</ul>"),n||(r.html=a,e.vakata.context._trigger("parse")),a.length>10&&a},_show_submenu:function(r){if(r=e(r),r.length&&r.children("ul").length){var n=r.children("ul"),o=r.offset().left,a=o+r.outerWidth(),i=r.offset().top,s=n.width(),l=n.height(),c=e(window).width()+e(window).scrollLeft(),d=e(window).height()+e(window).scrollTop();t?r[a-(s+10+r.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):r[a+s>c&&o>c-a?"addClass":"removeClass"]("vakata-context-right"),i+l+10>d&&n.css("bottom","-1px"),r.hasClass("vakata-context-right")?s>o&&n.css("margin-right",o-s):s>c-a&&n.css("margin-left",c-a-s),n.show()}},show:function(n,o,a){var i,s,l,c,d,u,h,f;switch(r.element&&r.element.length&&r.element.width(""),!0){case!o&&!n:return!1;case!!o&&!!n:r.reference=n,r.position_x=o.x,r.position_y=o.y;break;case!o&&!!n:r.reference=n,i=n.offset(),r.position_x=i.left+n.outerHeight(),r.position_y=i.top;break;case!!o&&!n:r.position_x=o.x,r.position_y=o.y}n&&!a&&e(n).data("vakata_contextmenu")&&(a=e(n).data("vakata_contextmenu")),e.vakata.context._parse(a)&&r.element.html(r.html),r.items.length&&(r.element.appendTo("body"),s=r.element,l=r.position_x,c=r.position_y,d=s.width(),u=s.height(),h=e(window).width()+e(window).scrollLeft(),f=e(window).height()+e(window).scrollTop(),t&&(l-=s.outerWidth()-e(n).outerWidth())<e(window).scrollLeft()+20&&(l=e(window).scrollLeft()+20),l+d+20>h&&(l=h-(d+20)),c+u+20>f&&(c=f-(u+20)),r.element.css({left:l,top:c}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),r.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){r.is_visible&&(r.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),r.is_visible=!1,e.vakata.context._trigger("hide"))}},e(function(){t="rtl"===e("body").css("direction");var n=!1;r.element=e("<ul class='vakata-context'></ul>"),r.element.on("mouseenter","li",function(t){t.stopImmediatePropagation(),e.contains(this,t.relatedTarget)||(n&&clearTimeout(n),r.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))}).on("mouseleave","li",function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(n=setTimeout(function(t){return function(){e.vakata.context.hide()}}(),e.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(t){t.preventDefault(),e(this).blur().parent().hasClass("vakata-context-disabled")||!1===e.vakata.context._execute(e(this).attr("rel"))||e.vakata.context.hide()}).on("keydown","a",function(t){var n=null;switch(t.which){case 13:case 32:t.type="click",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:r.is_visible&&(r.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 38:r.is_visible&&(n=r.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),n.length||(n=r.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),n.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 39:r.is_visible&&(r.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 40:r.is_visible&&(n=r.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),n.length||(n=r.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),n.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault()}}).on("keydown",function(e){e.preventDefault();var t=r.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.click()}),e(l).on("mousedown.vakata.jstree",function(t){r.is_visible&&r.element[0]!==t.target&&!e.contains(r.element[0],t.target)&&e.vakata.context.hide()}).on("context_show.vakata.jstree",function(e,n){r.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),t&&r.element.addClass("vakata-context-rtl").css("direction","rtl"),r.element.find("ul").hide().end()})})}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1};var d,u;e.jstree.plugins.dnd=function(t,r){this.init=function(e,t){r.init.call(this,e,t),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in l.createElement("span")},this.bind=function(){r.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",e.proxy(function(t){if(this.settings.dnd.large_drag_target&&e(t.target).closest(".jstree-node")[0]!==t.currentTarget)return!0;if("touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var r=this.get_node(t.target),n=this.is_selected(r)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,o=n>1?n+" "+this.get_string("nodes"):this.get_text(t.currentTarget);if(this.settings.core.force_text&&(o=e.vakata.html.escape(o)),r&&r.id&&r.id!==e.jstree.root&&(1===t.which||"touchstart"===t.type||"dragstart"===t.type)&&(!0===this.settings.dnd.is_draggable||e.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,n>1?this.get_top_selected(!0):[r],t))){if(d={jstree:!0,origin:this,obj:this.get_node(r,!0),nodes:n>1?this.get_top_selected():[r.id]},u=t.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(t,d,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+o+'<ins class="jstree-copy" style="display:none;">+</ins></div>');e.vakata.dnd._trigger("start",t,{helper:e(),element:u,data:d})}},this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(t){return t.preventDefault(),e.vakata.dnd._trigger("move",t,{helper:e(),element:u,data:d}),!1}).on("drop.jstree",e.proxy(function(t){return t.preventDefault(),e.vakata.dnd._trigger("stop",t,{helper:e(),element:u,data:d}),!1},this))},this.redraw_node=function(e,t,n,o){if((e=r.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)e.setAttribute("draggable",!0);else{var a,i,s=null;for(a=0,i=e.childNodes.length;i>a;a++)if(e.childNodes[a]&&e.childNodes[a].className&&-1!==e.childNodes[a].className.indexOf("jstree-anchor")){s=e.childNodes[a];break}s&&s.setAttribute("draggable",!0)}return e}},e(function(){var r=!1,n=!1,o=!1,a=!1,i=e('<div id="jstree-marker">&#160;</div>').hide();e(l).on("dnd_start.vakata.jstree",function(e,t){r=!1,o=!1,t&&t.data&&t.data.jstree&&i.appendTo("body")}).on("dnd_move.vakata.jstree",function(s,l){var c=l.event.target!==o.target;if(a&&(!l.event||"dragover"!==l.event.type||c)&&clearTimeout(a),l&&l.data&&l.data.jstree&&(!l.event.target.id||"jstree-marker"!==l.event.target.id)){o=l.event;var d,u,h,f,p,_,m,y,g,v,b,w,j,k,S,O,x=e.jstree.reference(l.event.target),P=!1,C=!1,E=!1;if(x&&x._data&&x._data.dnd)if(i.attr("class","jstree-"+x.get_theme()+(x.settings.core.themes.responsive?" jstree-dnd-responsive":"")),S=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey)),l.helper.children().attr("class","jstree-"+x.get_theme()+" jstree-"+x.get_theme()+"-"+x.get_theme_variant()+" "+(x.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[S?"show":"hide"](),l.event.target!==x.element[0]&&l.event.target!==x.get_container_ul()[0]||0!==x.get_container_ul().children().length){if((P=x.settings.dnd.large_drop_target?e(l.event.target).closest(".jstree-node").children(".jstree-anchor"):e(l.event.target).closest(".jstree-anchor"))&&P.length&&P.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(C=P.offset(),E=(l.event.pageY!==t?l.event.pageY:l.event.originalEvent.pageY)-C.top,h=P.outerHeight(),_=h/3>E?["b","i","a"]:E>h-h/3?["a","i","b"]:E>h/2?["i","a","b"]:["i","b","a"],e.each(_,function(t,o){switch(o){case"b":d=C.left-6,u=C.top,f=x.get_parent(P),p=P.parent().index();break;case"i":j=x.settings.dnd.inside_pos,k=x.get_node(P.parent()),d=C.left-2,u=C.top+h/2+1,f=k.id,p="first"===j?0:"last"===j?k.children.length:Math.min(j,k.children.length);break;case"a":d=C.left-6,u=C.top+h,f=x.get_parent(P),p=P.parent().index()+1}for(m=!0,y=0,g=l.data.nodes.length;g>y;y++)if(v=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",b=p,"move_node"===v&&"a"===o&&l.data.origin&&l.data.origin===x&&f===x.get_parent(l.data.nodes[y])&&(w=x.get_node(f),b>e.inArray(l.data.nodes[y],w.children)&&(b-=1)),!(m=m&&(x&&x.settings&&x.settings.dnd&&!1===x.settings.dnd.check_while_dragging||x.check(v,l.data.origin&&l.data.origin!==x?l.data.origin.get_node(l.data.nodes[y]):l.data.nodes[y],f,b,{dnd:!0,ref:x.get_node(P.parent()),pos:o,origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==x,is_foreign:!l.data.origin})))){x&&x.last_error&&(n=x.last_error());break}return"i"===o&&P.parent().is(".jstree-closed")&&x.settings.dnd.open_timeout&&(!l.event||"dragover"!==l.event.type||c)&&(a&&clearTimeout(a),a=setTimeout(function(e,t){return function(){e.open_node(t)}}(x,P),x.settings.dnd.open_timeout)),m?(O=x.get_node(f,!0),O.hasClass(".jstree-dnd-parent")||(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),O.addClass("jstree-dnd-parent")),r={ins:x,par:f,pos:"i"!==o||"last"!==j||0!==p||x.is_loaded(k)?p:"last"},i.css({left:d+"px",top:u+"px"}).show(),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=S?"copy":"move"),n={},_=!0,!1):void 0}),!0===_))return}else{for(m=!0,y=0,g=l.data.nodes.length;g>y&&(m=m&&x.check(l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",l.data.origin&&l.data.origin!==x?l.data.origin.get_node(l.data.nodes[y]):l.data.nodes[y],e.jstree.root,"last",{dnd:!0,ref:x.get_node(e.jstree.root),pos:"i",origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==x,is_foreign:!l.data.origin}));y++);if(m)return r={ins:x,par:e.jstree.root,pos:"last"},i.hide(),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=S?"copy":"move"))}e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),r=!1,l.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect="none"),i.hide()}}).on("dnd_scroll.vakata.jstree",function(e,t){t&&t.data&&t.data.jstree&&(i.hide(),r=!1,o=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(t,s){if(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),a&&clearTimeout(a),s&&s.data&&s.data.jstree){i.hide().detach();var l,c,d=[];if(r){for(l=0,c=s.data.nodes.length;c>l;l++)d[l]=s.data.origin?s.data.origin.get_node(s.data.nodes[l]):s.data.nodes[l];r.ins[s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(s.event.metaKey||s.event.ctrlKey))?"copy_node":"move_node"](d,r.par,r.pos,!1,!1,!1,s.data.origin)}else l=e(s.event.target).closest(".jstree"),l.length&&n&&n.error&&"check"===n.error&&(l=l.jstree(!0))&&l.settings.core.error.call(this,n);o=!1,r=!1}}).on("keyup.jstree keydown.jstree",function(t,s){(s=e.vakata.dnd._get())&&s.data&&s.data.jstree&&("keyup"===t.type&&27===t.which?(a&&clearTimeout(a),r=!1,n=!1,o=!1,a=!1,i.hide().detach(),e.vakata.dnd._clean()):(s.helper.find(".jstree-copy").first()[s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"](),o&&(o.metaKey=t.metaKey,o.ctrlKey=t.ctrlKey,e.vakata.dnd._trigger("move",o))))})}),function(e){e.vakata.html={div:e("<div />"),escape:function(t){return e.vakata.html.div.text(t).html()},strip:function(t){return e.vakata.html.div.empty().append(e.parseHTML(t)).text()}};var r={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:50},_trigger:function(r,n,o){o===t&&(o=e.vakata.dnd._get()),o.event=n,e(l).triggerHandler("dnd_"+r+".vakata",o)},_get:function(){return{data:r.data,element:r.element,helper:r.helper}},_clean:function(){r.helper&&r.helper.remove(),r.scroll_i&&(clearInterval(r.scroll_i),r.scroll_i=!1),r={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},e(l).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(t){if(!r.scroll_e||!r.scroll_l&&!r.scroll_t)return r.scroll_i&&(clearInterval(r.scroll_i),r.scroll_i=!1),!1;if(!r.scroll_i)return r.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(!0===t)return!1;var n=r.scroll_e.scrollTop(),o=r.scroll_e.scrollLeft();r.scroll_e.scrollTop(n+r.scroll_t*e.vakata.dnd.settings.scroll_speed),r.scroll_e.scrollLeft(o+r.scroll_l*e.vakata.dnd.settings.scroll_speed),(n!==r.scroll_e.scrollTop()||o!==r.scroll_e.scrollLeft())&&e.vakata.dnd._trigger("scroll",r.scroll_e)},start:function(t,n,o){"touchstart"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),r.is_drag&&e.vakata.dnd.stop({});try{t.currentTarget.unselectable="on",t.currentTarget.onselectstart=function(){return!1},t.currentTarget.style&&(t.currentTarget.style.touchAction="none",t.currentTarget.style.msTouchAction="none",t.currentTarget.style.MozUserSelect="none")}catch(e){}return r.init_x=t.pageX,r.init_y=t.pageY,r.data=n,r.is_down=!0,r.element=t.currentTarget,r.target=t.target,r.is_touch="touchstart"===t.type,!1!==o&&(r.helper=e("<div id='vakata-dnd'></div>").html(o).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(l).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(t){if("touchmove"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),r.is_down){if(!r.is_drag){if(!(Math.abs(t.pageX-r.init_x)>(r.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(t.pageY-r.init_y)>(r.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)))return;r.helper&&(r.helper.appendTo("body"),r.helper_w=r.helper.outerWidth()),r.is_drag=!0,e(r.target).one("click.vakata",!1),e.vakata.dnd._trigger("start",t)}var n=!1,o=!1,a=!1,i=!1,s=!1,c=!1,d=!1,u=!1,h=!1,f=!1;return r.scroll_t=0,r.scroll_l=0,r.scroll_e=!1,e(e(t.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var n=e(this),o=n.offset();return this.scrollHeight>this.offsetHeight&&(o.top+n.height()-t.pageY<e.vakata.dnd.settings.scroll_proximity&&(r.scroll_t=1),t.pageY-o.top<e.vakata.dnd.settings.scroll_proximity&&(r.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(o.left+n.width()-t.pageX<e.vakata.dnd.settings.scroll_proximity&&(r.scroll_l=1),t.pageX-o.left<e.vakata.dnd.settings.scroll_proximity&&(r.scroll_l=-1)),r.scroll_t||r.scroll_l?(r.scroll_e=e(this),!1):void 0}),r.scroll_e||(n=e(l),o=e(window),a=n.height(),i=o.height(),s=n.width(),c=o.width(),d=n.scrollTop(),u=n.scrollLeft(),a>i&&t.pageY-d<e.vakata.dnd.settings.scroll_proximity&&(r.scroll_t=-1),a>i&&i-(t.pageY-d)<e.vakata.dnd.settings.scroll_proximity&&(r.scroll_t=1),s>c&&t.pageX-u<e.vakata.dnd.settings.scroll_proximity&&(r.scroll_l=-1),s>c&&c-(t.pageX-u)<e.vakata.dnd.settings.scroll_proximity&&(r.scroll_l=1),(r.scroll_t||r.scroll_l)&&(r.scroll_e=n)),r.scroll_e&&e.vakata.dnd._scroll(!0),r.helper&&(h=parseInt(t.pageY+e.vakata.dnd.settings.helper_top,10),f=parseInt(t.pageX+e.vakata.dnd.settings.helper_left,10),a&&h+25>a&&(h=a-50),s&&f+r.helper_w>s&&(f=s-(r.helper_w+2)),r.helper.css({left:f+"px",top:h+"px"})),e.vakata.dnd._trigger("move",t),!1}},stop:function(t){if("touchend"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),r.is_drag)t.target!==r.target&&e(r.target).off("click.vakata"),e.vakata.dnd._trigger("stop",t);else if("touchend"===t.type&&t.target===r.target){var n=setTimeout(function(){e(t.target).click()},100);e(t.target).one("click",function(){n&&clearTimeout(n)})}return e.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(t,r){this.init=function(e,t){this._data.massload={},r.init.call(this,e,t)},this._load_nodes=function(t,n,o,a){var i,s,l,c=this.settings.massload,d=(JSON.stringify(t),[]),u=this._model.data;if(!o){for(i=0,s=t.length;s>i;i++)(!u[t[i]]||!u[t[i]].state.loaded&&!u[t[i]].state.failed||a)&&(d.push(t[i]),(l=this.get_node(t[i],!0))&&l.length&&l.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},d.length){if(e.isFunction(c))return c.call(this,d,e.proxy(function(e){var i,s;if(e)for(i in e)e.hasOwnProperty(i)&&(this._data.massload[i]=e[i]);for(i=0,s=t.length;s>i;i++)(l=this.get_node(t[i],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);r._load_nodes.call(this,t,n,o,a)},this));if("object"==typeof c&&c&&c.url)return c=e.extend(!0,{},c),e.isFunction(c.url)&&(c.url=c.url.call(this,d)),e.isFunction(c.data)&&(c.data=c.data.call(this,d)),e.ajax(c).done(e.proxy(function(e,i,s){var c,d;if(e)for(c in e)e.hasOwnProperty(c)&&(this._data.massload[c]=e[c]);for(c=0,d=t.length;d>c;c++)(l=this.get_node(t[c],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);r._load_nodes.call(this,t,n,o,a)},this)).fail(e.proxy(function(e){r._load_nodes.call(this,t,n,o,a)},this))}}return r._load_nodes.call(this,t,n,o,a)},this._load_node=function(t,n){var o,a=this._data.massload[t.id],i=null;return a?(i=this["string"==typeof a?"_append_html_data":"_append_json_data"](t,"string"==typeof a?e(e.parseHTML(a)).filter(function(){return 3!==this.nodeType}):a,function(e){n.call(this,e)}),o=this.get_node(t.id,!0),o&&o.length&&o.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[t.id],i):r._load_node.call(this,t,n)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(r,n){this.bind=function(){n.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",e.proxy(function(t,r){if(this._data.search.som&&r.res.length){var n,o,a,i,s=this._model.data,l=[];for(n=0,o=r.res.length;o>n;n++)if(s[r.res[n]]&&!s[r.res[n]].state.hidden&&(l.push(r.res[n]),l=l.concat(s[r.res[n]].parents),this._data.search.smc))for(a=0,i=s[r.res[n]].children_d.length;i>a;a++)s[s[r.res[n]].children_d[a]]&&!s[s[r.res[n]].children_d[a]].state.hidden&&l.push(s[r.res[n]].children_d[a]);l=e.vakata.array_remove_item(e.vakata.array_unique(l),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(l,!0),this.redraw(!0)}},this)).on("clear_search.jstree",e.proxy(function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))},this))},this.search=function(r,n,o,a,i,s){if(!1===r||""===e.trim(r.toString()))return this.clear_search();a=this.get_node(a),a=a&&a.id?a.id:null,r=r.toString();var l,c,d=this.settings.search,u=!!d.ajax&&d.ajax,h=this._model.data,f=null,p=[],_=[];if(this._data.search.res.length&&!i&&this.clear_search(),o===t&&(o=d.show_only_matches),s===t&&(s=d.show_only_matches_children),!n&&!1!==u)return e.isFunction(u)?u.call(this,r,e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(r,!0,o,a,i,s)})},this),a):(u=e.extend({},u),u.data||(u.data={}),u.data.str=r,a&&(u.data.inside=a),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=e.ajax(u).fail(e.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(u)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(r,!0,o,a,i,s)})},this)),this._data.search.lastRequest);if(i||(this._data.search.str=r,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=o,this._data.search.smc=s),f=new e.vakata.search(r,!0,{caseSensitive:d.case_sensitive,fuzzy:d.fuzzy}),e.each(h[a||e.jstree.root].children_d,function(e,t){var n=h[t];n.text&&!n.state.hidden&&(!d.search_leaves_only||n.state.loaded&&0===n.children.length)&&(d.search_callback&&d.search_callback.call(this,r,n)||!d.search_callback&&f.search(n.text).isMatch)&&(p.push(t),_=_.concat(n.parents))}),p.length){for(_=e.vakata.array_unique(_),l=0,c=_.length;c>l;l++)_[l]!==e.jstree.root&&h[_[l]]&&!0===this.open_node(_[l],null,0)&&this._data.search.opn.push(_[l]);i?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(p,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(p))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(p,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=p),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:r,res:this._data.search.res,show_only_matches:o})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(t,r,o,a){if((t=n.redraw_node.apply(this,arguments))&&-1!==e.inArray(t.id,this._data.search.res)){var i,s,l=null;for(i=0,s=t.childNodes.length;s>i;i++)if(t.childNodes[i]&&t.childNodes[i].className&&-1!==t.childNodes[i].className.indexOf("jstree-anchor")){l=t.childNodes[i];break}l&&(l.className+=" jstree-search")}return t}},function(e){e.vakata.search=function(t,r,n){n=n||{},n=e.extend({},e.vakata.search.defaults,n),!1!==n.fuzzy&&(n.fuzzy=!0),t=n.caseSensitive?t:t.toLowerCase();var o,a,i,s,l=n.location,c=n.distance,d=n.threshold,u=t.length;return u>32&&(n.fuzzy=!1),n.fuzzy&&(o=1<<u-1,a=function(){var e={},r=0;for(r=0;u>r;r++)e[t.charAt(r)]=0;for(r=0;u>r;r++)e[t.charAt(r)]|=1<<u-r-1;return e}(),i=function(e,t){var r=e/u,n=Math.abs(l-t);return c?r+n/c:n?1:r}),s=function(e){if(e=n.caseSensitive?e:e.toLowerCase(),t===e||-1!==e.indexOf(t))return{isMatch:!0,score:0};if(!n.fuzzy)return{isMatch:!1,score:1};var r,s,c,h,f,p,_,m,y,g=e.length,v=d,b=e.indexOf(t,l),w=u+g,j=1,k=[];for(-1!==b&&(v=Math.min(i(0,b),v),-1!==(b=e.lastIndexOf(t,l+u))&&(v=Math.min(i(0,b),v))),b=-1,r=0;u>r;r++){for(c=0,h=w;h>c;)i(r,l+h)<=v?c=h:w=h,h=Math.floor((w-c)/2+c);for(w=h,p=Math.max(1,l-h+1),_=Math.min(l+h,g)+u,m=new Array(_+2),m[_+1]=(1<<r)-1,s=_;s>=p;s--)if(y=a[e.charAt(s-1)],m[s]=0===r?(m[s+1]<<1|1)&y:(m[s+1]<<1|1)&y|(f[s+1]|f[s])<<1|1|f[s+1],m[s]&o&&(j=i(r,s-1),v>=j)){if(v=j,b=s-1,k.push(b),!(b>l))break;p=Math.max(1,2*l-b)}if(i(r+1,l)>v)break;f=m}return{isMatch:b>=0,score:j}},!0===r?{search:s}:s(r)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(t,r){this.bind=function(){r.bind.call(this),this.element.on("model.jstree",e.proxy(function(e,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",e.proxy(function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",e.proxy(function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)},this))},this.sort=function(t,r){var n,o;if((t=this.get_node(t))&&t.children&&t.children.length&&(t.children.sort(e.proxy(this.settings.sort,this)),r))for(n=0,o=t.children_d.length;o>n;n++)this.sort(t.children_d[n],!1)}};var h=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1},e.jstree.plugins.state=function(t,r){this.bind=function(){r.bind.call(this);var t=e.proxy(function(){this.element.on(this.settings.state.events,e.proxy(function(){h&&clearTimeout(h),h=setTimeout(e.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",e.proxy(function(e,r){this.element.one("restore_state.jstree",t),this.restore_state()||t()},this))},this.save_state=function(){var t={state:this.get_state(),ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(t))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(e){return!1}return!(t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl)&&(t&&t.state&&(t=t.state),t&&e.isFunction(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),!!t&&(this.element.one("set_state.jstree",function(r,n){n.instance.trigger("restore_state",{state:e.extend(!0,{},t)})}),this.set_state(t),!0))},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(e),e.jstree.defaults.types={default:{}},e.jstree.defaults.types[e.jstree.root]={},e.jstree.plugins.types=function(r,n){this.init=function(r,o){var a,i;if(o&&o.types&&o.types.default)for(a in o.types)if("default"!==a&&a!==e.jstree.root&&o.types.hasOwnProperty(a))for(i in o.types.default)o.types.default.hasOwnProperty(i)&&o.types[a][i]===t&&(o.types[a][i]=o.types.default[i]);n.init.call(this,r,o),this._model.data[e.jstree.root].type=e.jstree.root},this.refresh=function(t,r){n.refresh.call(this,t,r),this._model.data[e.jstree.root].type=e.jstree.root},this.bind=function(){this.element.on("model.jstree",e.proxy(function(r,n){var o,a,i,s=this._model.data,l=n.nodes,c=this.settings.types,d="default";for(o=0,a=l.length;a>o;o++){if(d="default",s[l[o]].original&&s[l[o]].original.type&&c[s[l[o]].original.type]&&(d=s[l[o]].original.type),s[l[o]].data&&s[l[o]].data.jstree&&s[l[o]].data.jstree.type&&c[s[l[o]].data.jstree.type]&&(d=s[l[o]].data.jstree.type),s[l[o]].type=d,!0===s[l[o]].icon&&c[d].icon!==t&&(s[l[o]].icon=c[d].icon),c[d].li_attr!==t&&"object"==typeof c[d].li_attr)for(i in c[d].li_attr)if(c[d].li_attr.hasOwnProperty(i)){if("id"===i)continue;s[l[o]].li_attr[i]===t?s[l[o]].li_attr[i]=c[d].li_attr[i]:"class"===i&&(s[l[o]].li_attr.class=c[d].li_attr.class+" "+s[l[o]].li_attr.class)}if(c[d].a_attr!==t&&"object"==typeof c[d].a_attr)for(i in c[d].a_attr)if(c[d].a_attr.hasOwnProperty(i)){if("id"===i)continue;s[l[o]].a_attr[i]===t?s[l[o]].a_attr[i]=c[d].a_attr[i]:"href"===i&&"#"===s[l[o]].a_attr[i]?s[l[o]].a_attr.href=c[d].a_attr.href:"class"===i&&(s[l[o]].a_attr.class=c[d].a_attr.class+" "+s[l[o]].a_attr.class)}}s[e.jstree.root].type=e.jstree.root},this)),n.bind.call(this)},this.get_json=function(t,r,o){var a,i,s=this._model.data,l=r?e.extend(!0,{},r,{no_id:!1}):{},c=n.get_json.call(this,t,l,o);if(!1===c)return!1;if(e.isArray(c))for(a=0,i=c.length;i>a;a++)c[a].type=c[a].id&&s[c[a].id]&&s[c[a].id].type?s[c[a].id].type:"default",r&&r.no_id&&(delete c[a].id,c[a].li_attr&&c[a].li_attr.id&&delete c[a].li_attr.id,c[a].a_attr&&c[a].a_attr.id&&delete c[a].a_attr.id);else c.type=c.id&&s[c.id]&&s[c.id].type?s[c.id].type:"default",r&&r.no_id&&(c=this._delete_ids(c));return c},this._delete_ids=function(t){if(e.isArray(t)){for(var r=0,n=t.length;n>r;r++)t[r]=this._delete_ids(t[r]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&e.isArray(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(r,o,a,i,s){if(!1===n.check.call(this,r,o,a,i,s))return!1;o=o&&o.id?o:this.get_node(o),a=a&&a.id?a:this.get_node(a);var l,c,d,u,h=o&&o.id?s&&s.origin?s.origin:e.jstree.reference(o.id):null;switch(h=h&&h._model&&h._model.data?h._model.data:null,r){case"create_node":case"move_node":case"copy_node":if("move_node"!==r||-1===e.inArray(o.id,a.children)){if(l=this.get_rules(a),l.max_children!==t&&-1!==l.max_children&&l.max_children===a.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+r,data:JSON.stringify({chk:r,pos:i,obj:!(!o||!o.id)&&o.id,par:!(!a||!a.id)&&a.id})},!1;if(l.valid_children!==t&&-1!==l.valid_children&&-1===e.inArray(o.type||"default",l.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+r,data:JSON.stringify({chk:r,pos:i,obj:!(!o||!o.id)&&o.id,par:!(!a||!a.id)&&a.id})},!1;if(h&&o.children_d&&o.parents){for(c=0,d=0,u=o.children_d.length;u>d;d++)c=Math.max(c,h[o.children_d[d]].parents.length);c=c-o.parents.length+1}(0>=c||c===t)&&(c=1);do{if(l.max_depth!==t&&-1!==l.max_depth&&l.max_depth<c)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+r,data:JSON.stringify({chk:r,pos:i,obj:!(!o||!o.id)&&o.id,par:!(!a||!a.id)&&a.id})},!1;a=this.get_node(a.parent),l=this.get_rules(a),c++}while(a)}}return!0},this.get_rules=function(e){if(!(e=this.get_node(e)))return!1;var r=this.get_type(e,!0);return r.max_depth===t&&(r.max_depth=-1),r.max_children===t&&(r.max_children=-1),r.valid_children===t&&(r.valid_children=-1),r},this.get_type=function(t,r){return!!(t=this.get_node(t))&&(r?e.extend({type:t.type},this.settings.types[t.type]):t.type)},this.set_type=function(r,n){var o,a,i,s,l,c,d,u,h=this._model.data;if(e.isArray(r)){for(r=r.slice(),a=0,i=r.length;i>a;a++)this.set_type(r[a],n);return!0}if(o=this.settings.types,r=this.get_node(r),!o[n]||!r)return!1;if(d=this.get_node(r,!0),d&&d.length&&(u=d.children(".jstree-anchor")),s=r.type,l=this.get_icon(r),r.type=n,(!0===l||!o[s]||o[s].icon!==t&&l===o[s].icon)&&this.set_icon(r,o[n].icon===t||o[n].icon),o[s]&&o[s].li_attr!==t&&"object"==typeof o[s].li_attr)for(c in o[s].li_attr)if(o[s].li_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(h[r.id].li_attr.class=(h[r.id].li_attr.class||"").replace(o[s].li_attr[c],""),d&&d.removeClass(o[s].li_attr[c])):h[r.id].li_attr[c]===o[s].li_attr[c]&&(h[r.id].li_attr[c]=null,d&&d.removeAttr(c))}if(o[s]&&o[s].a_attr!==t&&"object"==typeof o[s].a_attr)for(c in o[s].a_attr)if(o[s].a_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(h[r.id].a_attr.class=(h[r.id].a_attr.class||"").replace(o[s].a_attr[c],""),u&&u.removeClass(o[s].a_attr[c])):h[r.id].a_attr[c]===o[s].a_attr[c]&&("href"===c?(h[r.id].a_attr[c]="#",u&&u.attr("href","#")):(delete h[r.id].a_attr[c],u&&u.removeAttr(c)))}if(o[n].li_attr!==t&&"object"==typeof o[n].li_attr)for(c in o[n].li_attr)if(o[n].li_attr.hasOwnProperty(c)){if("id"===c)continue;h[r.id].li_attr[c]===t?(h[r.id].li_attr[c]=o[n].li_attr[c],d&&("class"===c?d.addClass(o[n].li_attr[c]):d.attr(c,o[n].li_attr[c]))):"class"===c&&(h[r.id].li_attr.class=o[n].li_attr[c]+" "+h[r.id].li_attr.class,d&&d.addClass(o[n].li_attr[c]))}if(o[n].a_attr!==t&&"object"==typeof o[n].a_attr)for(c in o[n].a_attr)if(o[n].a_attr.hasOwnProperty(c)){if("id"===c)continue;h[r.id].a_attr[c]===t?(h[r.id].a_attr[c]=o[n].a_attr[c],u&&("class"===c?u.addClass(o[n].a_attr[c]):u.attr(c,o[n].a_attr[c]))):"href"===c&&"#"===h[r.id].a_attr[c]?(h[r.id].a_attr.href=o[n].a_attr.href,u&&u.attr("href",o[n].a_attr.href)):"class"===c&&(h[r.id].a_attr.class=o[n].a_attr.class+" "+h[r.id].a_attr.class,u&&u.addClass(o[n].a_attr[c]))}return!0}},e.jstree.defaults.unique={case_sensitive:!1,duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(r,n){this.check=function(t,r,o,a,i){if(!1===n.check.call(this,t,r,o,a,i))return!1;if(r=r&&r.id?r:this.get_node(r),!(o=o&&o.id?o:this.get_node(o))||!o.children)return!0;var s,l,c="rename_node"===t?a:r.text,d=[],u=this.settings.unique.case_sensitive,h=this._model.data;for(s=0,l=o.children.length;l>s;s++)d.push(u?h[o.children[s]].text:h[o.children[s]].text.toLowerCase());switch(u||(c=c.toLowerCase()),t){case"delete_node":return!0;case"rename_node":return s=-1===e.inArray(c,d)||r.text&&r.text[u?"toString":"toLowerCase"]()===c,s||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!o||!o.id)&&o.id})}),s;case"create_node":return s=-1===e.inArray(c,d),s||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!o||!o.id)&&o.id})}),s;case"copy_node":return s=-1===e.inArray(c,d),s||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!o||!o.id)&&o.id})}),s;case"move_node":return s=r.parent===o.id&&(!i||!i.is_multi)||-1===e.inArray(c,d),s||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!o||!o.id)&&o.id})}),s}return!0},this.create_node=function(r,o,a,i,s){if(!o||o.text===t){if(null===r&&(r=e.jstree.root),!(r=this.get_node(r)))return n.create_node.call(this,r,o,a,i,s);if(a=a===t?"last":a,!a.toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(r))return n.create_node.call(this,r,o,a,i,s);o||(o={});var l,c,d,u,h,f=this._model.data,p=this.settings.unique.case_sensitive,_=this.settings.unique.duplicate;for(c=l=this.get_string("New node"),d=[],u=0,h=r.children.length;h>u;u++)d.push(p?f[r.children[u]].text:f[r.children[u]].text.toLowerCase());for(u=1;-1!==e.inArray(p?c:c.toLowerCase(),d);)c=_.call(this,l,++u).toString();o.text=c}return n.create_node.call(this,r,o,a,i,s)}};var f=l.createElement("DIV");if(f.setAttribute("unselectable","on"),f.setAttribute("role","presentation"),f.className="jstree-wholerow",f.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,r){this.bind=function(){r.bind.call(this),this.element.on("ready.jstree set_state.jstree",e.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var r,n,o=!1;for(r=0,n=t.selected.length;n>r;r++)(o=this.get_node(t.selected[r],!0))&&o.length&&o.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",e.proxy(function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",e.proxy(function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",e.proxy(function(t){if(this._data.contextmenu){t.preventDefault();var r=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(r)}},this)).on("click.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var r=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(r).focus()}).on("dblclick.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var r=e.Event("dblclick",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(r).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",e.proxy(function(t){t.stopImmediatePropagation();var r=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(r).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",e.proxy(function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),r.teardown.call(this)},this.redraw_node=function(t,n,o,a){if(t=r.redraw_node.apply(this,arguments)){var i=f.cloneNode(!0);-1!==e.inArray(t.id,this._data.core.selected)&&(i.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(i.className+=" jstree-wholerow-hovered"),t.insertBefore(i,t.childNodes[0])}return t}},l.registerElement&&Object&&Object.create){var p=Object.create(HTMLElement.prototype);p.createdCallback=function(){var t,r={core:{},plugins:[]};for(t in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(r.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(r[t]=JSON.parse(this.getAttribute(t))));for(t in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(r.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));e(this).jstree(r)};try{l.registerElement("vakata-jstree",{prototype:p})}catch(e){}}}})},1033:function(e,t){},1034:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=r(1),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(l),d=r(13),u=r(33),h=r(858),f=function(e){return e&&e.__esModule?e:{default:e}}(h),p=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},_=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.percentile=r.props.percentile,r.pvalueThreshold=String(r.props.pvalueThreshold),r.scoreThreshold=String(r.props.scoreThreshold),r.percentileOptions=[{label:"50%",value:50},{label:"75%",value:75},{label:"100%",value:100}],r.percentileChange=r.percentileChange.bind(r),r.applyFilter=r.applyFilter.bind(r),r}return a(t,e),i(t,[{key:"percentileChange",value:function(e){this.percentile=e?e.value:75}},{key:"applyFilter",value:function(){var e=this.pvalueThreshold?Number(this.pvalueThreshold):NaN,t=this.scoreThreshold?Number(this.scoreThreshold):NaN;Number.isNaN(e)||Number.isNaN(t)||this.props.onApply(this.percentile,e,t)}},{key:"render",value:function(){var e=this;return c.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",width:"100%",background:"#eee",padding:"10px 10px"}},c.createElement("div",{style:{display:"flex",flexDirection:"column"}},c.createElement("label",{htmlFor:"GSVAScore"},"GSVA score"),c.createElement("input",{id:"GSVAScore",type:"string",value:this.scoreThreshold,style:{width:160,height:36,padding:10},onChange:function(t){return e.scoreThreshold=t.target.value},step:"0.1"})),c.createElement("div",{style:{display:"flex",flexDirection:"column"}},c.createElement("label",{htmlFor:"Pvalue"},"P-value"),c.createElement("input",{id:"Pvalue",type:"string",value:this.pvalueThreshold,style:{width:160,height:36,padding:10},onChange:function(t){return e.pvalueThreshold=t.target.value},step:"0.01",min:"0"})),c.createElement("div",null,c.createElement("label",{htmlFor:"PercentileScoreCalculation"},"Percentile for score calculation"),c.createElement(f.default,{addLabelText:"Percentile for score calculation",style:{width:160,borderRadius:"2px"},clearable:!1,name:"PercentileScoreCalculation",value:this.percentile,options:this.percentileOptions,onChange:this.percentileChange})),c.createElement("div",null,c.createElement("button",{id:"filterButton",className:"btn btn-primary btn-sm",style:{padding:"20px 18px"},onClick:this.applyFilter},"Apply Filter")))}}]),t}(c.Component);p([d.observable],_.prototype,"percentile",void 0),p([d.observable],_.prototype,"pvalueThreshold",void 0),p([d.observable],_.prototype,"scoreThreshold",void 0),_=p([u.observer],_),t.default=_},1035:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=r(1),u=o(d),h=r(864),f=n(h),p=r(855),_=o(p),m=r(13),y=r(33),g=r(178),v=n(g),b=r(860),w=r(858),j=n(w),k=r(854),S=n(k),O=r(862),x=r(175),P=r(863),C=n(P),E=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},T=_,A=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),t}(v.default),N=function(e){function t(e){a(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.percentileOptions=[{label:"50%",value:"50"},{label:"75%",value:"75"},{label:"100%",value:"100"}],r.percentileChange=r.percentileChange.bind(r),r.updateSelectionFromPlot=r.updateSelectionFromPlot.bind(r),r}return s(t,e),l(t,[{key:"percentileChange",value:function(e){this.store.volcanoPlotSelectedPercentile=e||{label:"75%",value:"75"}}},{key:"updateSelectionFromPlot",value:function(e,t){var r=this,n=e&&e[0].data?e[0].data:[];this.store.volcanoPlotTableData.result.map(function(e){var t=e.representativeScore,o=e.representativePvalue,a=e.name,i=t,s=-Math.log(o)/Math.log(10),l=!0,c=!1,d=void 0;try{for(var u,h=n[Symbol.iterator]();!(l=(u=h.next()).done);l=!0){var f=u.value;f.x===i&&f.y===s&&r.store.map_genesets_selected_volcano.set(a,!0)}}catch(e){c=!0,d=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw d}}})}},{key:"render",value:function(){var e=this;return u.createElement("div",{className:T.GenesetsVolcanoSelectorWindow,style:{height:"400px"}},u.createElement("div",{style:{float:"left"},className:"form-inline"},u.createElement("label",{htmlFor:"PercentileScoreCalculation"},"Percentile for score calculation:"),u.createElement("span",{style:{display:"inline-block",verticalAlign:"middle",marginLeft:"1em"}},u.createElement(j.default,{addLabelText:"Percentile for score calculation",style:{width:160,borderRadius:"2px"},clearable:!1,name:"PercentileScoreCalculation",value:this.store.volcanoPlotSelectedPercentile,options:this.percentileOptions,onChange:this.percentileChange})),u.createElement(S.default,{isLoading:!(this.props.plotData&&this.props.maxY&&this.store.volcanoPlotTableData.isComplete&&this.props.data)}),this.store.volcanoPlotGraphData&&this.store.minYVolcanoPlot&&this.props.plotData&&this.props.maxY&&this.store.volcanoPlotTableData.isComplete&&this.props.data&&u.createElement(O.VictoryChart,{theme:C.default,width:510,height:350,containerComponent:u.createElement(O.VictorySelectionContainer,{onSelection:this.updateSelectionFromPlot,selectionStyle:{fill:"tomato",fillOpacity:.5,stroke:"tomato",strokeWidth:2}})},u.createElement(O.VictoryAxis,{crossAxis:!0,domain:[-1,1.25],tickValues:[-1,-.5,0,.5,1],style:{axisLabel:{padding:35}},label:"GSVA score",offsetY:50,standalone:!1}),u.createElement(O.VictoryAxis,{dependentAxis:!0,crossAxis:!0,domain:[0,this.props.maxY],style:{axisLabel:{padding:35},stroke:"none"},label:"-log10 p-value",offsetX:50,standalone:!1}),u.createElement(O.VictoryLabel,{text:"significance",datum:{x:1,y:1.3},textAnchor:"start"}),u.createElement(O.VictoryLine,{style:{data:{stroke:"black",strokeDasharray:5},parent:{border:"dotted 1px #f00"}},data:[{x:-1.2,y:1.3},{x:1,y:1.3}]}),u.createElement(O.VictoryLine,{style:{data:{stroke:"rgb(144, 164, 174)"},parent:{border:"1px dashed solid"}},data:[{x:0,y:0},{x:0,y:this.props.maxY}]}),u.createElement(O.VictoryScatter,{style:{data:{fill:function(e){return e?e.fill:""},fillOpacity:.3}},size:3,data:this.props.plotData}))),u.createElement("div",{style:{float:"right",height:"356.5px",overflowY:"scroll",width:"650px"}},u.createElement(S.default,{isLoading:!(this.store.volcanoPlotTableData.isComplete&&this.props.data)}),this.store.volcanoPlotTableData.isComplete&&this.props.data&&u.createElement(A,{data:this.props.data,columns:[{name:"Gene Sets",render:function(e){return u.createElement("span",null,e.name)},sortBy:function(e){return e.name},filter:function(e,t,r){return e.name.toUpperCase().indexOf(r)>-1}},{name:"GSVA Score",render:function(e){return u.createElement("span",null,e.representativeScore.toFixed(2))},sortBy:function(e){return e.representativeScore}},{name:"P Value",render:function(e){return u.createElement("span",null,(0,b.toPrecision)(e.representativePvalue,2,.1))},sortBy:function(e){return e.representativePvalue}},{name:"Selected",render:function(t){return u.createElement(f.default,{checked:!!e.store.map_genesets_selected_volcano.get(t.name),onChange:function(r){return e.store.map_genesets_selected_volcano.set(t.name,r.target.checked)}})}}],initialSortColumn:"P Value",initialSortDirection:"asc",showPagination:!0,initialItemsPerPage:100,showColumnVisibility:!1,showFilter:!0,showCopyDownload:!1})),u.createElement("div",{style:{float:"right"}},this.store.volcanoPlotTableData.isComplete&&this.props.data&&u.createElement("button",{style:{marginTop:15,float:"right"},className:"btn btn-primary btn-sm pull-right",onClick:function(){return e.props.onSelect(e.store.map_genesets_selected_volcano)}},"Add selection to the query"),this.store.volcanoPlotTableData.isComplete&&this.props.data&&u.createElement("button",{style:{marginRight:15,marginTop:15,float:"right"},className:"btn btn-primary btn-sm pull-right",onClick:function(){return e.store.map_genesets_selected_volcano.replace(e.props.initialSelection.map(function(e){return[e,!0]}))}},"Clear selection")))}}]),t}(x.QueryStoreComponent);E([m.action],N.prototype,"updateSelectionFromPlot",null),N=E([y.observer],N),t.default=N},1036:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=r(1),h=o(u),f=r(855),p=o(f),_=r(63),m=r(858),y=n(m),g=r(33),v=r(13),b=r(859),w=r(913),j=n(w),k=r(1037),S=n(k),O=r(174),x=n(O),P=r(25),C=r(175),E=r(1038),T=n(E),A=r(1050),N=n(A),M=r(861),I=n(M),D=r(64),R=n(D),L=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},F=p,V=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),c(t,[{key:"render",value:function(){var e=this;return h.createElement(b.FlexRow,{padded:!0,overflow:!0,className:F.GeneSetSelector},h.createElement(I.default,{className:"sectionLabel",secondaryComponent:h.createElement("a",{target:"_blank",href:(0,P.getOncoQueryDocUrl)()},"Advanced: Onco Query Language (OQL)"),promises:[this.store.mutSigForSingleStudy,this.store.gisticForSingleStudy,this.store.genes]},"Enter Genes:"),h.createElement(b.FlexCol,{overflow:!0},h.createElement(y.default,{value:this.selectedGeneListOption,options:this.geneListOptions,onChange:function(t){return e.store.geneQuery=t?t.value:""}}),!(!this.store.mutSigForSingleStudy.result.length&&!this.store.gisticForSingleStudy.result.length)&&h.createElement(b.FlexRow,{padded:!0,className:F.buttonRow},!!this.store.mutSigForSingleStudy.result.length&&h.createElement("button",{className:"btn btn-default btn-sm",onClick:function(){return e.store.showMutSigPopup=!0}},"Select from Recurrently Mutated Genes (MutSig)"),!!this.store.gisticForSingleStudy.result.length&&h.createElement("button",{className:"btn btn-default btn-sm",onClick:function(){return e.store.showGisticPopup=!0}},"Select Genes from Recurrent CNAs (Gistic)")),h.createElement("textarea",{ref:this.textAreaRef,className:(0,x.default)(F.geneSet,this.store.geneQuery?F.notEmpty:F.empty),rows:5,cols:80,placeholder:"Enter HUGO Gene Symbols or Gene Aliases",title:"Enter HUGO Gene Symbols or Gene Aliases",value:this.store.geneQuery,onChange:function(t){return e.store.geneQuery=t.currentTarget.value},"data-test":"geneSet"}),h.createElement(S.default,null),h.createElement(_.Modal,{className:(0,x.default)("cbioportal-frontend",F.MutSigGeneSelectorWindow),show:this.store.showMutSigPopup,onHide:function(){return e.store.showMutSigPopup=!1}},h.createElement(_.Modal.Header,{closeButton:!0},h.createElement(_.Modal.Title,null,"Recently Mutated Genes")),h.createElement(_.Modal.Body,null,h.createElement(T.default,{initialSelection:this.store.geneIds,data:this.store.mutSigForSingleStudy.result,onSelect:function(t){e.store.applyGeneSelection(t),e.store.showMutSigPopup=!1}}))),h.createElement(_.Modal,{className:(0,x.default)("cbioportal-frontend",F.GisticGeneSelectorWindow),show:this.store.showGisticPopup,onHide:function(){return e.store.showGisticPopup=!1}},h.createElement(_.Modal.Header,{closeButton:!0},h.createElement(_.Modal.Title,null,"Recurrent Copy Number Alterations (Gistic)")),h.createElement(_.Modal.Body,null,h.createElement(N.default,{initialSelection:this.store.geneIds,data:this.store.gisticForSingleStudy.result,onSelect:function(t){e.store.applyGeneSelection(t),e.store.showGisticPopup=!1}})))))}},{key:"selectedGeneListOption",get:function(){var e=this,t=this.geneListOptions.find(function(t){return t.value==e.store.geneQuery});return t?t.value:""}},{key:"geneListOptions",get:function(){var e=j.default;return R.default.querySetsOfGenes&&(e=R.default.querySetsOfGenes),[{label:"User-defined List",value:""}].concat(a(e.map(function(e){return{label:e.id+" ("+e.genes.length+" genes)",value:e.genes.join(" ")}})))}},{key:"textAreaRef",get:function(){var e=this;if("shouldFocus"===this.store.geneQueryErrorDisplayStatus)return function(t){var r=e.store.oql.error;t&&r&&(t.focus(),t.setSelectionRange(r.start,r.end),e.store.geneQueryErrorDisplayStatus="focused")}}}]),t}(C.QueryStoreComponent);L([v.computed],V.prototype,"selectedGeneListOption",null),L([v.computed],V.prototype,"geneListOptions",null),L([v.computed],V.prototype,"textAreaRef",null),V=L([g.observer],V),t.default=V},1037:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=r(1),u=o(d),h=r(855),f=o(h),p=r(33),_=r(866),m=n(_),y=r(858),g=n(y),v=r(175),b=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},w=f,j=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){return this.store.oql.error?u.createElement("div",{className:w.GeneSymbolValidator},u.createElement("span",{className:w.errorMessage},"Cannot validate gene symbols because of invalid OQL. "+("unfocused"===this.store.geneQueryErrorDisplayStatus?"Please click 'Submit' to see location of error.":this.store.oql.error.message))):this.store.oql.query.length?this.store.genes.isError?u.createElement("div",{className:w.GeneSymbolValidator},u.createElement("span",{className:w.pendingMessage},"Unable to validate gene symbols.")):this.store.genes.isPending&&0==this.store.genes.result.suggestions.length?u.createElement("div",{className:w.GeneSymbolValidator},u.createElement("span",{className:w.pendingMessage},"Validating gene symbols...")):this.store.genes.result.suggestions.length?u.createElement("div",{className:w.GeneSymbolValidator},u.createElement("div",{className:w.invalidBubble,title:"Please edit the gene symbols."},u.createElement(m.default,{className:w.icon,name:"exclamation-circle"}),u.createElement("span",null,"Invalid gene symbols.")),this.store.genes.result.suggestions.map(this.renderSuggestion,this)):u.createElement("div",{className:w.GeneSymbolValidator},u.createElement("div",{className:w.validBubble,title:"You can now submit the list."},u.createElement(m.default,{className:w.icon,name:"check-circle"}),u.createElement("span",null,"All gene symbols are valid."))):null}},{key:"renderSuggestion",value:function(e,t){var r=this,n=e.alias,o=e.genes;if(0==o.length){var a=function(){return r.store.replaceGene(n,"")};return u.createElement("div",{key:t,className:w.suggestionBubble,title:"Could not find gene symbol. Click to remove it from the gene list.",onClick:a},u.createElement(m.default,{className:w.icon,name:"times-circle"}),u.createElement("span",{className:w.noChoiceLabel},n))}if(1==o.length){var i=o[0].hugoGeneSymbol,s="'"+n+"' is a synonym for '"+i+"'. Click here to replace it with the official symbol.",l=function(){return r.store.replaceGene(n,i)};return u.createElement("div",{key:t,className:w.suggestionBubble,title:s,onClick:l},u.createElement(m.default,{className:w.icon,name:"question"}),u.createElement("span",{className:w.singleChoiceLabel},n),u.createElement("span",null,": "+i))}var c=o.map(function(e){return{label:e.hugoGeneSymbol,value:e.hugoGeneSymbol}});return u.createElement("div",{key:t,className:w.suggestionBubble,title:"Ambiguous gene symbol. Click on one of the alternatives to replace it."},u.createElement(m.default,{className:w.icon,name:"question"}),u.createElement("span",{className:w.multiChoiceLabel},n),u.createElement("span",null,": "),u.createElement(g.default,{placeholder:"select a symbol",options:c,onChange:function(e){return e&&r.store.replaceGene(n,e.value)},autosize:!0}))}}]),t}(v.QueryStoreComponent);j=b([p.observer],j),t.default=j},1038:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=r(3),u=o(d),h=r(1),f=o(h),p=r(864),_=n(p),m=r(855),y=o(m),g=r(13),v=r(33),b=r(914),w=n(b),j=r(884),k=r(860),S=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},O=y,x=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),t}(w.default),P=function(e){function t(e){a(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.map_geneSymbol_selected=g.observable.map(),r.columns={hugoGeneSymbol:{priority:1,dataField:"hugoGeneSymbol",name:"Gene Symbol",sortable:!0,filterable:!0},numberOfMutations:{priority:2,dataField:"numberOfMutations",name:"Num Mutations",sortable:!0,filterable:!0},qValue:{priority:3,dataField:"qValue",name:"Q-Value",sortable:!0,filterable:!0,formatter:function(e){var t=e.name,r=e.columnData;return f.createElement(j.Td,{key:t,column:t,value:r},(0,k.toPrecision)(r,2,.1))}},selected:{name:"Selected",priority:4,sortable:!1,filterable:!1,header:f.createElement("div",{className:O.selectionColumnHeader},f.createElement("span",null,"All"),f.createElement(v.Observer,null,function(){return f.createElement(_.default,{checked:r.selectedGenes.length>0,indeterminate:r.selectedGenes.length>0&&r.selectedGenes.length<r.allGenes.length,onChange:function(e){return r.selectAll(e.target.checked)}})})),formatter:function(e){var t=e.name,n=e.rowData;return f.createElement(j.Td,{key:t,column:t},!!n&&f.createElement("div",{className:O.selectionColumnCell},f.createElement(v.Observer,null,function(){return f.createElement(_.default,{checked:!!r.map_geneSymbol_selected.get(n.hugoGeneSymbol),onChange:function(e){return r.map_geneSymbol_selected.set(n.hugoGeneSymbol,e.target.checked)}})})))}}},r.map_geneSymbol_selected.replace(e.initialSelection.map(function(e){return[e,!0]})),r}return s(t,e),l(t,[{key:"selectAll",value:function(e){var t=!0,r=!1,n=void 0;try{for(var o,a=this.allGenes[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;this.map_geneSymbol_selected.set(i,e)}}catch(e){r=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw n}}}},{key:"render",value:function(){var e=this;return f.createElement("div",{className:O.MutSigGeneSelector},f.createElement(x,{itemsName:"genes",initItemsPerPage:10,columns:this.columns,rawData:this.props.data,headerControlsProps:{showCopyAndDownload:!1,showHideShowColumnButton:!1,showPagination:!0},reactTableProps:{className:"table table-striped table-border-top",hideFilterInput:!0,defaultSort:this.columns.qValue.name}}),f.createElement("div",null,f.createElement("button",{style:{marginTop:20},className:"btn btn-primary btn-sm pull-right",onClick:function(){return e.props.onSelect(e.map_geneSymbol_selected)}},"Select")))}},{key:"allGenes",get:function(){return u.uniq(this.props.data.map(function(e){return e.hugoGeneSymbol}))}},{key:"selectedGenes",get:function(){var e=this;return this.allGenes.filter(function(t){return e.map_geneSymbol_selected.get(t)})}}]),t}(f.Component);S([g.computed],P.prototype,"allGenes",null),S([g.computed],P.prototype,"selectedGenes",null),S([g.action],P.prototype,"selectAll",null),P=S([v.observer],P),t.default=P},1039:function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t){return e===t}function a(e){var t=arguments.length<=1||void 0===arguments[1]?o:arguments[1],r=null,n=null;return function(){for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return null!==r&&r.length===a.length&&a.every(function(e,n){return t(e,r[n])})||(n=e.apply(void 0,a)),r=a,n}}function i(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var r=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}function s(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];var s=0,l=o.pop(),c=i(o),d=e.apply(void 0,[function(){return s++,l.apply(void 0,arguments)}].concat(r)),u=function(e,t){for(var r=arguments.length,o=Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];var i=c.map(function(r){return r.apply(void 0,[e,t].concat(o))});return d.apply(void 0,n(i))};return u.resultFunc=l,u.recomputations=function(){return s},u.resetRecomputations=function(){return s=0},u}}function l(e){var t=arguments.length<=1||void 0===arguments[1]?c:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var r=Object.keys(e);return t(r.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t,n){return e[r[n]]=t,e},{})})}t.__esModule=!0,t.defaultMemoize=a,t.createSelectorCreator=s,t.createStructuredSelector=l;var c=t.createSelector=s(a)},1040:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=a,r=i,n=!0,s=c=void 0}},l=r(1),c=function(e){return e&&e.__esModule?e:{default:e}}(l),d=r(867),u=r(1041),h=r(876),f=r(916),p=(r(885),r(917)),_=r(919),m=r(1045),y=function(e){function t(e){if(n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={currentPage:this.props.currentPage?this.props.currentPage:0,currentSort:{column:null,direction:this.props.defaultSortDescending?-1:1},filter:""},!1!==e.sortBy||!1!==e.defaultSort){var r=e.sortBy||e.defaultSort;this.state.currentSort=this.getCurrentSort(r)}}return o(t,e),i(t,[{key:"filterBy",value:function(e){this.setState({filter:e})}},{key:"translateColumnsArray",value:function(e){return e.map(function(e,t){if("string"==typeof e)return{key:e,label:e};if(void 0!==e.sortable){var r=!0===e.sortable?"default":e.sortable;this._sortable[e.key]=r}return e}.bind(this))}},{key:"parseChildData",value:function(e){var t=[],r=void 0;return void 0!==e.children&&c.default.Children.forEach(e.children,function(e){if(void 0!==e&&null!==e)switch(e.type){case f.Thead:break;case _.Tfoot:void 0!==r&&console.warn("You can only have one <Tfoot>, but more than one was specified.Ignoring all but the last one"),r=e;break;case p.Tr:var n=e.props.data||{};c.default.Children.forEach(e.props.children,function(e){if("object"==typeof e&&null!=e)if(void 0!==e.props.column){var t=void 0;if(void 0!==e.props.data)t=e.props.data;else{if(void 0===e.props.children)return void console.warn("exports.Td specified without a `data` property or children, ignoring");t=e.props.children}n[e.props.column]={value:t,props:(0,d.filterPropsFrom)(e.props),__reactableMeta:!0}}else console.warn("exports.Td specified without a `column` property, ignoring")}),t.push({data:n,props:(0,d.filterPropsFrom)(e.props),__reactableMeta:!0});break;default:console.warn("The only possible children of <Table> are <Thead>, <Tr>, or one <Tfoot>.")}}.bind(this)),{data:t,tfoot:r}}},{key:"initialize",value:function(e){this.data=e.data||[];var t=this.parseChildData(e),r=t.data,n=t.tfoot;this.data=this.data.concat(r),this.tfoot=n,this.initializeSorts(e),this.initializeFilters(e)}},{key:"initializeFilters",value:function(e){this._filterable={};for(var t in e.filterable){var r=e.filterable[t],n=void 0,o=void 0;if(r instanceof Object){if(void 0===r.column){console.warn("Filterable column specified without column name");continue}n=r.column,o="function"==typeof r.filterFunction?r.filterFunction:"default"}else n=r,o="default";this._filterable[n]=o}}},{key:"initializeSorts",value:function(e){this._sortable={};for(var t in e.sortable){var r=e.sortable[t],n=void 0,o=void 0;if(r instanceof Object){if(void 0===r.column)return void console.warn("Sortable column specified without column name");n=r.column,o="function"==typeof r.sortFunction?r.sortFunction:"default"}else n=r,o="default";this._sortable[n]=o}}},{key:"getCurrentSort",value:function(e){var t=void 0,r=void 0;if(e instanceof Object){if(void 0===e.column)return void console.warn("Default column specified without column name");if(t=e.column,void 0!==e.direction)if(1===e.direction||"asc"===e.direction)r=1;else if(-1===e.direction||"desc"===e.direction)r=-1;else{var n=this.props.defaultSortDescending?"descending":"ascending";console.warn("Invalid default sort specified. Defaulting to "+n),r=this.props.defaultSortDescending?-1:1}else r=this.props.defaultSortDescending?-1:1}else t=e,r=this.props.defaultSortDescending?-1:1;return{column:t,direction:r}}},{key:"updateCurrentSort",value:function(e){!1!==e&&e.column!==this.state.currentSort.column&&e.direction!==this.state.currentSort.direction&&this.setState({currentSort:this.getCurrentSort(e)})}},{key:"updateCurrentPage",value:function(e){void 0!==e&&e!==this.state.currentPage&&this.setState({currentPage:e})}},{key:"componentWillMount",value:function(){this.initialize(this.props),this.sortByCurrentSort(),this.filterBy(this.props.filterBy)}},{key:"componentWillReceiveProps",value:function(e){this.initialize(e),this.updateCurrentPage(e.currentPage),this.updateCurrentSort(e.sortBy),this.sortByCurrentSort(),this.filterBy(e.filterBy)}},{key:"applyFilter",value:function(e,t){e=e.toLowerCase();for(var r=[],n=0;n<t.length;n++){var o=t[n].props.data;for(var a in this._filterable)if(void 0!==o[a])if(void 0===this._filterable[a]||"default"===this._filterable[a]){if((0,u.extractDataFrom)(o,a).toString().toLowerCase().indexOf(e)>-1){r.push(t[n]);break}}else if(this._filterable[a]((0,u.extractDataFrom)(o,a).toString(),e)){r.push(t[n]);break}}return r}},{key:"sortByCurrentSort",value:function(){var e=this.state.currentSort;null!==e.column&&this.data.sort(function(t,r){var n=(0,u.extractDataFrom)(t,e.column);n=(0,h.isUnsafe)(n)?n.toString():n||"";var o=(0,u.extractDataFrom)(r,e.column);return o=(0,h.isUnsafe)(o)?o.toString():o||"",void 0===this._sortable[e.column]||"default"===this._sortable[e.column]?n<o?-1*e.direction:n>o?1*e.direction:0:1===e.direction?this._sortable[e.column](n,o):this._sortable[e.column](o,n)}.bind(this))}},{key:"onSort",value:function(e){if(void 0!==this._sortable[e]){var t=this.state.currentSort;t.column===e?t.direction*=-1:(t.column=e,t.direction=this.props.defaultSortDescending?-1:1),this.setState({currentSort:t}),this.sortByCurrentSort(),"function"==typeof this.props.onSort&&this.props.onSort(t)}}},{key:"render",value:function(){var e=this,t=[],r=void 0,n=!1,o=void 0===this.props.hideTableHeader,i=null;if(this.props.children&&(this.props.children.length>0&&this.props.children[0]&&this.props.children[0].type===f.Thead?i=this.props.children[0]:this.props.children.type===f.Thead&&(i=this.props.children)),r=null!==i?f.Thead.getColumns(i):this.props.columns||[],r.length>0&&(n=!0,r=this.translateColumnsArray(r)),this.data&&"function"==typeof this.data.map&&(t=t.concat(this.data.map(function(e,t){var o=e,i={};!0===e.__reactableMeta&&(o=e.data,i=e.props);for(var s in o)o.hasOwnProperty(s)&&!1===n&&function(){var e={key:s,label:s};void 0===r.find(function(t){return t.key===e.key})&&r.push(e)}();return c.default.createElement(p.Tr,a({columns:r,key:t,data:o},i))}.bind(this)))),!0===this.props.sortable)for(var s=0;s<r.length;s++)this._sortable[r[s].key]="default";var l=!1;this.props.filterable&&Array.isArray(this.props.filterable)&&this.props.filterable.length>0&&!this.props.hideFilterInput&&(l=!0);var u=t;""!==this.state.filter&&(u=this.applyFilter(this.state.filter,u));var h=0,_=!1,y=void 0,g=this.state.currentPage,v=this.props.pageButtonLimit||10,b=u;this.props.itemsPerPage>0&&(h=this.props.itemsPerPage,y=Math.ceil(u.length/h),g>y-1&&(g=y-1),_=!0,b=u.slice(g*h,(g+1)*h));var w=(0,d.filterPropsFrom)(this.props),j=this.props.noDataText?c.default.createElement("tr",{className:"reactable-no-data"},c.default.createElement("td",{colSpan:r.length},this.props.noDataText)):null,k=null;return r&&r.length>0&&o&&(k=c.default.createElement(f.Thead,{columns:r,filtering:l,onFilter:function(t){e.setState({filter:t}),e.props.onFilter&&e.props.onFilter(t)},filterPlaceholder:this.props.filterPlaceholder,filterClassName:this.props.filterClassName,currentFilter:this.state.filter,sort:this.state.currentSort,sortableColumns:this._sortable,onSort:this.onSort.bind(this),key:"thead"})),c.default.createElement("table",w,k,c.default.createElement("tbody",{className:"reactable-data",key:"tbody"},b.length>0?b:j),!0===_?c.default.createElement(m.Paginator,{colSpan:r.length,pageButtonLimit:v,numPages:y,currentPage:g,onPageChange:function(t){e.setState({currentPage:t}),e.props.onPageChange&&e.props.onPageChange(t)},previousPageLabel:this.props.previousPageLabel,nextPageLabel:this.props.nextPageLabel,key:"paginator"}):null,this.tfoot)}}]),t}(c.default.Component);t.Table=y,y.defaultProps={sortBy:!1,defaultSort:!1,defaultSortDescending:!1,itemsPerPage:0,filterBy:"",hideFilterInput:!1}},1041:function(e,t,r){"use strict";function n(e,t){var r;return r=void 0!==e&&null!==e&&!0===e.__reactableMeta?e.data[t]:e[t],void 0!==r&&null!==r&&!0===r.__reactableMeta&&(r=void 0!==r.props.value&&null!==r.props.value?r.props.value:r.value),(0,o.stringable)(r)?r:""}Object.defineProperty(t,"__esModule",{value:!0}),t.extractDataFrom=n;var o=r(915)},1042:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=a,r=i,n=!0,s=c=void 0}},l=r(1),c=n(l),d=r(34),u=n(d),h=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"onChange",value:function(){this.props.onFilter(u.default.findDOMNode(this).value)}},{key:"render",value:function(){return c.default.createElement("input",{type:"text",className:this.props.className,placeholder:this.props.placeholder,value:this.props.value,onKeyUp:this.onChange.bind(this),onChange:this.onChange.bind(this)})}}]),t}(c.default.Component);t.FiltererInput=h;var f=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"render",value:function(){if(void 0===this.props.colSpan)throw new TypeError("Must pass a colSpan argument to Filterer");return c.default.createElement("tr",{className:"reactable-filterer"},c.default.createElement("td",{colSpan:this.props.colSpan},c.default.createElement(h,{onFilter:this.props.onFilter,value:this.props.value,placeholder:this.props.placeholder,className:this.props.className?"reactable-filter-input "+this.props.className:"reactable-filter-input"})))}}]),t}(c.default.Component);t.Filterer=f},1043:function(e,t,r){"use strict";function n(e){return null!==e&&"object"==typeof e&&void 0!==e.props}Object.defineProperty(t,"__esModule",{value:!0}),t.isReactComponent=n},1044:function(e,t,r){"use strict";function n(e){var t=[];for(var r in e)t[r]=e;return t}Object.defineProperty(t,"__esModule",{value:!0}),t.toArray=n},1045:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return"#page-"+(e+1)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=a,r=i,n=!0,s=c=void 0}},l=r(1),c=function(e){return e&&e.__esModule?e:{default:e}}(l),d=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"handlePrevious",value:function(e){e.preventDefault(),this.props.onPageChange(this.props.currentPage-1)}},{key:"handleNext",value:function(e){e.preventDefault(),this.props.onPageChange(this.props.currentPage+1)}},{key:"handlePageButton",value:function(e,t){t.preventDefault(),this.props.onPageChange(e)}},{key:"renderPrevious",value:function(){if(this.props.currentPage>0)return c.default.createElement("a",{className:"reactable-previous-page",href:a(this.props.currentPage-1),onClick:this.handlePrevious.bind(this)},this.props.previousPageLabel||"Previous")}},{key:"renderNext",value:function(){if(this.props.currentPage<this.props.numPages-1)return c.default.createElement("a",{className:"reactable-next-page",href:a(this.props.currentPage+1),onClick:this.handleNext.bind(this)},this.props.nextPageLabel||"Next")}},{key:"renderPageButton",value:function(e,t){return c.default.createElement("a",{className:e,key:t,href:a(t),onClick:this.handlePageButton.bind(this,t)},t+1)}},{key:"render",value:function(){if(void 0===this.props.colSpan)throw new TypeError("Must pass a colSpan argument to Paginator");if(void 0===this.props.numPages)throw new TypeError("Must pass a non-zero numPages argument to Paginator");if(void 0===this.props.currentPage)throw new TypeError("Must pass a currentPage argument to Paginator");for(var e=[],t=this.props.pageButtonLimit,r=this.props.currentPage,n=this.props.numPages,o=Math.round(t/2),a=t-o,i=0;i<this.props.numPages;i++){var s=i,l="reactable-page-button";r===i&&(l+=" reactable-current-page"),e.push(this.renderPageButton(l,s))}return r-t+o>0&&(r>n-o?e.splice(0,n-t):e.splice(0,r-t+o)),n-r>a&&e.splice(t,e.length-t),c.default.createElement("tbody",{className:"reactable-pagination"},c.default.createElement("tr",null,c.default.createElement("td",{colSpan:this.props.colSpan},this.renderPrevious(),e,this.renderNext())))}}]),t}(c.default.Component);t.Paginator=d},1046:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={Numeric:function(e,t){var r=parseFloat(e.toString().replace(/,/g,"")),n=parseFloat(t.toString().replace(/,/g,""));if(isNaN(r)&&isNaN(n))r=e,n=t;else{if(isNaN(r))return 1;if(isNaN(n))return-1}return r<n?-1:r>n?1:0},NumericInteger:function(e,t){return isNaN(e)||isNaN(t)?e>t?1:-1:e-t},Currency:function(e,r){return e=e.replace(/[^0-9\.\-\,]+/g,""),r=r.replace(/[^0-9\.\-\,]+/g,""),t.Sort.Numeric(e,r)},Date:function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,r){var n=Date.parse(e),o=Date.parse(r);return isNaN(n)||isNaN(o)?t.Sort.Numeric(e,r):n>o?1:o>n?-1:0}),CaseInsensitive:function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}};t.Sort=n},1047:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var r=[];return t||(Object.keys(e[0]).forEach(function(e){return r.push(e,",")}),r.pop(),r.push("\r\n")),e.forEach(function(e){v.each(e,function(e){r.push(e,",")}),r.pop(),r.push("\r\n")}),r.join("")}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(1),h=o(u),f=r(173),p=n(f),_=r(63),m=r(179),y=n(m),g=r(3),v=o(g),b=r(181),w=r(176),j=r(296),k=(r(1048),r(182)),S=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.downloadData=function(){e.props.downloadDataGenerator?(0,y.default)(l(e.props.downloadDataGenerator()||[],e.props.downloadDataContainsHeader),e.props.downloadFilename):(0,y.default)(l(e.props.tableData||[],e.props.downloadDataContainsHeader),e.props.downloadFilename)},e.handleInput=e.handleInput.bind(e),e.getText=e.getText.bind(e),e}return s(t,e),d(t,[{key:"componentDidMount",value:function(){this.props.showCopyAndDownload&&this._copyButton&&this.bindCopyButton()}},{key:"bindCopyButton",value:function(){new k(this._copyButton,{text:function(){return this.getText()}.bind(this)})}},{key:"handleInput",value:function(e){var t=this;null!==this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null);var r=e.currentTarget.value;this.searchTimeout=setTimeout(function(){t.props.handleInput&&t.props.handleInput(r)},this.props.searchDelayMs)}},{key:"render",value:function(){var e=this,t=h.createElement("div",{className:"rc-tooltip-arrow-inner"});return h.createElement("div",{className:(this.props.className||"")+""},h.createElement(_.ButtonToolbar,null,h.createElement(w.If,{condition:this.props.showPagination},h.createElement(b.PaginationControls,c({className:"pull-left"},this.props.paginationProps))),h.createElement(w.If,{condition:this.props.showHideShowColumnButton},h.createElement(j.ColumnVisibilityControls,this.props.columnVisibilityProps)),h.createElement(w.If,{condition:this.props.showCopyAndDownload},h.createElement(_.ButtonGroup,{className:this.props.copyDownloadClassName,style:{marginLeft:10}},h.createElement(p.default,{overlay:h.createElement("span",null,"Copy"),placement:"top",mouseLeaveDelay:0,mouseEnterDelay:.5,arrowContent:t},h.createElement("button",{ref:function(t){e._copyButton=t},className:"btn btn-sm btn-default","data-clipboard-text":"blablabhabha",id:"donkey","option-text":this.getText},h.createElement("i",{className:"fa fa-clipboard"}))),h.createElement(p.default,{overlay:h.createElement("span",null,"Download CSV"),mouseLeaveDelay:0,mouseEnterDelay:.5,placement:"top",arrowContent:t},h.createElement(_.Button,{className:"btn-sm",onClick:this.downloadData},h.createElement("i",{className:"fa fa-cloud-download"}))))),h.createElement(w.If,{condition:this.props.showSearch},h.createElement("div",{className:this.props.searchClassName+" form-group has-feedback input-group-sm",style:{display:"inline-block",marginLeft:10}},h.createElement("input",{type:"text",onInput:this.handleInput,className:"form-control tableSearchInput",style:{width:200}}),h.createElement("span",{className:"fa fa-search form-control-feedback","aria-hidden":"true"})))))}},{key:"getText",value:function(){return this.props.downloadDataGenerator?l(this.props.downloadDataGenerator()||[],this.props.downloadDataContainsHeader):l(this.props.tableData||[],this.props.downloadDataContainsHeader)}}]),t}(h.Component);t.default=S,S.defaultProps={showSearch:!1,showCopyAndDownload:!0,showPagination:!1,searchClassName:"",copyDownloadClassName:"",downloadFilename:"patient-clinical-attributes.tsv",downloadDataContainsHeader:!1,paginationProps:{},columnVisibilityProps:{},searchDelayMs:400}},1048:function(e,t,r){!function(t,n){e.exports=n(r(1),r(2),r(182))}(0,function(e,t,r){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";var n=r(1).default,o=r(17).default,a=r(26).default,i=r(29).default,s=r(30).default,l=r(36).default,c=r(39).default;Object.defineProperty(t,"__esModule",{value:!0});var d=r(40),u=c(d),h=r(41),f=c(h),p=function(e){function t(){i(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),a(t,[{key:"propsWith",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],r={};return l(this.props).forEach(function(n){if(-1!==n.search(e)){var o=t?n.replace(e,""):n;r[o]=this.props[n]}},this),r}},{key:"componentWillUnmount",value:function(){this.clipboard&&this.clipboard.destroy()}},{key:"componentDidMount",value:function(){var e=this.props.options||this.propsWith(/^option-/,!0),t=u.default.version.match(/0\.13(.*)/)?this.refs.element.getDOMNode():this.refs.element,n=r(42);this.clipboard=new n(t,e);var o=this.propsWith(/^on/,!0);l(o).forEach(function(e){this.clipboard.on(e.toLowerCase(),this.props["on"+e])},this)}},{key:"render",value:function(){var e=s({type:this.getType(),className:this.props.className||"",style:this.props.style||{},ref:"element",onClick:this.props.onClick},this.propsWith(/^data-/),this.propsWith(/^button-/,!0));return u.default.createElement(this.getComponent(),e,this.props.children)}},{key:"getType",value:function(){return"button"===this.getComponent()||"input"===this.getComponent()?this.props.type||"button":void 0}},{key:"getComponent",value:function(){return this.props.component||"button"}}],[{key:"propTypes",value:{options:f.default.object,type:f.default.string,className:f.default.string,style:f.default.object,component:f.default.string,children:f.default.oneOfType([f.default.element,f.default.string,f.default.number,f.default.object])},enumerable:!0},{key:"defaultProps",value:{onClick:function(){}},enumerable:!0}]),t}(u.default.Component);t.default=p,e.exports=t.default},function(e,t,r){"use strict";var n=r(2).default;t.default=function(e,t,r){for(var o=!0;o;){var a=e,i=t,s=r;o=!1,null===a&&(a=Function.prototype);var l=n(a,i);if(void 0!==l){if("value"in l)return l.value;var c=l.get;if(void 0===c)return;return c.call(s)}var d=Object.getPrototypeOf(a);if(null===d)return;e=d,t=i,r=s,o=!0,l=d=void 0}},t.__esModule=!0},function(e,t,r){e.exports={default:r(3),__esModule:!0}},function(e,t,r){var n=r(4);r(5),e.exports=function(e,t){return n.getDesc(e,t)}},function(e,t){var r=Object;e.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},function(e,t,r){var n=r(6);r(10)("getOwnPropertyDescriptor",function(e){return function(t,r){return e(n(t),r)}})},function(e,t,r){var n=r(7),o=r(9);e.exports=function(e){return n(o(e))}},function(e,t,r){var n=r(8);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(11),o=r(13),a=r(16);e.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],i={};i[e]=t(r),n(n.S+n.F*a(function(){r(1)}),"Object",i)}},function(e,t,r){var n=r(12),o=r(13),a=r(14),i=function(e,t,r){var s,l,c,d=e&i.F,u=e&i.G,h=e&i.S,f=e&i.P,p=e&i.B,_=e&i.W,m=u?o:o[t]||(o[t]={}),y=u?n:h?n[t]:(n[t]||{}).prototype;u&&(r=t);for(s in r)(l=!d&&y&&s in y)&&s in m||(c=l?y[s]:r[s],m[s]=u&&"function"!=typeof y[s]?r[s]:p&&l?a(c,n):_&&y[s]==c?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t.prototype=e.prototype,t}(c):f&&"function"==typeof c?a(Function.call,c):c,f&&((m.prototype||(m.prototype={}))[s]=c))};i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,e.exports=i},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){var r=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=r)},function(e,t,r){var n=r(15);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){"use strict";var n=r(18).default,o=r(20).default;t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=n(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o?o(e,t):e.__proto__=t)},t.__esModule=!0},function(e,t,r){e.exports={default:r(19),__esModule:!0}},function(e,t,r){var n=r(4);e.exports=function(e,t){return n.create(e,t)}},function(e,t,r){e.exports={default:r(21),__esModule:!0}},function(e,t,r){r(22),e.exports=r(13).Object.setPrototypeOf},function(e,t,r){var n=r(11);n(n.S,"Object",{setPrototypeOf:r(23).set})},function(e,t,r){var n=r(4).getDesc,o=r(24),a=r(25),i=function(e,t){if(a(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,o){try{o=r(14)(Function.call,n(Object.prototype,"__proto__").set,2),o(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return i(e,r),t?e.__proto__=r:o(e,r),e}}({},!1):void 0),check:i}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){var n=r(24);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){"use strict";var n=r(27).default;t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),n(e,o.key,o)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t.__esModule=!0},function(e,t,r){e.exports={default:r(28),__esModule:!0}},function(e,t,r){var n=r(4);e.exports=function(e,t,r){return n.setDesc(e,t,r)}},function(e,t){"use strict";t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.__esModule=!0},function(e,t,r){"use strict";var n=r(31).default;t.default=n||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t.__esModule=!0},function(e,t,r){e.exports={default:r(32),__esModule:!0}},function(e,t,r){r(33),e.exports=r(13).Object.assign},function(e,t,r){var n=r(11);n(n.S+n.F,"Object",{assign:r(34)})},function(e,t,r){var n=r(4),o=r(35),a=r(7);e.exports=r(16)(function(){var e=Object.assign,t={},r={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(e){r[e]=e}),7!=e({},t)[n]||Object.keys(e({},r)).join("")!=o})?function(e,t){for(var r=o(e),i=arguments,s=i.length,l=1,c=n.getKeys,d=n.getSymbols,u=n.isEnum;s>l;)for(var h,f=a(i[l++]),p=d?c(f).concat(d(f)):c(f),_=p.length,m=0;_>m;)u.call(f,h=p[m++])&&(r[h]=f[h]);return r}:Object.assign},function(e,t,r){var n=r(9);e.exports=function(e){return Object(n(e))}},function(e,t,r){e.exports={default:r(37),__esModule:!0}},function(e,t,r){r(38),e.exports=r(13).Object.keys},function(e,t,r){var n=r(35);r(10)("keys",function(e){return function(t){return e(n(t))}})},function(e,t){"use strict";t.default=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0},function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t){e.exports=r}])})},1049:function(e,t){},1050:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=r(1),u=o(d),h=r(855),f=o(h),p=r(13),_=r(33),m=r(914),y=n(m),g=r(884),v=r(174),b=n(v),w=r(860),j=r(1051),k=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},S=f,O=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),t}(y.default),x=function(e){function t(e){a(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.map_geneSymbol_selected=p.observable.map(),r.columns={amp:{priority:1,columnDataFunction:function(e){var t=e.rowData;return t&&(t.amp?"Amp":"Del")},name:"Amp Del",sortable:!0,filterable:!0,header:u.createElement("div",{className:(0,b.default)(S.header,S.amp,S.del)},u.createElement("span",{className:S.amp},"Amp"),u.createElement("span",{className:S.del},"Del")),formatter:function(e){var t=e.name,r=e.rowData,n=e.columnData;return u.createElement(g.Td,{key:t,column:t,value:n},!!r&&u.createElement("div",{className:r.amp?S.amp:S.del}))}},chromosome:{priority:2,dataField:"chromosome",name:"Chr",sortable:!0,filterable:!0},cytoband:{priority:3,dataField:"cytoband",name:"Cytoband",sortable:j.sortByCytoband,filterable:!0},"#":{priority:4,columnDataFunction:function(e){var t=e.rowData;return(0,j.getGeneSymbols)(t).length},name:"#",sortable:!0,filterable:!0},genes:{priority:5,columnDataFunction:function(e){var t=e.rowData;return(0,j.getGeneSymbols)(t).join(" ")},name:"Genes",sortable:function(e,t){return e.length-t.length||+(e>t)-+(e<t)},filterable:!0,formatter:function(e){var t=e.name,n=e.rowData,o=e.columnData;return u.createElement(g.Td,{key:t,column:t,value:o},u.createElement(P,{gistic:n,map_geneSymbol_selected:r.map_geneSymbol_selected}))}},qValue:{priority:6,dataField:"qValue",name:"Q-Value",sortable:!0,filterable:!0,formatter:function(e){var t=e.name,r=(e.rowData,e.columnData);return u.createElement(g.Td,{key:t,column:t,value:r},(0,w.toPrecision)(r,2,.1))}}},r.map_geneSymbol_selected.replace(e.initialSelection.map(function(e){return[e,!0]})),r}return s(t,e),l(t,[{key:"render",value:function(){var e=this;return u.createElement("div",{className:S.GisticGeneSelector},u.createElement("span",null,"Click on a gene to ",u.createElement("span",{className:(0,b.default)(S.geneToggle,S.selected,S.simulateHovered)},"select")," it."),u.createElement(O,{className:S.gisticTable,itemsName:"genes",initItemsPerPage:10,columns:this.columns,rawData:this.props.data,headerControlsProps:{showCopyAndDownload:!1,showHideShowColumnButton:!1,showPagination:!0},reactTableProps:{className:"table table-striped table-border-top",hideFilterInput:!0,defaultSort:this.columns.qValue.name}}),u.createElement("div",null,u.createElement("button",{style:{marginTop:20},className:"btn btn-primary btn-sm pull-right",onClick:function(){return e.props.onSelect(e.map_geneSymbol_selected)}},"Select")))}}]),t}(u.Component);x=k([_.observer],x),t.default=x;var P=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.showAll=!1,e}return s(t,e),l(t,[{key:"renderGeneToggles",value:function(e){var t=this;return e.map(function(e){return u.createElement(_.Observer,null,function(){var r=!!t.props.map_geneSymbol_selected.get(e);return u.createElement("span",{key:e,className:(0,b.default)(S.geneToggle,r?S.selected:S.notSelected),onClick:function(n){return t.props.map_geneSymbol_selected.set(e,!r)}},e)})})}},{key:"render",value:function(){var e=this,t=(0,j.getGeneSymbols)(this.props.gistic),r=t.slice(0,5),n=t.slice(5);return u.createElement("div",{className:S.GisticGeneToggles},u.createElement("div",{className:S.someGenes},this.renderGeneToggles(r),!!n.length&&u.createElement("a",{className:S.showMoreLess,onClick:function(){return e.showAll=!e.showAll}},this.showAll?"less":"+"+n.length+" more")),u.createElement("div",{className:S.moreGenes},this.showAll&&this.renderGeneToggles(n)))}}]),t}(u.Component);k([p.observable],P.prototype,"showAll",void 0),P=k([_.observer],P)},1051:function(e,t,r){"use strict";function n(e){return e?e.genes.map(function(e){return e.hugoGeneSymbol}):[]}function o(e,t){var r=e.match(a),n=t.match(a);return r&&n?parseInt(r[1],10)-parseInt(n[1],10)!=0?parseInt(r[1],10)-parseInt(n[1],10):"p"===r[2]&&"q"===n[2]?-1:"q"===r[2]&&"p"===n[2]?1:r[2]===n[2]?parseInt(r[3],10)-parseInt(n[3],10):0:+!!r-+!!n}Object.defineProperty(t,"__esModule",{value:!0}),t.getGeneSymbols=n,t.sortByCytoband=o;var a=new RegExp("^([0-9]{1,2})([pq])([0-9]{1,2})(?:.?)([0-9]{0,2})$")},1052:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return m.includes(e.textLabel.toLowerCase(),t.toLowerCase())}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.filterCaseSetOptions=l;var u=r(1),h=o(u),f=r(855),p=o(f),_=r(3),m=o(_),y=r(858),g=n(y),v=r(33),b=r(13),w=r(859),j=r(175),k=r(25),S=r(173),O=n(S),x=r(861),P=n(x),C=r(1053),E=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},T=p,A=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.CaseIdsModeRadio=(0,v.observer)(function(t){return h.createElement("label",null,h.createElement("input",{type:"radio",checked:e.store.caseIdsMode==t.state,onChange:function(r){r.currentTarget.checked&&(e.store.caseIdsMode=t.state)}}),t.label)}),e}return s(t,e),c(t,[{key:"render",value:function(){var e=this;return this.store.selectableSelectedStudyIds.length?h.createElement(w.FlexRow,{padded:!0,overflow:!0,className:T.CaseSetSelector,"data-test":"CaseSetSelector"},h.createElement("div",null,h.createElement(P.default,{className:"sectionLabel",secondaryComponent:h.createElement("a",{href:(0,k.getStudySummaryUrl)(this.store.selectableSelectedStudyIds),target:"_blank"},"To build your own case set, try out our enhanced Study View."),promises:[this.store.sampleLists,this.store.asyncCustomCaseSet,this.store.profiledSamplesCount]},"Select Patient/Case Set:")),h.createElement("div",null,h.createElement(g.default,{value:this.store.selectedSampleListId,options:this.caseSetOptions,filterOption:l,onChange:function(t){return e.store.selectedSampleListId=t?t.value:void 0}}),!(this.store.selectedSampleListId!==j.CUSTOM_CASE_LIST_ID)&&h.createElement(w.FlexCol,{padded:!0},h.createElement("div",{className:T.radioRow},h.createElement(w.FlexRow,{padded:!0},h.createElement(this.CaseIdsModeRadio,{label:"By sample ID",state:"sample"}),h.createElement(this.CaseIdsModeRadio,{label:"By patient ID",state:"patient"}))),h.createElement("span",null,"Enter case IDs below:"),h.createElement("textarea",{title:"Enter case IDs",rows:6,cols:80,value:this.store.caseIds,onChange:function(t){return e.store.caseIds=t.currentTarget.value},"data-test":"CustomCaseSetInput"})))):null}},{key:"caseSetOptions",get:function(){var e=this.store.sampleLists.result.map(function(e){return{label:h.createElement(O.default,{placement:"right",mouseEnterDelay:0,overlay:h.createElement("div",{className:T.tooltip},e.description)},h.createElement("span",null,e.name+" ("+e.sampleCount+")")),value:e.sampleListId,textLabel:e.name}}),t=(0,C.getFilteredCustomCaseSets)(this.store.isVirtualStudyQuery,this.store.profiledSamplesCount.result),r=t.map(function(e){return{value:e.value,label:h.createElement(O.default,{placement:"right",mouseEnterDelay:0,overlay:h.createElement("div",{className:T.tooltip},e.description)},h.createElement("span",null,e.name)),textLabel:e.name}});return e.concat(r)}}]),t}(j.QueryStoreComponent);E([b.computed],A.prototype,"caseSetOptions",null),A=E([v.observer],A),t.default=A},1053:function(e,t,r){"use strict";function n(e,t){return a.reduce(s,function(r,n){if(n.isdefault)r.push(n);else if(e){var o=t[n.value];o>0&&r.push(Object.assign({},n,{name:n.name+" ("+o+")"}))}return r},[])}Object.defineProperty(t,"__esModule",{value:!0}),t.CustomCaseSets=t.CaseSetId=void 0,t.getFilteredCustomCaseSets=n;var o=r(3),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o),i=t.CaseSetId=void 0;!function(e){e.custom="-1",e.mutation_cna="w_mut_cna",e.mutation="w_mut",e.cna="w_cna",e.all="all"}(i||(t.CaseSetId=i={}));var s=t.CustomCaseSets=[{name:"All",description:"All cases in the selected cohorts",value:i.all,isdefault:!1},{name:"Cases with mutations data",description:"All cases with mutations data",value:i.mutation,isdefault:!1},{name:"Cases with copy number alterations data",description:"All cases with copy number alterations data",value:i.cna,isdefault:!1},{name:"Cases with both mutations and copy number alterations data",description:"All cases with both mutations and copy number alterations data",value:i.mutation_cna,isdefault:!1},{name:"User-defined Case List",description:"Specify your own case list",value:i.custom,isdefault:!0}]},1054:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=r(1),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(l),d=r(33),u=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},h=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){return this.props.ids.length>0?c.createElement("div",{className:"alert alert-danger",style:{marginBottom:0}},c.createElement("i",{className:"fa fa-exclamation-triangle"})," The following studies do not exist or you do not have access to them: ",this.props.ids.join(", ")):null}}]),t}(c.Component);h=u([d.observer],h),t.default=h},1259:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),c=r(63),d=r(935),u=function(e){return e&&e.__esModule?e:{default:e}}(d);r(1260);var h=function(e){function t(){n(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.toggleState=e.toggleState.bind(e),e.state={showModal:!1},e}return a(t,e),i(t,[{key:"toggleState",value:function(){this.state.showModal?this.setState({showModal:!1}):this.setState({showModal:!0})}},{key:"render",value:function(){return l.createElement("div",null,l.createElement("button",{onClick:this.toggleState,className:"btn btn-primary"},"Modify Query"),l.createElement(c.Modal,{show:this.state.showModal,animation:!1,dialogClassName:"cbioportal-frontend queryModal",onHide:this.toggleState},l.createElement(c.ModalHeader,{closeButton:!0},l.createElement(c.Modal.Title,null,"Modify Query")),l.createElement(c.ModalBody,null,l.createElement(u.default,{store:this.props.store,onSubmit:this.toggleState}))))}}]),t}(l.Component);t.default=h},1260:function(e,t){},838:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":s(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.HomePageStore=void 0;var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c="function"==typeof Symbol&&"symbol"===s(Symbol.iterator)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":s(e)},d=r(1),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),h=r(33);r(929);var f=r(935),p=n(f),_=r(1259),m=n(_),y=r(17),g=n(y),v=r(91),b=r(64),w=n(b),j=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},k=(t.HomePageStore=function e(){i(this,e),this.data=(0,v.remoteData)({invoke:function(){return g.default.getAllStudiesUsingGET({projection:"DETAILED"})}})},function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),l(t,[{key:"getModalWrappedComponent",value:function(){return u.createElement(m.default,{store:this.props.queryStore})}},{key:"render",value:function(){var e=w.default.skinBlurb?u.createElement("p",{style:{marginBottom:"20px"},dangerouslySetInnerHTML:{__html:w.default.skinBlurb}}):null;return u.createElement("div",null,u.createElement("div",null,e),u.createElement(p.default,{store:this.props.queryStore}))}}]),t}(u.Component));k=j([(0,h.inject)("queryStore"),h.observer],k),t.default=k},854:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),c=r(177),d=r(176),u=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){return l.createElement(d.If,{condition:this.props.isLoading},l.createElement(d.Then,null,l.createElement("div",null,l.createElement(c.ThreeBounce,{style:this.props.style||{display:"inline-block",marginLeft:10}}))))}}]),t}(l.Component);t.default=u},855:function(e,t){e.exports={portalWidth:"styles-module__portalWidth__1P_Zv",QueryAndDownloadTabs:"styles-module__QueryAndDownloadTabs__ivykJ",QueryContainer:"styles-module__QueryContainer__2cy7B",errorMessage:"styles-module__errorMessage__32yZg",oqlMessage:"styles-module__oqlMessage__3xhe8",CancerStudySelector:"styles-module__CancerStudySelector__1FU50",MolecularProfileSelector:"styles-module__MolecularProfileSelector__rlomm",DataTypePrioritySelector:"styles-module__DataTypePrioritySelector__1_VUf",CaseSetSelector:"styles-module__CaseSetSelector__YteFo",GeneSetSelector:"styles-module__GeneSetSelector__2DY1b",SelectedStudiesWindow:"styles-module__SelectedStudiesWindow__NAG6X",CancerStudySelectorHeader:"styles-module__CancerStudySelectorHeader__D2N40",selectAll:"styles-module__selectAll__sQO_b",noData:"styles-module__noData__3J5xx",selectedCount:"styles-module__selectedCount__TRoaE",selectionsExist:"styles-module__selectionsExist__1icpM",cancerStudySelectorBody:"styles-module__cancerStudySelectorBody__2BfDm",cancerTypeListContainer:"styles-module__cancerTypeListContainer__rnSbV",cancerStudyListContainer:"styles-module__cancerStudyListContainer__356jB",cancerTypeList:"styles-module__cancerTypeList__ouFgb",cancerTypeListItemLabel:"styles-module__cancerTypeListItemLabel__31N8Y",cancerTypeListItemCount:"styles-module__cancerTypeListItemCount__1HB2c",selectable:"styles-module__selectable__3NCiW",selected:"styles-module__selected__Zy9_9",matchingNodeText:"styles-module__matchingNodeText__3lV9e",nonMatchingNodeText:"styles-module__nonMatchingNodeText__1l5PU",containsSelectedStudies:"styles-module__containsSelectedStudies__20v-B",searchTextInput:"styles-module__searchTextInput__1VIxV",group:"styles-module__group__Cs8DR",zScore:"styles-module__zScore__23rtN",infoIcon:"styles-module__infoIcon__zMiog",profileName:"styles-module__profileName__1fbIy",DataTypePriorityLabel:"styles-module__DataTypePriorityLabel__21k9z",radioRow:"styles-module__radioRow__1G_fF",buttonRow:"styles-module__buttonRow__51RtG",geneSet:"styles-module__geneSet__Ra6KD",notEmpty:"styles-module__notEmpty__23mDp",GeneSymbolValidator:"styles-module__GeneSymbolValidator__ZK8rf",icon:"styles-module__icon__1E8Oh",pendingMessage:"styles-module__pendingMessage__2jgIM",oqlNotice:"styles-module__oqlNotice__1tycm",validBubble:"styles-module__validBubble__QCGq3",invalidBubble:"styles-module__invalidBubble__1gB6Z",suggestionBubble:"styles-module__suggestionBubble__aRL1R",noChoiceLabel:"styles-module__noChoiceLabel__2GF5_",singleChoiceLabel:"styles-module__singleChoiceLabel__2wdqL",multiChoiceLabel:"styles-module__multiChoiceLabel__19sFa",MutSigGeneSelectorWindow:"styles-module__MutSigGeneSelectorWindow__1Uiku",MutSigGeneSelector:"styles-module__MutSigGeneSelector__25hKH",selectionColumnHeader:"styles-module__selectionColumnHeader__2MSUO",selectionColumnCell:"styles-module__selectionColumnCell__3RJ8f",selectButton:"styles-module__selectButton__2dXHK",GisticGeneSelectorWindow:"styles-module__GisticGeneSelectorWindow__1J2UG",GisticGeneSelector:"styles-module__GisticGeneSelector__U5Lb9",header:"styles-module__header__3cqyY",amp:"styles-module__amp__1zeIe",del:"styles-module__del__1_otl",gisticTable:"styles-module__gisticTable__2fquv",GisticGeneToggles:"styles-module__GisticGeneToggles__1aR6k",someGenes:"styles-module__someGenes__J-RhD",moreGenes:"styles-module__moreGenes__2gVF_",geneToggle:"styles-module__geneToggle__EGiaB",simulateHovered:"styles-module__simulateHovered__3IL_G",notSelected:"styles-module__notSelected__3-Rmx",showMoreLess:"styles-module__showMoreLess__3Ef4J",GenesetsSelectorWindow:"styles-module__GenesetsSelectorWindow__NTbph",GenesetsFormGroup:"styles-module__GenesetsFormGroup__1uJYh",GenesetsVolcanoSelectorWindow:"styles-module__GenesetsVolcanoSelectorWindow__w4nHP",GenesetsSelectionArea:"styles-module__GenesetsSelectionArea__3ebp-",transposeDataMatrix:"styles-module__transposeDataMatrix__YP_NR",submitRow:"styles-module__submitRow__k2sC8",genomeSpace:"styles-module__genomeSpace__2augo",tooltip:"styles-module__tooltip__ux3KI"}},858:function(e,t,r){e.exports=r(6)(168)},859:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var r=e.padded,n=e.overflow,o=e.flex,a=m(e,["padded","overflow","flex"]),i=Object.assign({flex:o,display:"flex",overflow:n?"visible":"auto"},e.style,{flexDirection:t}),s=(0,_.default)(e.className,f.default[t],r&&f.default.padded);return u.createElement("div",c({},a,{style:i,className:s}))}Object.defineProperty(t,"__esModule",{value:!0}),t.FlexCol=t.FlexRow=void 0;var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d=r(1),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),h=r(1012),f=n(h),p=r(174),_=n(p),m=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]]);return r};t.FlexRow=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return s(this.props,"row")}}]),t}(u.Component),t.FlexCol=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return s(this.props,"column")}}]),t}(u.Component)},860:function(e,t,r){"use strict";function n(e,t,r){return 1e-6<=e&&e<r?e.toExponential(t):e.toPrecision(t)}function o(e,t){var r=e.toFixed(t);if(0!==e&&0===parseFloat(r)){var n=t>1?s.fill(Array(t-1),"0"):[];r=(e>0?"<":">-")+"0."+n.join("")+"1"}return r}function a(e){return o(100*e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)+"%"}Object.defineProperty(t,"__esModule",{value:!0}),t.toPrecision=n,t.toFixedWithThreshold=o,t.getPercentage=a;var i=r(3),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(i)},861:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=r(1),h=o(u),f=r(33),p=r(1016),_=o(p),m=r(174),y=n(m),g=r(1017),v=n(g),b=r(177),w=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},j=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]]);return r},k=_,S=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.promises,r=e.children,n=e.className,o=e.secondaryComponent,a=j(e,["promises","children","className","secondaryComponent"]);return h.createElement("div",l({className:(0,y.default)(n,k.SectionHeader)},a),h.createElement("h2",null,r,!(!t||!t.some(function(e){return e.isPending}))&&h.createElement(b.ThreeBounce,{style:{display:"inline-block",marginLeft:10}})),!!o&&o,t&&t.map(function(e){return!!e.error&&h.createElement(v.default,{className:k.error,error:e.error})}))}}]),t}(h.Component);S=w([f.observer],S),t.default=S},862:function(e,t,r){e.exports=r(6)(715)},863:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.axisLabelStyles=t.baseLabelStyles=void 0;var n=r(3),o=["#F4511E","#FFF59D","#DCE775","#8BC34A","#00796B","#006064"],a={fontFamily:"Arial, Helvetica",width:350,height:350,padding:50},i=t.baseLabelStyles={fontFamily:"Arial, Helvetica",fontSize:12,letterSpacing:"normal",padding:8,stroke:"transparent",strokeWidth:0},s=(0,n.assign)({textAnchor:"middle"},i),l=t.axisLabelStyles=(0,n.assign)({},i,{fontSize:13,padding:8}),c={area:(0,n.assign)({style:{data:{fill:"#212121"},labels:s}},a),axis:(0,n.assign)({style:{axis:{fill:"transparent",stroke:"black",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round"},axisLabel:(0,n.assign)({},s,l),grid:{fill:"none",stroke:"#ECEFF1",strokeDasharray:"10, 5",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"visible"},ticks:{fill:"transparent",size:4,stroke:"black",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round"},tickLabels:(0,n.assign)({},i,{fill:"black",padding:2})}},a),bar:(0,n.assign)({style:{data:{fill:"#455A64",padding:8,strokeWidth:0},labels:i}},a),candlestick:(0,n.assign)({style:{data:{stroke:"#455A64"},labels:s},candleColors:{positive:"#ffffff",negative:"#455A64"}},a),chart:a,errorbar:(0,n.assign)({borderWidth:8,style:{data:{fill:"transparent",opacity:1,stroke:"#455A64",strokeWidth:2},labels:s}},a),group:(0,n.assign)({colorScale:o},a),line:(0,n.assign)({style:{data:{fill:"transparent",opacity:1,stroke:"#455A64",strokeWidth:2},labels:s}},a),pie:(0,n.assign)({colorScale:o,style:{data:{padding:8,stroke:"#ECEFF1",strokeWidth:1},labels:(0,n.assign)({},i,{padding:20})}},a),scatter:(0,n.assign)({style:{data:{fill:"#455A64",opacity:1,stroke:"transparent",strokeWidth:0},labels:s}},a),stack:(0,n.assign)({colorScale:o},a),tooltip:{style:(0,n.assign)({},s,{padding:5,pointerEvents:"none"}),flyoutStyle:{stroke:"#212121",strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"},cornerRadius:5,pointerLength:10},voronoi:(0,n.assign)({style:{data:{fill:"transparent",stroke:"transparent",strokeWidth:0},labels:(0,n.assign)({},s,{padding:5,pointerEvents:"none"}),flyout:{stroke:"#212121",strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"}}},a),legend:{colorScale:o,gutter:10,orientation:"vertical",titleOrientation:"top",style:{data:{type:"circle",size:3,strokeWidth:1,stroke:"black"},labels:i,title:(0,n.assign)({},i,{padding:5})}}};t.default=c},864:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(1),d=n(c),u=r(909),h=n(u),f=r(174),p=function(e){return e&&e.__esModule?e:{default:e}}(f),_=h,m=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleInputRef=function(t){e.input=t,e.props.inputProps&&"function"==typeof e.props.inputProps.ref&&e.props.inputProps.ref(t)},e}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.input.indeterminate=!!this.props.indeterminate}},{key:"componentDidUpdate",value:function(){this.input.indeterminate=!!this.props.indeterminate}},{key:"render",value:function(){var e=this.props.labelProps&&this.props.labelProps.className,t=(0,p.default)(_.labeledCheckbox,e);return d.createElement("label",s({className:t},this.props.labelProps),d.createElement("input",s({type:"checkbox",checked:this.props.checked,onChange:this.props.onChange,disabled:this.props.disabled},this.props.inputProps,{ref:this.handleInputRef})),this.props.children)}}]),t}(d.Component);t.default=m},866:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(1),u=n(d),h=r(2),f=n(h),p=r(1015),_=n(p),m=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.displayName="FontAwesome",e}return s(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.border,r=e.cssModule,n=e.className,a=e.fixedWidth,i=e.flip,s=e.inverse,c=e.name,d=e.pulse,h=e.rotate,f=e.size,p=e.spin,m=e.stack,y=e.tag,g=void 0===y?"span":y,v=e.ariaLabel,b=o(e,["border","cssModule","className","fixedWidth","flip","inverse","name","pulse","rotate","size","spin","stack","tag","ariaLabel"]),w=[];return r?(w.push(r.fa),w.push(r["fa-"+c]),f&&w.push(r["fa-"+f]),p&&w.push(r["fa-spin"]),d&&w.push(r["fa-pulse"]),t&&w.push(r["fa-border"]),a&&w.push(r["fa-fw"]),s&&w.push(r["fa-inverse"]),i&&w.push(r["fa-flip-"+i]),h&&w.push(r["fa-rotate-"+h]),m&&w.push(r["fa-stack-"+m])):(w.push("fa"),w.push("fa-"+c),f&&w.push("fa-"+f),p&&w.push("fa-spin"),d&&w.push("fa-pulse"),t&&w.push("fa-border"),a&&w.push("fa-fw"),s&&w.push("fa-inverse"),i&&w.push("fa-flip-"+i),h&&w.push("fa-rotate-"+h),m&&w.push("fa-stack-"+m)),n&&w.push(n),u.default.createElement(g,l({},b,{"aria-hidden":!0,className:w.join(" ")}),v?u.default.createElement("span",{style:_.default},v):null)}}]),t}(u.default.Component);m.propTypes={ariaLabel:f.default.string,border:f.default.bool,className:f.default.string,cssModule:f.default.object,fixedWidth:f.default.bool,flip:f.default.oneOf(["horizontal","vertical"]),inverse:f.default.bool,name:f.default.string.isRequired,pulse:f.default.bool,rotate:f.default.oneOf([90,180,270]),size:f.default.oneOf(["lg","2x","3x","4x","5x"]),spin:f.default.bool,stack:f.default.oneOf(["1x","2x"]),tag:f.default.string},t.default=m,e.exports=t.default},867:function(e,t,r){"use strict";function n(e){e=e||{};var t={};for(var r in e)r in o||(t[r]=e[r]);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.filterPropsFrom=n;var o={hideTableHeader:!0,column:!0,columns:!0,sortable:!0,filterable:!0,filtering:!0,onFilter:!0,filterPlaceholder:!0,filterClassName:!0,currentFilter:!0,sort:!0,sortBy:!0,sortableColumns:!0,onSort:!0,defaultSort:!0,defaultSortDescending:!0,itemsPerPage:!0,filterBy:!0,hideFilterInput:!0,noDataText:!0,currentPage:!0,onPageChange:!0,previousPageLabel:!0,nextPageLabel:!0,pageButtonLimit:!0,childNode:!0,data:!0,children:!0}},868:function(e,t,r){e.exports=r(6)(276)},875:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(911),i=(function(e){e&&e.__esModule}(a),function(){function e(){n(this,e)}return o(e,[{key:"receiveProps",value:function(e,t){this.props=e,this.itemAdapter=t}},{key:"isEmpty",value:function(e){return!this.getLength(e)}},{key:"filter",value:function(e,t){return this.toArray(e).filter(t)}},{key:"find",value:function(e,t){return this.toArray(e).find(t)}},{key:"findMatching",value:function(e,t){var r=this,n=this.itemAdapter.foldValue(t);return this.find(e,function(e){return r.itemAdapter.itemMatchesInput(e,n)})}}]),e}());t.default=i},876:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return new s(e)}function a(e){return e instanceof s}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.unsafe=o,t.isUnsafe=a;var s=function(){function e(t){n(this,e),this.content=t}return i(e,[{key:"toString",value:function(){return this.content}}]),e}()},884:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n),a=r(1040),i=r(917),s=r(918),l=r(885),c=r(919),d=r(916),u=r(1046),h=r(876);o.default.Children.children=function(e){return o.default.Children.map(e,function(e){return e})||[]},Array.prototype.find||Object.defineProperty(Array.prototype,"find",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,r=Object(this),n=r.length>>>0,o=arguments[1],a=0;a<n;a++)if(a in r&&(t=r[a],e.call(o,t,a,r)))return t}});var f={Table:a.Table,Tr:i.Tr,Td:s.Td,Th:l.Th,Tfoot:c.Tfoot,Thead:d.Thead,Sort:u.Sort,unsafe:h.unsafe};t.default=f,"undefined"!=typeof window&&(window.Reactable=f),e.exports=t.default},885:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=a,r=i,n=!0,s=c=void 0}},l=r(1),c=function(e){return e&&e.__esModule?e:{default:e}}(l),d=r(876),u=r(867),h=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"render",value:function(){return(0,d.isUnsafe)(this.props.children)?c.default.createElement("th",a({},(0,u.filterPropsFrom)(this.props),{dangerouslySetInnerHTML:{__html:this.props.children.toString()}})):c.default.createElement("th",(0,u.filterPropsFrom)(this.props),this.props.children)}}]),t}(c.default.Component);t.Th=h},909:function(e,t){e.exports={portalWidth:"styles-module__portalWidth__-Qj7G",labeledCheckbox:"styles-module__labeledCheckbox__jTAe1"}},910:function(e,t,r){e.exports=r(6)(304)},911:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return"number"==typeof e?e:e.toString()}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(){n(this,e)}return a(e,[{key:"receiveProps",value:function(e){this.props=e}},{key:"getReactKey",value:function(e){var t=this.props.itemReactKeyPropName;if(t){var r=e[t];if(null!=r)return r}return o(this.getRawValue(e))}},{key:"getSortKey",value:function(e){var t=this.props.itemSortKeyPropName;if(t){var r=e[t];if(null!=r)return r}return o(this.getRawValue(e))}},{key:"getInputValue",value:function(e){return this.getRawValue(e).toString()}},{key:"getRawValue",value:function(e){var t=this.props.itemValuePropName;if(t){var r=e[t];if(null!=r)return r}return e}},{key:"getTextRepresentations",value:function(e){return[this.foldValue(this.getInputValue(e))]}},{key:"foldValue",value:function(e){return e.toLowerCase()}},{key:"newFromValue",value:function(e){return e}},{key:"itemIncludedByInput",value:function(e,t){var r=!0,n=!1,o=void 0;try{for(var a,i=this.getTextRepresentations(e)[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){if(a.value.indexOf(t)>=0)return!0}}catch(e){n=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw o}}return!1}},{key:"itemMatchesInput",value:function(e,t){var r=!0,n=!1,o=void 0;try{for(var a,i=this.getTextRepresentations(e)[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){if(a.value===t)return!0}}catch(e){n=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw o}}return!1}},{key:"sortItems",value:function(e,t){var r=this;return e.sort(function(e,n){return r.compareItemsWithValue(e,n,t)}),e}},{key:"compareItemsWithValue",value:function(e,t,r){var n=this.itemMatchesInput(e,r);if(n!=this.itemMatchesInput(t,r))return n?-1:1;var o=this.itemInclusionRankForInput(e,r),a=this.itemInclusionRankForInput(t,r);return o!=a?o-a:this.compareItems(e,t)}},{key:"itemInclusionRankForInput",value:function(e,t){var r=!1,n=!0,o=!1,a=void 0;try{for(var i,s=this.getTextRepresentations(e)[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var l=i.value,c=l.indexOf(t);if(0===c)return 0;c>0&&(r=!0)}}catch(e){o=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return r?1:2}},{key:"compareItems",value:function(e,t){var r=this.getSortKey(e),n=this.getSortKey(t);return r<n?-1:r==n?0:1}},{key:"renderItem",value:function(e){return this.getInputValue(e)}},{key:"renderSuggested",value:function(e){return this.renderItem(e)}},{key:"renderSelected",value:function(e){return this.renderItem(e)}}]),e}();t.default=i},912:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(875),d=function(e){return e&&e.__esModule?e:{default:e}}(c),u=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"key";o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.itemKeyPropName=e,r}return i(t,e),l(t,[{key:"_getKeyValueItem",value:function(e,t){var r,o=this.itemKeyPropName,a=this.props.itemValuePropName,i=void 0===a?"value":a;return"object"==typeof t&&i in t?t[o]===e?t:s(n({},o,e),t):(r={},n(r,o,e),n(r,i,t),r)}}]),t}(d.default);t.default=u},913:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[{id:"Prostate Cancer: AR Signaling",genes:["SOX9","RAN","TNK2","EP300","PXN","NCOA2","AR","NRIP1","NCOR1","NCOR2"]},{id:"Prostate Cancer: AR and steroid synthesis enzymes",genes:["AKR1C3","AR","CYB5A","CYP11A1","CYP11B1","CYP11B2","CYP17A1","CYP19A1","CYP21A2","HSD17B1","HSD17B10","HSD17B11","HSD17B12","HSD17B13","HSD17B14","HSD17B2","HSD17B3","HSD17B4","HSD17B6","HSD17B7","HSD17B8","HSD3B1","HSD3B2","HSD3B7","RDH5","SHBG","SRD5A1","SRD5A2","SRD5A3","STAR"]},{id:"Prostate Cancer: Steroid inactivating genes",genes:["AKR1C1","AKR1C2","AKR1C4","CYP3A4","CYP3A43","CYP3A5","CYP3A7","UGT2B15","UGT2B17","UGT2B7"]},{id:"Prostate Cancer: Down-regulated by androgen",genes:["BCHE","CDK8","CTBP1","ACKR3","DDC","DPH1","FN1","HES6","MMP16","MYC","PEG3","PIK3R3","PRKD1","SCNN1A","SDC4","SERPINI1","SLC29A1","ST7","TULP4"]},{id:"Glioblastoma: TP53 Pathway",genes:["CDKN2A","MDM2","MDM4","TP53"]},{id:"Glioblastoma: RTK/Ras/PI3K/AKT Signaling",genes:["EGFR","ERBB2","PDGFRA","MET","KRAS","NRAS","HRAS","NF1","SPRY2","FOXO1","FOXO3","AKT1","AKT2","AKT3","PIK3R1","PIK3CA","PTEN"]},{id:"Glioblastoma: RB Pathway",genes:["CDKN2A","CDKN2B","CDKN2C","CDK4","CDK6","CCND2","RB1"]},{id:"Ovarian Cancer: Oncogenes associated with epithelial ovarian cancer",genes:["RAB25","MECOM","EIF5A2","PRKCI","PIK3CA","KIT","FGF1","MYC","EGFR","NOTCH3","KRAS","AKT1","ERBB2","PIK3R1","CCNE1","AKT2","AURKA"]},{id:"Ovarian Cancer: Putative tumor-suppressor genes in epithelial ovarian cancer",genes:["DIRAS3","RASSF1","DLEC1","SPARC","DAB2","PLAGL1","RPS6KA2","PTEN","OPCML","BRCA2","ARL11","WWOX","TP53","DPH1","BRCA1","PEG3"]},{id:"General: Cell Cycle Control",genes:["RB1","RBL1","RBL2","CCNA1","CCNB1","CDK1","CCNE1","CDK2","CDC25A","CCND1","CDK4","CDK6","CCND2","CDKN2A","CDKN2B","MYC","CDKN1A","CDKN1B","E2F1","E2F2","E2F3","E2F4","E2F5","E2F6","E2F7","E2F8","SRC","JAK1","JAK2","STAT1","STAT2","STAT3","STAT5A","STAT5B"]},{id:"General: p53 signaling",genes:["TP53","MDM2","MDM4","CDKN2A","CDKN2B","TP53BP1"]},{id:"General: Notch signaling",genes:["ADAM10","ADAM17","APH1A","APH1B","ARRDC1","CIR1","CTBP1","CTBP2","CUL1","DLL1","DLL3","DLL4","DTX1","DTX2","DTX3","DTX3L","DTX4","EP300","FBXW7","HDAC1","HDAC2","HES1","HES5","HEYL","ITCH","JAG1","JAG2","KDM5A","LFNG","MAML1","MAML2","MAML3","MFNG","NCOR2","NCSTN","NOTCH1","NOTCH2","NOTCH3","NOTCH4","NRARP","NUMB","NUMBL","PSEN1","PSEN2","PSENEN","RBPJ","RBPJL","RFNG","SNW1","SPEN","HES2","HES4","HES7","HEY1","HEY2"]},{id:"General: DNA Damage Response",genes:["CHEK1","CHEK2","RAD51","BRCA1","BRCA2","MLH1","MSH2","ATM","ATR","MDC1","PARP1","FANCF"]},{id:"General: Other growth / proliferation signaling",genes:["CSF1","CSF1R","IGF1","IGF1R","FGF1","FGFR1","AURKA","DLEC1","PLAGL1","OPCML","DPH1"]},{id:"General: Survival / cell death regulation signaling",genes:["NFKB1","NFKB2","CHUK","DIRAS3","FAS","HLA-G","BAD","BCL2","BCL2L1","APAF1","CASP9","CASP8","CASP10","CASP3","CASP6","CASP7","GSK3B","ARL11","WWOX","PEG3","TGFB1","TGFBR1","TGFBR2"]},{id:"General: Telomere maintenance",genes:["TERC","TERT"]},{id:"General: RTK signaling family",genes:["EGFR","ERBB2","ERBB3","ERBB4","PDGFA","PDGFB","PDGFRA","PDGFRB","KIT","FGF1","FGFR1","IGF1","IGF1R","VEGFA","VEGFB","KDR"]},{id:"General: PI3K-AKT-mTOR signaling",genes:["PIK3CA","PIK3R1","PIK3R2","PTEN","PDPK1","AKT1","AKT2","FOXO1","FOXO3","MTOR","RICTOR","TSC1","TSC2","RHEB","AKT1S1","RPTOR","MLST8"]},{id:"General: Ras-Raf-MEK-Erk/JNK signaling",genes:["KRAS","HRAS","BRAF","RAF1","MAP3K1","MAP3K2","MAP3K3","MAP3K4","MAP3K5","MAP2K1","MAP2K2","MAP2K3","MAP2K4","MAP2K5","MAPK1","MAPK3","MAPK4","MAPK6","MAPK7","MAPK8","MAPK9","MAPK12","MAPK14","DAB2","RASSF1","RAB25"]},{id:"General: Regulation of ribosomal protein synthesis and cell growth",genes:["RPS6KA1","RPS6KA2","RPS6KB1","RPS6KB2","EIF5A2","EIF4E","EIF4EBP1","RPS6","HIF1A"]},{id:"General: Angiogenesis",genes:["VEGFA","VEGFB","KDR","CXCL8","CXCR1","CXCR2"]},{id:"General: Folate transport",genes:["SLC19A1","FOLR1","FOLR2","FOLR3","IZUMO1R"]},{id:"General: Invasion and metastasis",genes:["MMP1","MMP2","MMP3","MMP7","MMP9","MMP10","MMP11","MMP12","MMP13","MMP14","MMP15","MMP16","MMP17","MMP19","MMP21","MMP23B","MMP24","MMP25","MMP26","MMP27","MMP28","ITGB3","ITGAV","PTK2","CDH1","SPARC","WFDC2"]}];t.default=n},914:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(1),u=o(d),h=r(1039),f=r(884),p=r(173),_=n(p),m=r(3),y=o(m),g=r(1047),v=n(g);r(1049);var b=function(e){function t(e){a(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.rawDataSelector=function(e,t){return t.rawData},r.columnsSelector=function(e,t){return t.columns},r.columnVisibilitySelector=function(e){return e.columnVisibility},r.visibleColsSelector=(0,h.createSelector)(r.columnsSelector,r.columnVisibilitySelector,function(e,t){return r.resolveVisible(e,t)}),r.sortedVisibleColsSelector=(0,h.createSelector)(r.visibleColsSelector,function(e){return r.resolveOrder(e)}),r.sortedColsSelector=(0,h.createSelector)(r.columnsSelector,function(e){return r.resolveOrder(e)}),r.columnVisibilityArraySelector=(0,h.createSelector)(r.sortedColsSelector,r.columnVisibilitySelector,function(e,t){return r.resolveColumnVisibility(r.colNameToId,e,t)}),r.downloadDataSelector=(0,h.createSelector)(r.sortedColsSelector,r.columnVisibilitySelector,r.rawDataSelector,function(e,t,n){return r.generateDownloadData(e,t,n)}),r.headersSelector=(0,h.createSelector)(r.sortedVisibleColsSelector,function(e){return r.generateHeaders(e)}),r.rowsSelector=(0,h.createSelector)(r.sortedColsSelector,r.rawDataSelector,function(e,t){return r.generateRows(e,t)}),r.colNameToId=r.mapColNameToId(e.columns),r.state={columnVisibility:t.resolveVisibility(e.columns,e.rawData),sortableColumns:r.resolveSortable(r.props.columns||{}),filterableColumns:r.resolveFilterable(r.props.columns||{}),filter:"",itemsPerPage:r.props.initItemsPerPage||25,currentPage:r.props.initPage||0},r.filteredDataLength=e.rawData.length,r.shouldSetState=!1;var n=function(e){e!==r.filteredDataLength&&(r.filteredDataLength=e,r.shouldSetState=!0)},o=function(e){var t=e.props.children.find(function(e){return"tbody"===e.type}),n=t.props.children||[];r.props.onVisibleRowsChange&&r.props.onVisibleRowsChange(n.map(function(e){return e.props.rowData}))},s=f.Table.prototype.applyFilter;f.Table.prototype.applyFilter=function(){var e=s.apply(this,arguments);return n(e.length),e};var l=f.Table.prototype.render;return f.Table.prototype.render=function(){var e=l.apply(this,arguments);return o(e),e},r.handleDownload=r.handleDownload.bind(r),r.handleFilterInput=r.handleFilterInput.bind(r),r.handleVisibilityToggle=r.handleVisibilityToggle.bind(r),r.handleChangeItemsPerPage=r.handleChangeItemsPerPage.bind(r),r.handlePreviousPageClick=r.handlePreviousPageClick.bind(r),r.handleNextPageClick=r.handleNextPageClick.bind(r),r}return s(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.reactTableProps,n=e.headerControlsProps,o=(this.columnVisibilityArraySelector(this.state,this.props),this.headersSelector(this.state,this.props)),a=this.rowsSelector(this.state,this.props),i=this.rowIndexesOnPage(),s=i.firstIndex,c=i.numIndexes;return u.createElement("div",{className:t},u.createElement(v.default,l({showCopyAndDownload:!0,showHideShowColumnButton:!0,handleInput:this.handleFilterInput,downloadDataGenerator:this.handleDownload,downloadDataContainsHeader:!0,downloadFilename:"mutations.csv",showSearch:!0,columnVisibilityProps:{className:"pull-right",onColumnToggled:this.handleVisibilityToggle},paginationProps:{className:"pull-right",itemsPerPage:this.state.itemsPerPage,currentPage:this.state.currentPage,onChangeItemsPerPage:this.handleChangeItemsPerPage,onPreviousPageClick:this.handlePreviousPageClick,onNextPageClick:this.handleNextPageClick,textBetweenButtons:(this.filteredDataLength?s+1:0)+"-"+(s+c)+" of "+this.filteredDataLength,previousPageDisabled:0===this.state.currentPage,nextPageDisabled:this.state.currentPage>=this.numPages()-1}},n)),u.createElement(f.Table,l({sortable:this.state.sortableColumns,filterable:this.state.filterableColumns,filterBy:this.state.filter,itemsPerPage:-1===this.state.itemsPerPage?void 0:this.state.itemsPerPage,currentPage:this.state.currentPage},r),o,a))}},{key:"componentWillUpdate",value:function(e,t){0===t.filter.length&&(this.filteredDataLength=this.props.rawData.length)}},{key:"componentDidUpdate",value:function(){this.shouldSetState&&(this.shouldSetState=!1,this.setState({currentPage:Math.max(0,Math.min(this.state.currentPage,this.numPages()-1))}))}},{key:"rowIndexesOnPage",value:function(){var e=void 0,t=void 0;return-1===this.state.itemsPerPage?(e=0,t=this.filteredDataLength):(e=this.state.itemsPerPage*this.state.currentPage,t=Math.min(this.filteredDataLength-e,this.state.itemsPerPage)),{firstIndex:e,numIndexes:t}}},{key:"numPages",value:function(e){return e=e||this.state.itemsPerPage,-1===e?1:Math.ceil(this.filteredDataLength/e)}},{key:"mapColNameToId",value:function(e){var t={};return e&&y.each(e,function(e,r){e.name&&(t[e.name],t[e.name]=r)}),t}},{key:"resolveOrder",value:function(e){return e?y.values(e).sort(t.columnSort):[]}},{key:"resolveColumnVisibility",value:function(e,t,r){var n=[];return y.each(t,function(t){var o=e[t.name];r[o]&&n.push({id:o,name:t.name,visibility:r[o]})}),n}},{key:"generateHeaders",value:function(e){var t=[];return y.each(e,function(e){var r=e.header||u.createElement("span",null,e.name);if(e.description){var n=u.createElement("div",{className:"rc-tooltip-arrow-inner"});r=u.createElement(_.default,{overlay:u.createElement("span",null,e.description),placement:"top",arrowContent:n},r)}t.push(u.createElement(f.Th,{key:e.name,column:e.name},r))}),t}},{key:"generateDownloadData",value:function(e,t,r){var n=this,o=[];return o[0]=[],y.each(e,function(e){var r=n.colNameToId[e.name];r in t&&"excluded"!==t[r]&&o[0].push(e.name)}),y.each(r,function(a,i){var s=[];y.each(e,function(e){var o=n.colNameToId[e.name];if(o in t&&"excluded"!==t[o]){var i=n.getColumnData(e,r,a);e.downloader?s.push(e.downloader(i,e.columnProps)):s.push((i.columnData||"").toString())}}),o.push(s)}),o}},{key:"getColumnData",value:function(e,t,r){var n={name:e.name,tableData:t,rowData:r,columnData:null};if(e.columnDataFunction)n.columnData=e.columnDataFunction(n);else if(e.dataField){var o=null;o=y.isArray(n.rowData)&&n.rowData.length>0?n.rowData[0]:n.rowData,o&&(n.columnData=o[e.dataField])}return n}},{key:"generateRows",value:function(e,t){var r=this,n=[];return y.each(t,function(o,a){var i=r.generateColumns(e,t,o);n.push(u.createElement(f.Tr,{key:a,rowData:o},i))}),n}},{key:"generateColumns",value:function(e,t,r){var n=this,o=[];return y.each(e,function(e){var a=n.getColumnData(e,t,r);o.push(n.generateColumn(a,e))}),o}},{key:"generateColumn",value:function(e,t){return t.formatter?t.formatter(e,t.columnProps):u.createElement(f.Td,{key:t.name,column:t.name,value:e.columnData},e.columnData)}},{key:"resolveVisible",value:function(e,t){var r={};return y.each(y.keys(t),function(n){"visible"===t[n]&&(r[n]=e[n])}),r}},{key:"resolveSortable",value:function(e){var t=[];return y.each(e,function(e){y.isFunction(e.sortable)?t.push({column:e.name,sortFunction:e.sortable}):e.sortable&&t.push(e.name)}),t}},{key:"resolveFilterable",value:function(e){var t=[];return y.each(e,function(e){y.isFunction(e.filterable)?t.push({column:e.name,filterFunction:e.filterable}):e.filterable&&t.push(e.name)}),t}},{key:"handleFilterInput",value:function(e){this.setState({filter:e})}},{key:"handleDownload",value:function(){return this.downloadDataSelector(this.state,this.props)}},{key:"handleVisibilityToggle",value:function(e){var t=e,r=this.state.columnVisibility[t],n=Object.assign({},this.state.columnVisibility);"hidden"===r?r="visible":"visible"===r&&(r="hidden"),n[t]=r,this.setState({columnVisibility:n})}},{key:"handleChangeItemsPerPage",value:function(e){this.setState({itemsPerPage:e,currentPage:Math.min(this.state.currentPage,this.numPages(e)-1)})}},{key:"handlePreviousPageClick",value:function(){this.setState({currentPage:Math.max(0,this.state.currentPage-1)})}},{key:"handleNextPageClick",value:function(){this.setState({currentPage:Math.min(this.state.currentPage+1,this.numPages()-1)})}}],[{key:"resolveVisibility",value:function(e,t){var r={};return e?(y.each(y.keys(e),function(n){var o=e[n],a="visible";o.visible&&(a=y.isFunction(o.visible)?o.visible(t,o.columnProps):o.visible),"excluded"!==a&&(r[n]=a)}),r):r}},{key:"columnSort",value:function(e,t){return e.priority&&t.priority?e.priority-t.priority:e.priority?-1:t.priority?1:e.name>t.name?1:-1}}]),t}(u.Component);t.default=b},915:function(e,t,r){"use strict";function n(e){return null!==e&&void 0!==e&&typeof("function"===e.toString)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringable=n},916:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=a,r=i,n=!0,s=c=void 0}},l=r(1),c=function(e){return e&&e.__esModule?e:{default:e}}(l),d=r(885),u=r(1042),h=r(867),f=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"handleClickTh",value:function(e){this.props.onSort(e.key)}},{key:"handleKeyDownTh",value:function(e,t){13===t.keyCode&&this.props.onSort(e.key)}},{key:"render",value:function(){for(var e=[],t=0;t<this.props.columns.length;t++){var r=this.props.columns[t],n="reactable-th-"+r.key.replace(/\s+/g,"-").toLowerCase(),o="",i=null;this.props.sortableColumns[r.key]&&(o+="reactable-header-sortable ",i="button"),this.props.sort.column===r.key&&(o+="reactable-header-sort",1===this.props.sort.direction?o+="-asc":o+="-desc"),o.length>0&&(n+=" "+o),"object"==typeof r.props&&"string"==typeof r.props.className&&(n+=" "+r.props.className),e.push(c.default.createElement(d.Th,a({},r.props,{className:n,key:t,onClick:this.handleClickTh.bind(this,r),onKeyDown:this.handleKeyDownTh.bind(this,r),role:i,tabIndex:"0"}),r.label))}var s=(0,h.filterPropsFrom)(this.props);return c.default.createElement("thead",s,!0===this.props.filtering?c.default.createElement(u.Filterer,{colSpan:this.props.columns.length,onFilter:this.props.onFilter,placeholder:this.props.filterPlaceholder,value:this.props.currentFilter,className:this.props.filterClassName}):null,c.default.createElement("tr",{className:"reactable-column-header"},e))}}],[{key:"getColumns",value:function(e){var t=[];return c.default.Children.forEach(e.props.children,function(e){var r={};if(void 0!==e.props&&(r.props=(0,h.filterPropsFrom)(e.props),void 0!==e.props.children&&(r.label=e.props.children,r.key=r.label),"string"==typeof e.props.column&&(r.key=e.props.column,void 0===r.label&&(r.label=r.key))),void 0===r.key)throw new TypeError('<th> must have either a "column" property or a string child');t.push(r)}),t}}]),t}(c.default.Component);t.Thead=f},917:function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=a,r=i,n=!0,s=c=void 0}},c=r(1),d=function(e){return e&&e.__esModule?e:{default:e}}(c),u=r(918),h=r(1044),f=r(867),p=function(e){function t(){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),s(t,[{key:"render",value:function(){var e=(0,h.toArray)(d.default.Children.children(this.props.children));this.props.data&&this.props.columns&&"function"==typeof this.props.columns.map&&(void 0===e.concat&&console.log(e),e=e.concat(this.props.columns.map(function(e,t){var r=e.props,o=void 0===r?{}:r,a=n(e,["props"]);if(this.props.data.hasOwnProperty(a.key)){var s=this.props.data[a.key];return void 0!==s&&null!==s&&!0===s.__reactableMeta&&(o=s.props,s=s.value),d.default.createElement(u.Td,i({column:a,key:a.key},o),s)}return d.default.createElement(u.Td,{column:a,key:a.key})}.bind(this))));var t=(0,f.filterPropsFrom)(this.props);return d.default.DOM.tr(t,e)}}]),t}(d.default.Component);t.Tr=p,p.childNode=u.Td,p.dataType="object"},918:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=a,r=i,n=!0,s=c=void 0}},l=r(1),c=function(e){return e&&e.__esModule?e:{default:e}}(l),d=r(1043),u=r(915),h=r(876),f=r(867),p=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"stringifyIfNotReactComponent",value:function(e){return!(0,d.isReactComponent)(e)&&(0,u.stringable)(e)&&void 0!==e?e.toString():null}},{key:"render",value:function(){var e=(0,f.filterPropsFrom)(this.props);if("object"==typeof this.props.column)for(var t in this.props.column)"key"!==t&&"name"!==t&&(e[t]=this.props.column[t]);e.onClick=this.props.handleClick;var r;return void 0===this.props.data&&(r=this.stringifyIfNotReactComponent(this.props.children)),(0,h.isUnsafe)(this.props.children)?c.default.createElement("td",a({},e,{dangerouslySetInnerHTML:{__html:this.props.children.toString()}})):c.default.createElement("td",e,r||this.props.children)}}]),t}(c.default.Component);t.Td=p},919:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e,t,r){for(var n=!0;n;){var o=e,a=t,i=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=a,r=i,n=!0,s=c=void 0}},s=r(1),l=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(){n(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),a(t,[{key:"render",value:function(){return l.default.createElement("tfoot",this.props)}}]),t}(l.default.Component);t.Tfoot=c},929:function(e,t){},935:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=r(1),d=n(c),u=r(63),h=r(855),f=n(h),p=r(33),_=r(1010),m=function(e){return e&&e.__esModule?e:{default:e}}(_),y=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},g=f,v="download",b=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onSelectTab=function(t){e.store.forDownloadTab=t===v},e}return i(t,e),s(t,[{key:"render",value:function(){return d.createElement("div",{className:g.QueryAndDownloadTabs},d.createElement(u.Tabs,{id:"QueryAndDownloadTabs",animation:!1,activeKey:this.store.forDownloadTab?v:"query",onSelect:this.onSelectTab},d.createElement(u.Tab,{eventKey:"query",title:"Query"}),!1!==this.props.showDownloadTab&&d.createElement(u.Tab,{eventKey:"download",title:"Download Data"})),d.createElement(m.default,{onSubmit:this.props.onSubmit,store:this.props.store}))}},{key:"store",get:function(){return this.props.store}}]),t}(d.Component);b=y([p.observer],b),t.default=b}});
//# sourceMappingURL=2.134bd9c017c21ae9439e.chunk.js.map